var ck=Object.defineProperty;var uk=(n,e,t)=>e in n?ck(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var At=(n,e,t)=>uk(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var _B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var b1={exports:{}},cf={},w1={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function hk(){if(rx)return tn;rx=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(Z){return Z===null||typeof Z!="object"?null:(Z=y&&Z[y]||Z["@@iterator"],typeof Z=="function"?Z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function T(Z,V,K){this.props=Z,this.context=V,this.refs=A,this.updater=K||v}T.prototype.isReactComponent={},T.prototype.setState=function(Z,V){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,V,"setState")},T.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function E(){}E.prototype=T.prototype;function M(Z,V,K){this.props=Z,this.context=V,this.refs=A,this.updater=K||v}var q=M.prototype=new E;q.constructor=M,S(q,T.prototype),q.isPureReactComponent=!0;var re=Array.isArray,J=Object.prototype.hasOwnProperty,te={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function C(Z,V,K){var ee,ce={},fe=null,Se=null;if(V!=null)for(ee in V.ref!==void 0&&(Se=V.ref),V.key!==void 0&&(fe=""+V.key),V)J.call(V,ee)&&!L.hasOwnProperty(ee)&&(ce[ee]=V[ee]);var _e=arguments.length-2;if(_e===1)ce.children=K;else if(1<_e){for(var Ne=Array(_e),Me=0;Me<_e;Me++)Ne[Me]=arguments[Me+2];ce.children=Ne}if(Z&&Z.defaultProps)for(ee in _e=Z.defaultProps,_e)ce[ee]===void 0&&(ce[ee]=_e[ee]);return{$$typeof:n,type:Z,key:fe,ref:Se,props:ce,_owner:te.current}}function B(Z,V){return{$$typeof:n,type:Z.type,key:V,ref:Z.ref,props:Z.props,_owner:Z._owner}}function z(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function j(Z){var V={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(K){return V[K]})}var P=/\/+/g;function O(Z,V){return typeof Z=="object"&&Z!==null&&Z.key!=null?j(""+Z.key):V.toString(36)}function ne(Z,V,K,ee,ce){var fe=typeof Z;(fe==="undefined"||fe==="boolean")&&(Z=null);var Se=!1;if(Z===null)Se=!0;else switch(fe){case"string":case"number":Se=!0;break;case"object":switch(Z.$$typeof){case n:case e:Se=!0}}if(Se)return Se=Z,ce=ce(Se),Z=ee===""?"."+O(Se,0):ee,re(ce)?(K="",Z!=null&&(K=Z.replace(P,"$&/")+"/"),ne(ce,V,K,"",function(Me){return Me})):ce!=null&&(z(ce)&&(ce=B(ce,K+(!ce.key||Se&&Se.key===ce.key?"":(""+ce.key).replace(P,"$&/")+"/")+Z)),V.push(ce)),1;if(Se=0,ee=ee===""?".":ee+":",re(Z))for(var _e=0;_e<Z.length;_e++){fe=Z[_e];var Ne=ee+O(fe,_e);Se+=ne(fe,V,K,Ne,ce)}else if(Ne=b(Z),typeof Ne=="function")for(Z=Ne.call(Z),_e=0;!(fe=Z.next()).done;)fe=fe.value,Ne=ee+O(fe,_e++),Se+=ne(fe,V,K,Ne,ce);else if(fe==="object")throw V=String(Z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Se}function de(Z,V,K){if(Z==null)return Z;var ee=[],ce=0;return ne(Z,ee,"","",function(fe){return V.call(K,fe,ce++)}),ee}function ye(Z){if(Z._status===-1){var V=Z._result;V=V(),V.then(function(K){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=K)},function(K){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=K)}),Z._status===-1&&(Z._status=0,Z._result=V)}if(Z._status===1)return Z._result.default;throw Z._result}var oe={current:null},ae={transition:null},ge={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:ae,ReactCurrentOwner:te};function me(){throw Error("act(...) is not supported in production builds of React.")}return tn.Children={map:de,forEach:function(Z,V,K){de(Z,function(){V.apply(this,arguments)},K)},count:function(Z){var V=0;return de(Z,function(){V++}),V},toArray:function(Z){return de(Z,function(V){return V})||[]},only:function(Z){if(!z(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},tn.Component=T,tn.Fragment=t,tn.Profiler=i,tn.PureComponent=M,tn.StrictMode=r,tn.Suspense=u,tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,tn.act=me,tn.cloneElement=function(Z,V,K){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var ee=S({},Z.props),ce=Z.key,fe=Z.ref,Se=Z._owner;if(V!=null){if(V.ref!==void 0&&(fe=V.ref,Se=te.current),V.key!==void 0&&(ce=""+V.key),Z.type&&Z.type.defaultProps)var _e=Z.type.defaultProps;for(Ne in V)J.call(V,Ne)&&!L.hasOwnProperty(Ne)&&(ee[Ne]=V[Ne]===void 0&&_e!==void 0?_e[Ne]:V[Ne])}var Ne=arguments.length-2;if(Ne===1)ee.children=K;else if(1<Ne){_e=Array(Ne);for(var Me=0;Me<Ne;Me++)_e[Me]=arguments[Me+2];ee.children=_e}return{$$typeof:n,type:Z.type,key:ce,ref:fe,props:ee,_owner:Se}},tn.createContext=function(Z){return Z={$$typeof:a,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},tn.createElement=C,tn.createFactory=function(Z){var V=C.bind(null,Z);return V.type=Z,V},tn.createRef=function(){return{current:null}},tn.forwardRef=function(Z){return{$$typeof:l,render:Z}},tn.isValidElement=z,tn.lazy=function(Z){return{$$typeof:p,_payload:{_status:-1,_result:Z},_init:ye}},tn.memo=function(Z,V){return{$$typeof:d,type:Z,compare:V===void 0?null:V}},tn.startTransition=function(Z){var V=ae.transition;ae.transition={};try{Z()}finally{ae.transition=V}},tn.unstable_act=me,tn.useCallback=function(Z,V){return oe.current.useCallback(Z,V)},tn.useContext=function(Z){return oe.current.useContext(Z)},tn.useDebugValue=function(){},tn.useDeferredValue=function(Z){return oe.current.useDeferredValue(Z)},tn.useEffect=function(Z,V){return oe.current.useEffect(Z,V)},tn.useId=function(){return oe.current.useId()},tn.useImperativeHandle=function(Z,V,K){return oe.current.useImperativeHandle(Z,V,K)},tn.useInsertionEffect=function(Z,V){return oe.current.useInsertionEffect(Z,V)},tn.useLayoutEffect=function(Z,V){return oe.current.useLayoutEffect(Z,V)},tn.useMemo=function(Z,V){return oe.current.useMemo(Z,V)},tn.useReducer=function(Z,V,K){return oe.current.useReducer(Z,V,K)},tn.useRef=function(Z){return oe.current.useRef(Z)},tn.useState=function(Z){return oe.current.useState(Z)},tn.useSyncExternalStore=function(Z,V,K){return oe.current.useSyncExternalStore(Z,V,K)},tn.useTransition=function(){return oe.current.useTransition()},tn.version="18.3.1",tn}var ix;function _y(){return ix||(ix=1,w1.exports=hk()),w1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function dk(){if(sx)return cf;sx=1;var n=_y(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,u,d){var p,y={},b=null,v=null;d!==void 0&&(b=""+d),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(y[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)y[p]===void 0&&(y[p]=u[p]);return{$$typeof:e,type:l,key:b,ref:v,props:y,_owner:i.current}}return cf.Fragment=t,cf.jsx=a,cf.jsxs=a,cf}var ax;function fk(){return ax||(ax=1,b1.exports=dk()),b1.exports}var h=fk(),se=_y();const Ga=Wg(se);var um={},_1={exports:{}},Ws={},N1={exports:{}},S1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function pk(){return ox||(ox=1,function(n){function e(ae,ge){var me=ae.length;ae.push(ge);e:for(;0<me;){var Z=me-1>>>1,V=ae[Z];if(0<i(V,ge))ae[Z]=ge,ae[me]=V,me=Z;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ge=ae[0],me=ae.pop();if(me!==ge){ae[0]=me;e:for(var Z=0,V=ae.length,K=V>>>1;Z<K;){var ee=2*(Z+1)-1,ce=ae[ee],fe=ee+1,Se=ae[fe];if(0>i(ce,me))fe<V&&0>i(Se,ce)?(ae[Z]=Se,ae[fe]=me,Z=fe):(ae[Z]=ce,ae[ee]=me,Z=ee);else if(fe<V&&0>i(Se,me))ae[Z]=Se,ae[fe]=me,Z=fe;else break e}}return ge}function i(ae,ge){var me=ae.sortIndex-ge.sortIndex;return me!==0?me:ae.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],d=[],p=1,y=null,b=3,v=!1,S=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ae){for(var ge=t(d);ge!==null;){if(ge.callback===null)r(d);else if(ge.startTime<=ae)r(d),ge.sortIndex=ge.expirationTime,e(u,ge);else break;ge=t(d)}}function re(ae){if(A=!1,q(ae),!S)if(t(u)!==null)S=!0,ye(J);else{var ge=t(d);ge!==null&&oe(re,ge.startTime-ae)}}function J(ae,ge){S=!1,A&&(A=!1,E(C),C=-1),v=!0;var me=b;try{for(q(ge),y=t(u);y!==null&&(!(y.expirationTime>ge)||ae&&!j());){var Z=y.callback;if(typeof Z=="function"){y.callback=null,b=y.priorityLevel;var V=Z(y.expirationTime<=ge);ge=n.unstable_now(),typeof V=="function"?y.callback=V:y===t(u)&&r(u),q(ge)}else r(u);y=t(u)}if(y!==null)var K=!0;else{var ee=t(d);ee!==null&&oe(re,ee.startTime-ge),K=!1}return K}finally{y=null,b=me,v=!1}}var te=!1,L=null,C=-1,B=5,z=-1;function j(){return!(n.unstable_now()-z<B)}function P(){if(L!==null){var ae=n.unstable_now();z=ae;var ge=!0;try{ge=L(!0,ae)}finally{ge?O():(te=!1,L=null)}}else te=!1}var O;if(typeof M=="function")O=function(){M(P)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,de=ne.port2;ne.port1.onmessage=P,O=function(){de.postMessage(null)}}else O=function(){T(P,0)};function ye(ae){L=ae,te||(te=!0,O())}function oe(ae,ge){C=T(function(){ae(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){S||v||(S=!0,ye(J))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(ae){switch(b){case 1:case 2:case 3:var ge=3;break;default:ge=b}var me=b;b=ge;try{return ae()}finally{b=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var me=b;b=ae;try{return ge()}finally{b=me}},n.unstable_scheduleCallback=function(ae,ge,me){var Z=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Z+me:Z):me=Z,ae){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=me+V,ae={id:p++,callback:ge,priorityLevel:ae,startTime:me,expirationTime:V,sortIndex:-1},me>Z?(ae.sortIndex=me,e(d,ae),t(u)===null&&ae===t(d)&&(A?(E(C),C=-1):A=!0,oe(re,me-Z))):(ae.sortIndex=V,e(u,ae),S||v||(S=!0,ye(J))),ae},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ae){var ge=b;return function(){var me=b;b=ge;try{return ae.apply(this,arguments)}finally{b=me}}}}(S1)),S1}var lx;function mk(){return lx||(lx=1,N1.exports=pk()),N1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function gk(){if(cx)return Ws;cx=1;var n=_y(),e=mk();function t(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,c){a(o,c),a(o+"Capture",c)}function a(o,c){for(i[o]=c,o=0;o<c.length;o++)r.add(c[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function b(o){return u.call(y,o)?!0:u.call(p,o)?!1:d.test(o)?y[o]=!0:(p[o]=!0,!1)}function v(o,c,f,x){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,c,f,x){if(c===null||typeof c>"u"||v(o,c,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function A(o,c,f,x,N,R,$){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=N,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=R,this.removeEmptyString=$}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new A(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];T[c]=new A(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new A(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new A(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new A(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new A(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new A(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new A(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new A(o,5,!1,o.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(E,M);T[c]=new A(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(E,M);T[c]=new A(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(E,M);T[c]=new A(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new A(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new A(o,1,!1,o.toLowerCase(),null,!0,!0)});function q(o,c,f,x){var N=T.hasOwnProperty(c)?T[c]:null;(N!==null?N.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,f,N,x)&&(f=null),x||N===null?b(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):N.mustUseProperty?o[N.propertyName]=f===null?N.type===3?!1:"":f:(c=N.attributeName,x=N.attributeNamespace,f===null?o.removeAttribute(c):(N=N.type,f=N===3||N===4&&f===!0?"":""+f,x?o.setAttributeNS(x,c,f):o.setAttribute(c,f))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),te=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),j=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ge(o){return o===null||typeof o!="object"?null:(o=ae&&o[ae]||o["@@iterator"],typeof o=="function"?o:null)}var me=Object.assign,Z;function V(o){if(Z===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Z=c&&c[1]||""}return`
`+Z+o}var K=!1;function ee(o,c){if(!o||K)return"";K=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Le){var x=Le}Reflect.construct(o,[],c)}else{try{c.call()}catch(Le){x=Le}o.call(c.prototype)}else{try{throw Error()}catch(Le){x=Le}o()}}catch(Le){if(Le&&x&&typeof Le.stack=="string"){for(var N=Le.stack.split(`
`),R=x.stack.split(`
`),$=N.length-1,he=R.length-1;1<=$&&0<=he&&N[$]!==R[he];)he--;for(;1<=$&&0<=he;$--,he--)if(N[$]!==R[he]){if($!==1||he!==1)do if($--,he--,0>he||N[$]!==R[he]){var xe=`
`+N[$].replace(" at new "," at ");return o.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",o.displayName)),xe}while(1<=$&&0<=he);break}}}finally{K=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?V(o):""}function ce(o){switch(o.tag){case 5:return V(o.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function fe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case L:return"Fragment";case te:return"Portal";case B:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case ne:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case j:return(o.displayName||"Context")+".Consumer";case z:return(o._context.displayName||"Context")+".Provider";case P:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case de:return c=o.displayName||null,c!==null?c:fe(o.type)||"Memo";case ye:c=o._payload,o=o._init;try{return fe(o(c))}catch{}}return null}function Se(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(c);case 8:return c===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function _e(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ne(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Me(o){var c=Ne(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var N=f.get,R=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return N.call(this)},set:function($){x=""+$,R.call(this,$)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function($){x=""+$},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function $e(o){o._valueTracker||(o._valueTracker=Me(o))}function tt(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return o&&(x=Ne(o)?o.checked?"true":"false":o.value),o=x,o!==f?(c.setValue(o),!0):!1}function et(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function bt(o,c){var f=c.checked;return me({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function Oe(o,c){var f=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;f=_e(c.value!=null?c.value:f),o._wrapperState={initialChecked:x,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ue(o,c){c=c.checked,c!=null&&q(o,"checked",c,!1)}function Ct(o,c){ue(o,c);var f=_e(c.value),x=c.type;if(f!=null)x==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Qe(o,c.type,f):c.hasOwnProperty("defaultValue")&&Qe(o,c.type,_e(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function ft(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Qe(o,c,f){(c!=="number"||et(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Je=Array.isArray;function nt(o,c,f,x){if(o=o.options,c){c={};for(var N=0;N<f.length;N++)c["$"+f[N]]=!0;for(f=0;f<o.length;f++)N=c.hasOwnProperty("$"+o[f].value),o[f].selected!==N&&(o[f].selected=N),N&&x&&(o[f].defaultSelected=!0)}else{for(f=""+_e(f),c=null,N=0;N<o.length;N++){if(o[N].value===f){o[N].selected=!0,x&&(o[N].defaultSelected=!0);return}c!==null||o[N].disabled||(c=o[N])}c!==null&&(c.selected=!0)}}function st(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return me({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function yt(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(t(92));if(Je(f)){if(1<f.length)throw Error(t(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:_e(f)}}function Rt(o,c){var f=_e(c.value),x=_e(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),x!=null&&(o.defaultValue=""+x)}function Bt(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function wt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?wt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Xt,It=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,x,N){MSApp.execUnsafeLocalFunction(function(){return o(c,f,x,N)})}:o}(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Xt=Xt||document.createElement("div"),Xt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Xt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Ut(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var at={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];Object.keys(at).forEach(function(o){sr.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),at[c]=at[o]})});function Jt(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||at.hasOwnProperty(o)&&at[o]?(""+c).trim():c+"px"}function gi(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var x=f.indexOf("--")===0,N=Jt(f,c[f],x);f==="float"&&(f="cssFloat"),x?o.setProperty(f,N):o[f]=N}}var dn=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function En(o,c){if(c){if(dn[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Li(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zt=null;function Es(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ln=null,ar=null,Or=null;function Dn(o){if(o=Bc(o)){if(typeof Ln!="function")throw Error(t(280));var c=o.stateNode;c&&(c=Hu(c),Ln(o.stateNode,o.type,c))}}function St(o){ar?Or?Or.push(o):Or=[o]:ar=o}function nn(){if(ar){var o=ar,c=Or;if(Or=ar=null,Dn(o),c)for(o=0;o<c.length;o++)Dn(c[o])}}function os(o,c){return o(c)}function fr(){}var Fr=!1;function Di(o,c,f){if(Fr)return o(c,f);Fr=!0;try{return os(o,c,f)}finally{Fr=!1,(ar!==null||Or!==null)&&(fr(),nn())}}function ct(o,c){var f=o.stateNode;if(f===null)return null;var x=Hu(f);if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(t(231,c,typeof f));return f}var ti=!1;if(l)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){ti=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{ti=!1}function xr(o,c,f,x,N,R,$,he,xe){var Le=Array.prototype.slice.call(arguments,3);try{c.apply(f,Le)}catch(Ye){this.onError(Ye)}}var Un=!1,qn=null,Qn=!1,wa=null,ea={onError:function(o){Un=!0,qn=o}};function ni(o,c,f,x,N,R,$,he,xe){Un=!1,qn=null,xr.apply(ea,arguments)}function Mi(o,c,f,x,N,R,$,he,xe){if(ni.apply(this,arguments),Un){if(Un){var Le=qn;Un=!1,qn=null}else throw Error(t(198));Qn||(Qn=!0,wa=Le)}}function pr(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function ri(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function or(o){if(pr(o)!==o)throw Error(t(188))}function ls(o){var c=o.alternate;if(!c){if(c=pr(o),c===null)throw Error(t(188));return c!==o?null:o}for(var f=o,x=c;;){var N=f.return;if(N===null)break;var R=N.alternate;if(R===null){if(x=N.return,x!==null){f=x;continue}break}if(N.child===R.child){for(R=N.child;R;){if(R===f)return or(N),o;if(R===x)return or(N),c;R=R.sibling}throw Error(t(188))}if(f.return!==x.return)f=N,x=R;else{for(var $=!1,he=N.child;he;){if(he===f){$=!0,f=N,x=R;break}if(he===x){$=!0,x=N,f=R;break}he=he.sibling}if(!$){for(he=R.child;he;){if(he===f){$=!0,f=R,x=N;break}if(he===x){$=!0,x=R,f=N;break}he=he.sibling}if(!$)throw Error(t(189))}}if(f.alternate!==x)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?o:c}function ta(o){return o=ls(o),o!==null?na(o):null}function na(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=na(o);if(c!==null)return c;o=o.sibling}return null}var ra=e.unstable_scheduleCallback,_a=e.unstable_cancelCallback,Za=e.unstable_shouldYield,xc=e.unstable_requestPaint,Tn=e.unstable_now,bc=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,ia=e.unstable_UserBlockingPriority,Oi=e.unstable_NormalPriority,eo=e.unstable_LowPriority,wc=e.unstable_IdlePriority,Na=null,yi=null;function to(o){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(Na,o,void 0,(o.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:Pl,Hn=Math.log,Il=Math.LN2;function Pl(o){return o>>>=0,o===0?32:31-(Hn(o)/Il|0)|0}var no=64,Sa=4194304;function ka(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Hr(o,c){var f=o.pendingLanes;if(f===0)return 0;var x=0,N=o.suspendedLanes,R=o.pingedLanes,$=f&268435455;if($!==0){var he=$&~N;he!==0?x=ka(he):(R&=$,R!==0&&(x=ka(R)))}else $=f&~N,$!==0?x=ka($):R!==0&&(x=ka(R));if(x===0)return 0;if(c!==0&&c!==x&&(c&N)===0&&(N=x&-x,R=c&-c,N>=R||N===16&&(R&4194240)!==0))return c;if((x&4)!==0&&(x|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)f=31-qr(c),N=1<<f,x|=o[f],c&=~N;return x}function Go(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(o,c){for(var f=o.suspendedLanes,x=o.pingedLanes,N=o.expirationTimes,R=o.pendingLanes;0<R;){var $=31-qr(R),he=1<<$,xe=N[$];xe===-1?((he&f)===0||(he&x)!==0)&&(N[$]=Go(he,c)):xe<=c&&(o.expiredLanes|=he),R&=~he}}function Wr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Aa(){var o=no;return no<<=1,(no&4194240)===0&&(no=64),o}function Ea(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function sa(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-qr(c),o[c]=f}function wn(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<f;){var N=31-qr(f),R=1<<N;c[N]=0,x[N]=-1,o[N]=-1,f&=~R}}function aa(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var x=31-qr(f),N=1<<x;N&c|o[x]&c&&(o[x]|=c),f&=~N}}var Yt=0;function Is(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var _c,Ko,Nc,Ps,ro,Ta=!1,cs=[],ln=null,us=null,Fi=null,kt=new Map,Vi=new Map,js=[],Cs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jl(o,c){switch(o){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":kt.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(c.pointerId)}}function $r(o,c,f,x,N,R){return o===null||o.nativeEvent!==R?(o={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:R,targetContainers:[N]},c!==null&&(c=Bc(c),c!==null&&Ko(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,N!==null&&c.indexOf(N)===-1&&c.push(N),o)}function Yo(o,c,f,x,N){switch(c){case"focusin":return ln=$r(ln,o,c,f,x,N),!0;case"dragenter":return us=$r(us,o,c,f,x,N),!0;case"mouseover":return Fi=$r(Fi,o,c,f,x,N),!0;case"pointerover":var R=N.pointerId;return kt.set(R,$r(kt.get(R)||null,o,c,f,x,N)),!0;case"gotpointercapture":return R=N.pointerId,Vi.set(R,$r(Vi.get(R)||null,o,c,f,x,N)),!0}return!1}function Qo(o){var c=sl(o.target);if(c!==null){var f=pr(c);if(f!==null){if(c=f.tag,c===13){if(c=ri(f),c!==null){o.blockedOn=c,ro(o.priority,function(){Nc(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function oa(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=so(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var x=new f.constructor(f.type,f);Zt=x,f.target.dispatchEvent(x),Zt=null}else return c=Bc(f),c!==null&&Ko(c),o.blockedOn=f,!1;c.shift()}return!0}function io(o,c,f){oa(o)&&f.delete(c)}function Sc(){Ta=!1,ln!==null&&oa(ln)&&(ln=null),us!==null&&oa(us)&&(us=null),Fi!==null&&oa(Fi)&&(Fi=null),kt.forEach(io),Vi.forEach(io)}function vi(o,c){o.blockedOn===c&&(o.blockedOn=null,Ta||(Ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sc)))}function Gr(o){function c(N){return vi(N,o)}if(0<cs.length){vi(cs[0],o);for(var f=1;f<cs.length;f++){var x=cs[f];x.blockedOn===o&&(x.blockedOn=null)}}for(ln!==null&&vi(ln,o),us!==null&&vi(us,o),Fi!==null&&vi(Fi,o),kt.forEach(c),Vi.forEach(c),f=0;f<js.length;f++)x=js[f],x.blockedOn===o&&(x.blockedOn=null);for(;0<js.length&&(f=js[0],f.blockedOn===null);)Qo(f),f.blockedOn===null&&js.shift()}var ii=re.ReactCurrentBatchConfig,Ia=!0;function mn(o,c,f,x){var N=Yt,R=ii.transition;ii.transition=null;try{Yt=1,Pa(o,c,f,x)}finally{Yt=N,ii.transition=R}}function Cl(o,c,f,x){var N=Yt,R=ii.transition;ii.transition=null;try{Yt=4,Pa(o,c,f,x)}finally{Yt=N,ii.transition=R}}function Pa(o,c,f,x){if(Ia){var N=so(o,c,f,x);if(N===null)zu(o,c,x,ja,f),jl(o,x);else if(Yo(N,o,c,f,x))x.stopPropagation();else if(jl(o,x),c&4&&-1<Cs.indexOf(o)){for(;N!==null;){var R=Bc(N);if(R!==null&&_c(R),R=so(o,c,f,x),R===null&&zu(o,c,x,ja,f),R===N)break;N=R}N!==null&&x.stopPropagation()}else zu(o,c,x,null,f)}}var ja=null;function so(o,c,f,x){if(ja=null,o=Es(x),o=sl(o),o!==null)if(c=pr(o),c===null)o=null;else if(f=c.tag,f===13){if(o=ri(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return ja=o,null}function Xo(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bc()){case Ts:return 1;case ia:return 4;case Oi:case eo:return 16;case wc:return 536870912;default:return 16}default:return 16}}var si=null,xi=null,cr=null;function Rl(){if(cr)return cr;var o,c=xi,f=c.length,x,N="value"in si?si.value:si.textContent,R=N.length;for(o=0;o<f&&c[o]===N[o];o++);var $=f-o;for(x=1;x<=$&&c[f-x]===N[R-x];x++);return cr=N.slice(o,1<x?1-x:void 0)}function hs(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function br(){return!0}function ao(){return!1}function Xn(o){function c(f,x,N,R,$){this._reactName=f,this._targetInst=N,this.type=x,this.nativeEvent=R,this.target=$,this.currentTarget=null;for(var he in o)o.hasOwnProperty(he)&&(f=o[he],this[he]=f?f(R):R[he]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?br:ao,this.isPropagationStopped=ao,this}return me(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),c}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Xn(ds),Rs=me({},ds,{view:0,detail:0}),Ll=Xn(Rs),Ca,Ls,fs,ca=me({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rt,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==fs&&(fs&&o.type==="mousemove"?(Ca=o.screenX-fs.screenX,Ls=o.screenY-fs.screenY):Ls=Ca=0,fs=o),Ca)},movementY:function(o){return"movementY"in o?o.movementY:Ls}}),Ra=Xn(ca),Jo=me({},ca,{dataTransfer:0}),kc=Xn(Jo),ua=me({},Rs,{relatedTarget:0}),Ds=Xn(ua),Zo=me({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),ai=Xn(Zo),el=me({},ds,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_=Xn(el),H=me({},ds,{data:0}),le=Xn(H),pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Te={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function We(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Fe[o])?!!c[o]:!1}function rt(){return We}var g=me({},Rs,{key:function(o){if(o.key){var c=pe[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=hs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Te[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rt,charCode:function(o){return o.type==="keypress"?hs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?hs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),I=Xn(g),F=me({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q=Xn(F),Ae=me({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rt}),Ce=Xn(Ae),Ge=me({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),qt=Xn(Ge),en=me({},ca,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ht=Xn(en),gn=[9,13,27,32],_n=l&&"CompositionEvent"in window,bi=null;l&&"documentMode"in document&&(bi=document.documentMode);var Kr=l&&"TextEvent"in window&&!bi,ha=l&&(!_n||bi&&8<bi&&11>=bi),da=" ",Ac=!1;function Ec(o,c){switch(o){case"keyup":return gn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dl(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ur=!1;function Tc(o,c){switch(o){case"compositionend":return Dl(c);case"keypress":return c.which!==32?null:(Ac=!0,da);case"textInput":return o=c.data,o===da&&Ac?null:o;default:return null}}function Ic(o,c){if(ur)return o==="compositionend"||!_n&&Ec(o,c)?(o=Rl(),cr=xi=si=null,ur=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ha&&c.locale!=="ko"?null:c.data;default:return null}}var Pc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Pc[o.type]:c==="textarea"}function wi(o,c,f,x){St(x),c=Oh(c,"onChange"),0<c.length&&(f=new la("onChange","change",null,f,x),o.push({event:f,listeners:c}))}var Ml=null,oo=null;function Lh(o){Vu(o,0)}function _i(o){var c=Wl(o);if(tt(c))return o}function Cc(o,c){if(o==="change")return c}var Du=!1;if(l){var Rc;if(l){var La="oninput"in document;if(!La){var tl=document.createElement("div");tl.setAttribute("oninput","return;"),La=typeof tl.oninput=="function"}Rc=La}else Rc=!1;Du=Rc&&(!document.documentMode||9<document.documentMode)}function Ni(){Ml&&(Ml.detachEvent("onpropertychange",oi),oo=Ml=null)}function oi(o){if(o.propertyName==="value"&&_i(oo)){var c=[];wi(c,oo,o,Es(o)),Di(Lh,c)}}function nl(o,c,f){o==="focusin"?(Ni(),Ml=c,oo=f,Ml.attachEvent("onpropertychange",oi)):o==="focusout"&&Ni()}function lo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return _i(oo)}function co(o,c){if(o==="click")return _i(c)}function Lc(o,c){if(o==="input"||o==="change")return _i(c)}function uo(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var fn=typeof Object.is=="function"?Object.is:uo;function ho(o,c){if(fn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var N=f[x];if(!u.call(c,N)||!fn(o[N],c[N]))return!1}return!0}function li(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ps(o,c){var f=li(o);o=0;for(var x;f;){if(f.nodeType===3){if(x=o+f.textContent.length,o<=c&&x>=c)return{node:f,offset:c-o};o=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=li(f)}}function Ol(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Ol(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Mu(){for(var o=window,c=et();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=et(o.document)}return c}function Fl(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function Vl(o){var c=Mu(),f=o.focusedElem,x=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&Ol(f.ownerDocument.documentElement,f)){if(x!==null&&Fl(f)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var N=f.textContent.length,R=Math.min(x.start,N);x=x.end===void 0?R:Math.min(x.end,N),!o.extend&&R>x&&(N=x,x=R,R=N),N=ps(f,R);var $=ps(f,x);N&&$&&(o.rangeCount!==1||o.anchorNode!==N.node||o.anchorOffset!==N.offset||o.focusNode!==$.node||o.focusOffset!==$.offset)&&(c=c.createRange(),c.setStart(N.node,N.offset),o.removeAllRanges(),R>x?(o.addRange(c),o.extend($.node,$.offset)):(c.setEnd($.node,$.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Bl=l&&"documentMode"in document&&11>=document.documentMode,ms=null,fo=null,Da=null,po=!1;function mo(o,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;po||ms==null||ms!==et(x)||(x=ms,"selectionStart"in x&&Fl(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Da&&ho(Da,x)||(Da=x,x=Oh(fo,"onSelect"),0<x.length&&(c=new la("onSelect","select",null,c,f),o.push({event:c,listeners:x}),c.target=ms)))}function rl(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Yr={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},Bi={},Mn={};l&&(Mn=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Nn(o){if(Bi[o])return Bi[o];if(!Yr[o])return o;var c=Yr[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in Mn)return Bi[o]=c[f];return o}var hr=Nn("animationend"),wr=Nn("animationiteration"),Ma=Nn("animationstart"),Dc=Nn("transitionend"),zl=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(o,c){zl.set(o,c),s(c,[o])}for(var Mc=0;Mc<Ou.length;Mc++){var Si=Ou[Mc],Ms=Si.toLowerCase(),Dh=Si[0].toUpperCase()+Si.slice(1);Oa(Ms,"on"+Dh)}Oa(hr,"onAnimationEnd"),Oa(wr,"onAnimationIteration"),Oa(Ma,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(Dc,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pp=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Fu(o,c,f){var x=o.type||"unknown-event";o.currentTarget=f,Mi(x,c,void 0,o),o.currentTarget=null}function Vu(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var x=o[f],N=x.event;x=x.listeners;e:{var R=void 0;if(c)for(var $=x.length-1;0<=$;$--){var he=x[$],xe=he.instance,Le=he.currentTarget;if(he=he.listener,xe!==R&&N.isPropagationStopped())break e;Fu(N,he,Le),R=xe}else for($=0;$<x.length;$++){if(he=x[$],xe=he.instance,Le=he.currentTarget,he=he.listener,xe!==R&&N.isPropagationStopped())break e;Fu(N,he,Le),R=xe}}}if(Qn)throw o=wa,Qn=!1,wa=null,o}function On(o,c){var f=c[Ui];f===void 0&&(f=c[Ui]=new Set);var x=o+"__bubble";f.has(x)||(Bu(c,o,2,!1),f.add(x))}function Mh(o,c,f){var x=0;c&&(x|=4),Bu(f,o,x,c)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Ul(o){if(!o[Oc]){o[Oc]=!0,r.forEach(function(f){f!=="selectionchange"&&(Pp.has(f)||Mh(f,!1,o),Mh(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Oc]||(c[Oc]=!0,Mh("selectionchange",!1,c))}}function Bu(o,c,f,x){switch(Xo(c)){case 1:var N=mn;break;case 4:N=Cl;break;default:N=Pa}f=N.bind(null,c,f,o),N=void 0,!ti||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(N=!0),x?N!==void 0?o.addEventListener(c,f,{capture:!0,passive:N}):o.addEventListener(c,f,!0):N!==void 0?o.addEventListener(c,f,{passive:N}):o.addEventListener(c,f,!1)}function zu(o,c,f,x,N){var R=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var $=x.tag;if($===3||$===4){var he=x.stateNode.containerInfo;if(he===N||he.nodeType===8&&he.parentNode===N)break;if($===4)for($=x.return;$!==null;){var xe=$.tag;if((xe===3||xe===4)&&(xe=$.stateNode.containerInfo,xe===N||xe.nodeType===8&&xe.parentNode===N))return;$=$.return}for(;he!==null;){if($=sl(he),$===null)return;if(xe=$.tag,xe===5||xe===6){x=R=$;continue e}he=he.parentNode}}x=x.return}Di(function(){var Le=R,Ye=Es(f),Xe=[];e:{var Ke=zl.get(o);if(Ke!==void 0){var ut=la,mt=o;switch(o){case"keypress":if(hs(f)===0)break e;case"keydown":case"keyup":ut=I;break;case"focusin":mt="focus",ut=Ds;break;case"focusout":mt="blur",ut=Ds;break;case"beforeblur":case"afterblur":ut=Ds;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Ce;break;case hr:case wr:case Ma:ut=ai;break;case Dc:ut=qt;break;case"scroll":ut=Ll;break;case"wheel":ut=Ht;break;case"copy":case"cut":case"paste":ut=_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Q}var vt=(c&4)!==0,jr=!vt&&o==="scroll",je=vt?Ke!==null?Ke+"Capture":null:Ke;vt=[];for(var ke=Le,Re;ke!==null;){Re=ke;var Ze=Re.stateNode;if(Re.tag===5&&Ze!==null&&(Re=Ze,je!==null&&(Ze=ct(ke,je),Ze!=null&&vt.push(Uu(ke,Ze,Re)))),jr)break;ke=ke.return}0<vt.length&&(Ke=new ut(Ke,mt,null,f,Ye),Xe.push({event:Ke,listeners:vt}))}}if((c&7)===0){e:{if(Ke=o==="mouseover"||o==="pointerover",ut=o==="mouseout"||o==="pointerout",Ke&&f!==Zt&&(mt=f.relatedTarget||f.fromElement)&&(sl(mt)||mt[ci]))break e;if((ut||Ke)&&(Ke=Ye.window===Ye?Ye:(Ke=Ye.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,ut?(mt=f.relatedTarget||f.toElement,ut=Le,mt=mt?sl(mt):null,mt!==null&&(jr=pr(mt),mt!==jr||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(ut=null,mt=Le),ut!==mt)){if(vt=Ra,Ze="onMouseLeave",je="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(vt=Q,Ze="onPointerLeave",je="onPointerEnter",ke="pointer"),jr=ut==null?Ke:Wl(ut),Re=mt==null?Ke:Wl(mt),Ke=new vt(Ze,ke+"leave",ut,f,Ye),Ke.target=jr,Ke.relatedTarget=Re,Ze=null,sl(Ye)===Le&&(vt=new vt(je,ke+"enter",mt,f,Ye),vt.target=Re,vt.relatedTarget=jr,Ze=vt),jr=Ze,ut&&mt)t:{for(vt=ut,je=mt,ke=0,Re=vt;Re;Re=ql(Re))ke++;for(Re=0,Ze=je;Ze;Ze=ql(Ze))Re++;for(;0<ke-Re;)vt=ql(vt),ke--;for(;0<Re-ke;)je=ql(je),Re--;for(;ke--;){if(vt===je||je!==null&&vt===je.alternate)break t;vt=ql(vt),je=ql(je)}vt=null}else vt=null;ut!==null&&jp(Xe,Ke,ut,vt,!1),mt!==null&&jr!==null&&jp(Xe,jr,mt,vt,!0)}}e:{if(Ke=Le?Wl(Le):window,ut=Ke.nodeName&&Ke.nodeName.toLowerCase(),ut==="select"||ut==="input"&&Ke.type==="file")var xt=Cc;else if(jc(Ke))if(Du)xt=Lc;else{xt=lo;var Pt=nl}else(ut=Ke.nodeName)&&ut.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(xt=co);if(xt&&(xt=xt(o,Le))){wi(Xe,xt,f,Ye);break e}Pt&&Pt(o,Ke,Le),o==="focusout"&&(Pt=Ke._wrapperState)&&Pt.controlled&&Ke.type==="number"&&Qe(Ke,"number",Ke.value)}switch(Pt=Le?Wl(Le):window,o){case"focusin":(jc(Pt)||Pt.contentEditable==="true")&&(ms=Pt,fo=Le,Da=null);break;case"focusout":Da=fo=ms=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,mo(Xe,f,Ye);break;case"selectionchange":if(Bl)break;case"keydown":case"keyup":mo(Xe,f,Ye)}var jt;if(_n)e:{switch(o){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ur?Ec(o,f)&&(zt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(zt="onCompositionStart");zt&&(ha&&f.locale!=="ko"&&(ur||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ur&&(jt=Rl()):(si=Ye,xi="value"in si?si.value:si.textContent,ur=!0)),Pt=Oh(Le,zt),0<Pt.length&&(zt=new le(zt,o,null,f,Ye),Xe.push({event:zt,listeners:Pt}),jt?zt.data=jt:(jt=Dl(f),jt!==null&&(zt.data=jt)))),(jt=Kr?Tc(o,f):Ic(o,f))&&(Le=Oh(Le,"onBeforeInput"),0<Le.length&&(Ye=new le("onBeforeInput","beforeinput",null,f,Ye),Xe.push({event:Ye,listeners:Le}),Ye.data=jt))}Vu(Xe,c)})}function Uu(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Oh(o,c){for(var f=c+"Capture",x=[];o!==null;){var N=o,R=N.stateNode;N.tag===5&&R!==null&&(N=R,R=ct(o,f),R!=null&&x.unshift(Uu(o,R,N)),R=ct(o,c),R!=null&&x.push(Uu(o,R,N))),o=o.return}return x}function ql(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function jp(o,c,f,x,N){for(var R=c._reactName,$=[];f!==null&&f!==x;){var he=f,xe=he.alternate,Le=he.stateNode;if(xe!==null&&xe===x)break;he.tag===5&&Le!==null&&(he=Le,N?(xe=ct(f,R),xe!=null&&$.unshift(Uu(f,xe,he))):N||(xe=ct(f,R),xe!=null&&$.push(Uu(f,xe,he)))),f=f.return}$.length!==0&&o.push({event:c,listeners:$})}var L0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function Cp(o){return(typeof o=="string"?o:""+o).replace(L0,`
`).replace(D0,"")}function Fh(o,c,f){if(c=Cp(c),Cp(o)!==c&&f)throw Error(t(425))}function Fc(){}var qu=null,Hl=null;function Wd(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(o){return Lp.resolve(null).then(o).catch(O0)}:$d;function O0(o){setTimeout(function(){throw o})}function Gd(o,c){var f=c,x=0;do{var N=f.nextSibling;if(o.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"){if(x===0){o.removeChild(N),Gr(c);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=N}while(f);Gr(c)}function ki(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function Os(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var zi=Math.random().toString(36).slice(2),Fa="__reactFiber$"+zi,Vc="__reactProps$"+zi,ci="__reactContainer$"+zi,Ui="__reactEvents$"+zi,F0="__reactListeners$"+zi,V0="__reactHandles$"+zi;function sl(o){var c=o[Fa];if(c)return c;for(var f=o.parentNode;f;){if(c=f[ci]||f[Fa]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=Os(o);o!==null;){if(f=o[Fa])return f;o=Os(o)}return c}o=f,f=o.parentNode}return null}function Bc(o){return o=o[Fa]||o[ci],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Wl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Hu(o){return o[Vc]||null}var Kd=[],go=-1;function fa(o){return{current:o}}function Sn(o){0>go||(o.current=Kd[go],Kd[go]=null,go--)}function In(o,c){go++,Kd[go]=o.current,o.current=c}var al={},Qr=fa(al),qi=fa(!1),$l=al;function zc(o,c){var f=o.type.contextTypes;if(!f)return al;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var N={},R;for(R in f)N[R]=c[R];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=N),N}function Hi(o){return o=o.childContextTypes,o!=null}function Vh(){Sn(qi),Sn(Qr)}function Dp(o,c,f){if(Qr.current!==al)throw Error(t(168));In(Qr,c),In(qi,f)}function Yd(o,c,f){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var N in x)if(!(N in c))throw Error(t(108,Se(o)||"Unknown",N));return me({},f,x)}function Gl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||al,$l=Qr.current,In(Qr,o),In(qi,qi.current),!0}function Mp(o,c,f){var x=o.stateNode;if(!x)throw Error(t(169));f?(o=Yd(o,c,$l),x.__reactInternalMemoizedMergedChildContext=o,Sn(qi),Sn(Qr),In(Qr,o)):Sn(qi),In(qi,f)}var yo=null,Wu=!1,m=!1;function w(o){yo===null?yo=[o]:yo.push(o)}function k(o){Wu=!0,w(o)}function D(){if(!m&&yo!==null){m=!0;var o=0,c=Yt;try{var f=yo;for(Yt=1;o<f.length;o++){var x=f[o];do x=x(!0);while(x!==null)}yo=null,Wu=!1}catch(N){throw yo!==null&&(yo=yo.slice(o+1)),ra(Ts,D),N}finally{Yt=c,m=!1}}return null}var U=[],W=0,G=null,Y=0,X=[],ie=0,ve=null,Ie=1,Pe="";function Ee(o,c){U[W++]=Y,U[W++]=G,G=o,Y=c}function Ue(o,c,f){X[ie++]=Ie,X[ie++]=Pe,X[ie++]=ve,ve=o;var x=Ie;o=Pe;var N=32-qr(x)-1;x&=~(1<<N),f+=1;var R=32-qr(c)+N;if(30<R){var $=N-N%5;R=(x&(1<<$)-1).toString(32),x>>=$,N-=$,Ie=1<<32-qr(c)+N|f<<N|x,Pe=R+o}else Ie=1<<R|f<<N|x,Pe=o}function De(o){o.return!==null&&(Ee(o,1),Ue(o,1,0))}function be(o){for(;o===G;)G=U[--W],U[W]=null,Y=U[--W],U[W]=null;for(;o===ve;)ve=X[--ie],X[ie]=null,Pe=X[--ie],X[ie]=null,Ie=X[--ie],X[ie]=null}var we=null,Be=null,Ve=!1,ze=null;function lt(o,c){var f=Ha(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function it(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,we=o,Be=ki(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,we=o,Be=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=ve!==null?{id:Ie,overflow:Pe}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Ha(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,we=o,Be=null,!0):!1;default:return!1}}function Nt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ot(o){if(Ve){var c=Be;if(c){var f=c;if(!it(o,c)){if(Nt(o))throw Error(t(418));c=ki(f.nextSibling);var x=we;c&&it(o,c)?lt(x,f):(o.flags=o.flags&-4097|2,Ve=!1,we=o)}}else{if(Nt(o))throw Error(t(418));o.flags=o.flags&-4097|2,Ve=!1,we=o}}}function cn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;we=o}function un(o){if(o!==we)return!1;if(!Ve)return cn(o),Ve=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Wd(o.type,o.memoizedProps)),c&&(c=Be)){if(Nt(o))throw rn(),Error(t(418));for(;c;)lt(o,c),c=ki(c.nextSibling)}if(cn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){Be=ki(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}Be=null}}else Be=we?ki(o.stateNode.nextSibling):null;return!0}function rn(){for(var o=Be;o;)o=ki(o.nextSibling)}function Kt(){Be=we=null,Ve=!1}function kn(o){ze===null?ze=[o]:ze.push(o)}var Pn=re.ReactCurrentBatchConfig;function Vt(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var x=f.stateNode}if(!x)throw Error(t(147,o));var N=x,R=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===R?c.ref:(c=function($){var he=N.refs;$===null?delete he[R]:he[R]=$},c._stringRef=R,c)}if(typeof o!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,o))}return o}function Jn(o,c){throw o=Object.prototype.toString.call(c),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function Ai(o){var c=o._init;return c(o._payload)}function mr(o){function c(je,ke){if(o){var Re=je.deletions;Re===null?(je.deletions=[ke],je.flags|=16):Re.push(ke)}}function f(je,ke){if(!o)return null;for(;ke!==null;)c(je,ke),ke=ke.sibling;return null}function x(je,ke){for(je=new Map;ke!==null;)ke.key!==null?je.set(ke.key,ke):je.set(ke.index,ke),ke=ke.sibling;return je}function N(je,ke){return je=Zc(je,ke),je.index=0,je.sibling=null,je}function R(je,ke,Re){return je.index=Re,o?(Re=je.alternate,Re!==null?(Re=Re.index,Re<ke?(je.flags|=2,ke):Re):(je.flags|=2,ke)):(je.flags|=1048576,ke)}function $(je){return o&&je.alternate===null&&(je.flags|=2),je}function he(je,ke,Re,Ze){return ke===null||ke.tag!==6?(ke=p1(Re,je.mode,Ze),ke.return=je,ke):(ke=N(ke,Re),ke.return=je,ke)}function xe(je,ke,Re,Ze){var xt=Re.type;return xt===L?Ye(je,ke,Re.props.children,Ze,Re.key):ke!==null&&(ke.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===ye&&Ai(xt)===ke.type)?(Ze=N(ke,Re.props),Ze.ref=Vt(je,ke,Re),Ze.return=je,Ze):(Ze=nm(Re.type,Re.key,Re.props,null,je.mode,Ze),Ze.ref=Vt(je,ke,Re),Ze.return=je,Ze)}function Le(je,ke,Re,Ze){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Re.containerInfo||ke.stateNode.implementation!==Re.implementation?(ke=m1(Re,je.mode,Ze),ke.return=je,ke):(ke=N(ke,Re.children||[]),ke.return=je,ke)}function Ye(je,ke,Re,Ze,xt){return ke===null||ke.tag!==7?(ke=Zu(Re,je.mode,Ze,xt),ke.return=je,ke):(ke=N(ke,Re),ke.return=je,ke)}function Xe(je,ke,Re){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=p1(""+ke,je.mode,Re),ke.return=je,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case J:return Re=nm(ke.type,ke.key,ke.props,null,je.mode,Re),Re.ref=Vt(je,null,ke),Re.return=je,Re;case te:return ke=m1(ke,je.mode,Re),ke.return=je,ke;case ye:var Ze=ke._init;return Xe(je,Ze(ke._payload),Re)}if(Je(ke)||ge(ke))return ke=Zu(ke,je.mode,Re,null),ke.return=je,ke;Jn(je,ke)}return null}function Ke(je,ke,Re,Ze){var xt=ke!==null?ke.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return xt!==null?null:he(je,ke,""+Re,Ze);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case J:return Re.key===xt?xe(je,ke,Re,Ze):null;case te:return Re.key===xt?Le(je,ke,Re,Ze):null;case ye:return xt=Re._init,Ke(je,ke,xt(Re._payload),Ze)}if(Je(Re)||ge(Re))return xt!==null?null:Ye(je,ke,Re,Ze,null);Jn(je,Re)}return null}function ut(je,ke,Re,Ze,xt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return je=je.get(Re)||null,he(ke,je,""+Ze,xt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case J:return je=je.get(Ze.key===null?Re:Ze.key)||null,xe(ke,je,Ze,xt);case te:return je=je.get(Ze.key===null?Re:Ze.key)||null,Le(ke,je,Ze,xt);case ye:var Pt=Ze._init;return ut(je,ke,Re,Pt(Ze._payload),xt)}if(Je(Ze)||ge(Ze))return je=je.get(Re)||null,Ye(ke,je,Ze,xt,null);Jn(ke,Ze)}return null}function mt(je,ke,Re,Ze){for(var xt=null,Pt=null,jt=ke,zt=ke=0,fi=null;jt!==null&&zt<Re.length;zt++){jt.index>zt?(fi=jt,jt=null):fi=jt.sibling;var xn=Ke(je,jt,Re[zt],Ze);if(xn===null){jt===null&&(jt=fi);break}o&&jt&&xn.alternate===null&&c(je,jt),ke=R(xn,ke,zt),Pt===null?xt=xn:Pt.sibling=xn,Pt=xn,jt=fi}if(zt===Re.length)return f(je,jt),Ve&&Ee(je,zt),xt;if(jt===null){for(;zt<Re.length;zt++)jt=Xe(je,Re[zt],Ze),jt!==null&&(ke=R(jt,ke,zt),Pt===null?xt=jt:Pt.sibling=jt,Pt=jt);return Ve&&Ee(je,zt),xt}for(jt=x(je,jt);zt<Re.length;zt++)fi=ut(jt,je,zt,Re[zt],Ze),fi!==null&&(o&&fi.alternate!==null&&jt.delete(fi.key===null?zt:fi.key),ke=R(fi,ke,zt),Pt===null?xt=fi:Pt.sibling=fi,Pt=fi);return o&&jt.forEach(function(eu){return c(je,eu)}),Ve&&Ee(je,zt),xt}function vt(je,ke,Re,Ze){var xt=ge(Re);if(typeof xt!="function")throw Error(t(150));if(Re=xt.call(Re),Re==null)throw Error(t(151));for(var Pt=xt=null,jt=ke,zt=ke=0,fi=null,xn=Re.next();jt!==null&&!xn.done;zt++,xn=Re.next()){jt.index>zt?(fi=jt,jt=null):fi=jt.sibling;var eu=Ke(je,jt,xn.value,Ze);if(eu===null){jt===null&&(jt=fi);break}o&&jt&&eu.alternate===null&&c(je,jt),ke=R(eu,ke,zt),Pt===null?xt=eu:Pt.sibling=eu,Pt=eu,jt=fi}if(xn.done)return f(je,jt),Ve&&Ee(je,zt),xt;if(jt===null){for(;!xn.done;zt++,xn=Re.next())xn=Xe(je,xn.value,Ze),xn!==null&&(ke=R(xn,ke,zt),Pt===null?xt=xn:Pt.sibling=xn,Pt=xn);return Ve&&Ee(je,zt),xt}for(jt=x(je,jt);!xn.done;zt++,xn=Re.next())xn=ut(jt,je,zt,xn.value,Ze),xn!==null&&(o&&xn.alternate!==null&&jt.delete(xn.key===null?zt:xn.key),ke=R(xn,ke,zt),Pt===null?xt=xn:Pt.sibling=xn,Pt=xn);return o&&jt.forEach(function(lk){return c(je,lk)}),Ve&&Ee(je,zt),xt}function jr(je,ke,Re,Ze){if(typeof Re=="object"&&Re!==null&&Re.type===L&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case J:e:{for(var xt=Re.key,Pt=ke;Pt!==null;){if(Pt.key===xt){if(xt=Re.type,xt===L){if(Pt.tag===7){f(je,Pt.sibling),ke=N(Pt,Re.props.children),ke.return=je,je=ke;break e}}else if(Pt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===ye&&Ai(xt)===Pt.type){f(je,Pt.sibling),ke=N(Pt,Re.props),ke.ref=Vt(je,Pt,Re),ke.return=je,je=ke;break e}f(je,Pt);break}else c(je,Pt);Pt=Pt.sibling}Re.type===L?(ke=Zu(Re.props.children,je.mode,Ze,Re.key),ke.return=je,je=ke):(Ze=nm(Re.type,Re.key,Re.props,null,je.mode,Ze),Ze.ref=Vt(je,ke,Re),Ze.return=je,je=Ze)}return $(je);case te:e:{for(Pt=Re.key;ke!==null;){if(ke.key===Pt)if(ke.tag===4&&ke.stateNode.containerInfo===Re.containerInfo&&ke.stateNode.implementation===Re.implementation){f(je,ke.sibling),ke=N(ke,Re.children||[]),ke.return=je,je=ke;break e}else{f(je,ke);break}else c(je,ke);ke=ke.sibling}ke=m1(Re,je.mode,Ze),ke.return=je,je=ke}return $(je);case ye:return Pt=Re._init,jr(je,ke,Pt(Re._payload),Ze)}if(Je(Re))return mt(je,ke,Re,Ze);if(ge(Re))return vt(je,ke,Re,Ze);Jn(je,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ke!==null&&ke.tag===6?(f(je,ke.sibling),ke=N(ke,Re),ke.return=je,je=ke):(f(je,ke),ke=p1(Re,je.mode,Ze),ke.return=je,je=ke),$(je)):f(je,ke)}return jr}var Tr=mr(!0),yn=mr(!1),ui=fa(null),hi=null,Zn=null,Ir=null;function Xr(){Ir=Zn=hi=null}function Wi(o){var c=ui.current;Sn(ui),o._currentValue=c}function Fs(o,c,f){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===f)break;o=o.return}}function er(o,c){hi=o,Ir=Zn=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(Us=!0),o.firstContext=null)}function _r(o){var c=o._currentValue;if(Ir!==o)if(o={context:o,memoizedValue:c,next:null},Zn===null){if(hi===null)throw Error(t(308));Zn=o,hi.dependencies={lanes:0,firstContext:o}}else Zn=Zn.next=o;return c}var gs=null;function ol(o){gs===null?gs=[o]:gs.push(o)}function vo(o,c,f,x){var N=c.interleaved;return N===null?(f.next=f,ol(c)):(f.next=N.next,N.next=f),c.interleaved=f,vn(o,x)}function vn(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Va=!1;function Bh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qd(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Vs(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Bs(o,c,f){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(pn&2)!==0){var N=x.pending;return N===null?c.next=c:(c.next=N.next,N.next=c),x.pending=c,vn(o,f)}return N=x.interleaved,N===null?(c.next=c,ol(x)):(c.next=N.next,N.next=c),x.interleaved=c,vn(o,f)}function Kl(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,aa(o,f)}}function zs(o,c){var f=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var N=null,R=null;if(f=f.firstBaseUpdate,f!==null){do{var $={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};R===null?N=R=$:R=R.next=$,f=f.next}while(f!==null);R===null?N=R=c:R=R.next=c}else N=R=c;f={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:R,shared:x.shared,effects:x.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function xo(o,c,f,x){var N=o.updateQueue;Va=!1;var R=N.firstBaseUpdate,$=N.lastBaseUpdate,he=N.shared.pending;if(he!==null){N.shared.pending=null;var xe=he,Le=xe.next;xe.next=null,$===null?R=Le:$.next=Le,$=xe;var Ye=o.alternate;Ye!==null&&(Ye=Ye.updateQueue,he=Ye.lastBaseUpdate,he!==$&&(he===null?Ye.firstBaseUpdate=Le:he.next=Le,Ye.lastBaseUpdate=xe))}if(R!==null){var Xe=N.baseState;$=0,Ye=Le=xe=null,he=R;do{var Ke=he.lane,ut=he.eventTime;if((x&Ke)===Ke){Ye!==null&&(Ye=Ye.next={eventTime:ut,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var mt=o,vt=he;switch(Ke=c,ut=f,vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){Xe=mt.call(ut,Xe,Ke);break e}Xe=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,Ke=typeof mt=="function"?mt.call(ut,Xe,Ke):mt,Ke==null)break e;Xe=me({},Xe,Ke);break e;case 2:Va=!0}}he.callback!==null&&he.lane!==0&&(o.flags|=64,Ke=N.effects,Ke===null?N.effects=[he]:Ke.push(he))}else ut={eventTime:ut,lane:Ke,tag:he.tag,payload:he.payload,callback:he.callback,next:null},Ye===null?(Le=Ye=ut,xe=Xe):Ye=Ye.next=ut,$|=Ke;if(he=he.next,he===null){if(he=N.shared.pending,he===null)break;Ke=he,he=Ke.next,Ke.next=null,N.lastBaseUpdate=Ke,N.shared.pending=null}}while(!0);if(Ye===null&&(xe=Xe),N.baseState=xe,N.firstBaseUpdate=Le,N.lastBaseUpdate=Ye,c=N.shared.interleaved,c!==null){N=c;do $|=N.lane,N=N.next;while(N!==c)}else R===null&&(N.shared.lanes=0);Yu|=$,o.lanes=$,o.memoizedState=Xe}}function Yl(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],N=x.callback;if(N!==null){if(x.callback=null,x=f,typeof N!="function")throw Error(t(191,N));N.call(x)}}}var Uc={},ys=fa(Uc),qc=fa(Uc),ll=fa(Uc);function bo(o){if(o===Uc)throw Error(t(174));return o}function Hc(o,c){switch(In(ll,c),In(qc,o),In(ys,Uc),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Tt(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Tt(c,o)}Sn(ys),In(ys,c)}function Ba(){Sn(ys),Sn(qc),Sn(ll)}function Op(o){bo(ll.current);var c=bo(ys.current),f=Tt(c,o.type);c!==f&&(In(qc,o),In(ys,f))}function Xd(o){qc.current===o&&(Sn(ys),Sn(qc))}var Wn=fa(0);function pa(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Jd=[];function Zd(){for(var o=0;o<Jd.length;o++)Jd[o]._workInProgressVersionPrimary=null;Jd.length=0}var zh=re.ReactCurrentDispatcher,Uh=re.ReactCurrentBatchConfig,za=0,Kn=null,Nr=null,gr=null,Wc=!1,wo=!1,$c=0,B0=0;function Pr(){throw Error(t(321))}function qh(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!fn(o[f],c[f]))return!1;return!0}function $u(o,c,f,x,N,R){if(za=R,Kn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,zh.current=o===null||o.memoizedState===null?LS:DS,o=f(x,N),wo){R=0;do{if(wo=!1,$c=0,25<=R)throw Error(t(301));R+=1,gr=Nr=null,c.updateQueue=null,zh.current=MS,o=f(x,N)}while(wo)}if(zh.current=Up,c=Nr!==null&&Nr.next!==null,za=0,gr=Nr=Kn=null,Wc=!1,c)throw Error(t(300));return o}function Ua(){var o=$c!==0;return $c=0,o}function ma(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Kn.memoizedState=gr=o:gr=gr.next=o,gr}function vs(){if(Nr===null){var o=Kn.alternate;o=o!==null?o.memoizedState:null}else o=Nr.next;var c=gr===null?Kn.memoizedState:gr.next;if(c!==null)gr=c,Nr=o;else{if(o===null)throw Error(t(310));Nr=o,o={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},gr===null?Kn.memoizedState=gr=o:gr=gr.next=o}return gr}function Gu(o,c){return typeof c=="function"?c(o):c}function Hh(o){var c=vs(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=o;var x=Nr,N=x.baseQueue,R=f.pending;if(R!==null){if(N!==null){var $=N.next;N.next=R.next,R.next=$}x.baseQueue=N=R,f.pending=null}if(N!==null){R=N.next,x=x.baseState;var he=$=null,xe=null,Le=R;do{var Ye=Le.lane;if((za&Ye)===Ye)xe!==null&&(xe=xe.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),x=Le.hasEagerState?Le.eagerState:o(x,Le.action);else{var Xe={lane:Ye,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};xe===null?(he=xe=Xe,$=x):xe=xe.next=Xe,Kn.lanes|=Ye,Yu|=Ye}Le=Le.next}while(Le!==null&&Le!==R);xe===null?$=x:xe.next=he,fn(x,c.memoizedState)||(Us=!0),c.memoizedState=x,c.baseState=$,c.baseQueue=xe,f.lastRenderedState=x}if(o=f.interleaved,o!==null){N=o;do R=N.lane,Kn.lanes|=R,Yu|=R,N=N.next;while(N!==o)}else N===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function cl(o){var c=vs(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=o;var x=f.dispatch,N=f.pending,R=c.memoizedState;if(N!==null){f.pending=null;var $=N=N.next;do R=o(R,$.action),$=$.next;while($!==N);fn(R,c.memoizedState)||(Us=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),f.lastRenderedState=R}return[R,x]}function Fp(){}function ef(o,c){var f=Kn,x=vs(),N=c(),R=!fn(x.memoizedState,N);if(R&&(x.memoizedState=N,Us=!0),x=x.queue,Gh(Bp.bind(null,f,x,o),[o]),x.getSnapshot!==c||R||gr!==null&&gr.memoizedState.tag&1){if(f.flags|=2048,xs(9,tf.bind(null,f,x,N,c),void 0,null),di===null)throw Error(t(349));(za&30)!==0||Vp(f,c,N)}return N}function Vp(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Kn.updateQueue,c===null?(c={lastEffect:null,stores:null},Kn.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function tf(o,c,f,x){c.value=f,c.getSnapshot=x,Gc(c)&&Wh(o)}function Bp(o,c,f){return f(function(){Gc(c)&&Wh(o)})}function Gc(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!fn(o,f)}catch{return!0}}function Wh(o){var c=vn(o,1);c!==null&&Ao(c,o,1,-1)}function Ku(o){var c=ma();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:o},c.queue=o,o=o.dispatch=RS.bind(null,Kn,o),[c.memoizedState,o]}function xs(o,c,f,x){return o={tag:o,create:c,destroy:f,deps:x,next:null},c=Kn.updateQueue,c===null?(c={lastEffect:null,stores:null},Kn.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(x=f.next,f.next=o,o.next=x,c.lastEffect=o)),o}function _o(){return vs().memoizedState}function ga(o,c,f,x){var N=ma();Kn.flags|=o,N.memoizedState=xs(1|c,f,void 0,x===void 0?null:x)}function Ql(o,c,f,x){var N=vs();x=x===void 0?null:x;var R=void 0;if(Nr!==null){var $=Nr.memoizedState;if(R=$.destroy,x!==null&&qh(x,$.deps)){N.memoizedState=xs(c,f,R,x);return}}Kn.flags|=o,N.memoizedState=xs(1|c,f,R,x)}function $h(o,c){return ga(8390656,8,o,c)}function Gh(o,c){return Ql(2048,8,o,c)}function zp(o,c){return Ql(4,2,o,c)}function Kh(o,c){return Ql(4,4,o,c)}function Yh(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function t5(o,c,f){return f=f!=null?f.concat([o]):null,Ql(4,4,Yh.bind(null,c,o),f)}function z0(){}function n5(o,c){var f=vs();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&qh(c,x[1])?x[0]:(f.memoizedState=[o,c],o)}function r5(o,c){var f=vs();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&qh(c,x[1])?x[0]:(o=o(),f.memoizedState=[o,c],o)}function i5(o,c,f){return(za&21)===0?(o.baseState&&(o.baseState=!1,Us=!0),o.memoizedState=f):(fn(f,c)||(f=Aa(),Kn.lanes|=f,Yu|=f,o.baseState=!0),c)}function jS(o,c){var f=Yt;Yt=f!==0&&4>f?f:4,o(!0);var x=Uh.transition;Uh.transition={};try{o(!1),c()}finally{Yt=f,Uh.transition=x}}function s5(){return vs().memoizedState}function CS(o,c,f){var x=Xc(o);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},a5(o))o5(c,f);else if(f=vo(o,c,f,x),f!==null){var N=ws();Ao(f,o,x,N),l5(f,c,x)}}function RS(o,c,f){var x=Xc(o),N={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if(a5(o))o5(c,N);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var $=c.lastRenderedState,he=R($,f);if(N.hasEagerState=!0,N.eagerState=he,fn(he,$)){var xe=c.interleaved;xe===null?(N.next=N,ol(c)):(N.next=xe.next,xe.next=N),c.interleaved=N;return}}catch{}finally{}f=vo(o,c,N,x),f!==null&&(N=ws(),Ao(f,o,x,N),l5(f,c,x))}}function a5(o){var c=o.alternate;return o===Kn||c!==null&&c===Kn}function o5(o,c){wo=Wc=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function l5(o,c,f){if((f&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,aa(o,f)}}var Up={readContext:_r,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},LS={readContext:_r,useCallback:function(o,c){return ma().memoizedState=[o,c===void 0?null:c],o},useContext:_r,useEffect:$h,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,ga(4194308,4,Yh.bind(null,c,o),f)},useLayoutEffect:function(o,c){return ga(4194308,4,o,c)},useInsertionEffect:function(o,c){return ga(4,2,o,c)},useMemo:function(o,c){var f=ma();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var x=ma();return c=f!==void 0?f(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=CS.bind(null,Kn,o),[x.memoizedState,o]},useRef:function(o){var c=ma();return o={current:o},c.memoizedState=o},useState:Ku,useDebugValue:z0,useDeferredValue:function(o){return ma().memoizedState=o},useTransition:function(){var o=Ku(!1),c=o[0];return o=jS.bind(null,o[1]),ma().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var x=Kn,N=ma();if(Ve){if(f===void 0)throw Error(t(407));f=f()}else{if(f=c(),di===null)throw Error(t(349));(za&30)!==0||Vp(x,c,f)}N.memoizedState=f;var R={value:f,getSnapshot:c};return N.queue=R,$h(Bp.bind(null,x,R,o),[o]),x.flags|=2048,xs(9,tf.bind(null,x,R,f,c),void 0,null),f},useId:function(){var o=ma(),c=di.identifierPrefix;if(Ve){var f=Pe,x=Ie;f=(x&~(1<<32-qr(x)-1)).toString(32)+f,c=":"+c+"R"+f,f=$c++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=B0++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},DS={readContext:_r,useCallback:n5,useContext:_r,useEffect:Gh,useImperativeHandle:t5,useInsertionEffect:zp,useLayoutEffect:Kh,useMemo:r5,useReducer:Hh,useRef:_o,useState:function(){return Hh(Gu)},useDebugValue:z0,useDeferredValue:function(o){var c=vs();return i5(c,Nr.memoizedState,o)},useTransition:function(){var o=Hh(Gu)[0],c=vs().memoizedState;return[o,c]},useMutableSource:Fp,useSyncExternalStore:ef,useId:s5,unstable_isNewReconciler:!1},MS={readContext:_r,useCallback:n5,useContext:_r,useEffect:Gh,useImperativeHandle:t5,useInsertionEffect:zp,useLayoutEffect:Kh,useMemo:r5,useReducer:cl,useRef:_o,useState:function(){return cl(Gu)},useDebugValue:z0,useDeferredValue:function(o){var c=vs();return Nr===null?c.memoizedState=o:i5(c,Nr.memoizedState,o)},useTransition:function(){var o=cl(Gu)[0],c=vs().memoizedState;return[o,c]},useMutableSource:Fp,useSyncExternalStore:ef,useId:s5,unstable_isNewReconciler:!1};function No(o,c){if(o&&o.defaultProps){c=me({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function U0(o,c,f,x){c=o.memoizedState,f=f(x,c),f=f==null?c:me({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var qp={isMounted:function(o){return(o=o._reactInternals)?pr(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var x=ws(),N=Xc(o),R=Vs(x,N);R.payload=c,f!=null&&(R.callback=f),c=Bs(o,R,N),c!==null&&(Ao(c,o,N,x),Kl(c,o,N))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var x=ws(),N=Xc(o),R=Vs(x,N);R.tag=1,R.payload=c,f!=null&&(R.callback=f),c=Bs(o,R,N),c!==null&&(Ao(c,o,N,x),Kl(c,o,N))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=ws(),x=Xc(o),N=Vs(f,x);N.tag=2,c!=null&&(N.callback=c),c=Bs(o,N,x),c!==null&&(Ao(c,o,x,f),Kl(c,o,x))}};function c5(o,c,f,x,N,R,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,R,$):c.prototype&&c.prototype.isPureReactComponent?!ho(f,x)||!ho(N,R):!0}function u5(o,c,f){var x=!1,N=al,R=c.contextType;return typeof R=="object"&&R!==null?R=_r(R):(N=Hi(c)?$l:Qr.current,x=c.contextTypes,R=(x=x!=null)?zc(o,N):al),c=new c(f,R),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=qp,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=N,o.__reactInternalMemoizedMaskedChildContext=R),c}function h5(o,c,f,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==o&&qp.enqueueReplaceState(c,c.state,null)}function q0(o,c,f,x){var N=o.stateNode;N.props=f,N.state=o.memoizedState,N.refs={},Bh(o);var R=c.contextType;typeof R=="object"&&R!==null?N.context=_r(R):(R=Hi(c)?$l:Qr.current,N.context=zc(o,R)),N.state=o.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(U0(o,c,R,f),N.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(c=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),c!==N.state&&qp.enqueueReplaceState(N,N.state,null),xo(o,f,N,x),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308)}function Qh(o,c){try{var f="",x=c;do f+=ce(x),x=x.return;while(x);var N=f}catch(R){N=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:c,stack:N,digest:null}}function H0(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function W0(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var OS=typeof WeakMap=="function"?WeakMap:Map;function d5(o,c,f){f=Vs(-1,f),f.tag=3,f.payload={element:null};var x=c.value;return f.callback=function(){Qp||(Qp=!0,a1=x),W0(o,c)},f}function f5(o,c,f){f=Vs(-1,f),f.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var N=c.value;f.payload=function(){return x(N)},f.callback=function(){W0(o,c)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(f.callback=function(){W0(o,c),typeof x!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var $=c.stack;this.componentDidCatch(c.value,{componentStack:$!==null?$:""})}),f}function p5(o,c,f){var x=o.pingCache;if(x===null){x=o.pingCache=new OS;var N=new Set;x.set(c,N)}else N=x.get(c),N===void 0&&(N=new Set,x.set(c,N));N.has(f)||(N.add(f),o=XS.bind(null,o,c,f),c.then(o,o))}function m5(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function g5(o,c,f,x,N){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Vs(-1,1),c.tag=2,Bs(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=N,o)}var FS=re.ReactCurrentOwner,Us=!1;function bs(o,c,f,x){c.child=o===null?yn(c,null,f,x):Tr(c,o.child,f,x)}function y5(o,c,f,x,N){f=f.render;var R=c.ref;return er(c,N),x=$u(o,c,f,x,R,N),f=Ua(),o!==null&&!Us?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~N,Xl(o,c,N)):(Ve&&f&&De(c),c.flags|=1,bs(o,c,x,N),c.child)}function v5(o,c,f,x,N){if(o===null){var R=f.type;return typeof R=="function"&&!f1(R)&&R.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=R,x5(o,c,R,x,N)):(o=nm(f.type,null,x,c,c.mode,N),o.ref=c.ref,o.return=c,c.child=o)}if(R=o.child,(o.lanes&N)===0){var $=R.memoizedProps;if(f=f.compare,f=f!==null?f:ho,f($,x)&&o.ref===c.ref)return Xl(o,c,N)}return c.flags|=1,o=Zc(R,x),o.ref=c.ref,o.return=c,c.child=o}function x5(o,c,f,x,N){if(o!==null){var R=o.memoizedProps;if(ho(R,x)&&o.ref===c.ref)if(Us=!1,c.pendingProps=x=R,(o.lanes&N)!==0)(o.flags&131072)!==0&&(Us=!0);else return c.lanes=o.lanes,Xl(o,c,N)}return $0(o,c,f,x,N)}function b5(o,c,f){var x=c.pendingProps,N=x.children,R=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(Jh,ya),ya|=f;else{if((f&1073741824)===0)return o=R!==null?R.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,In(Jh,ya),ya|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=R!==null?R.baseLanes:f,In(Jh,ya),ya|=x}else R!==null?(x=R.baseLanes|f,c.memoizedState=null):x=f,In(Jh,ya),ya|=x;return bs(o,c,N,f),c.child}function w5(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function $0(o,c,f,x,N){var R=Hi(f)?$l:Qr.current;return R=zc(c,R),er(c,N),f=$u(o,c,f,x,R,N),x=Ua(),o!==null&&!Us?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~N,Xl(o,c,N)):(Ve&&x&&De(c),c.flags|=1,bs(o,c,f,N),c.child)}function _5(o,c,f,x,N){if(Hi(f)){var R=!0;Gl(c)}else R=!1;if(er(c,N),c.stateNode===null)Wp(o,c),u5(c,f,x),q0(c,f,x,N),x=!0;else if(o===null){var $=c.stateNode,he=c.memoizedProps;$.props=he;var xe=$.context,Le=f.contextType;typeof Le=="object"&&Le!==null?Le=_r(Le):(Le=Hi(f)?$l:Qr.current,Le=zc(c,Le));var Ye=f.getDerivedStateFromProps,Xe=typeof Ye=="function"||typeof $.getSnapshotBeforeUpdate=="function";Xe||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(he!==x||xe!==Le)&&h5(c,$,x,Le),Va=!1;var Ke=c.memoizedState;$.state=Ke,xo(c,x,$,N),xe=c.memoizedState,he!==x||Ke!==xe||qi.current||Va?(typeof Ye=="function"&&(U0(c,f,Ye,x),xe=c.memoizedState),(he=Va||c5(c,f,he,x,Ke,xe,Le))?(Xe||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(c.flags|=4194308)):(typeof $.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=xe),$.props=x,$.state=xe,$.context=Le,x=he):(typeof $.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{$=c.stateNode,Qd(o,c),he=c.memoizedProps,Le=c.type===c.elementType?he:No(c.type,he),$.props=Le,Xe=c.pendingProps,Ke=$.context,xe=f.contextType,typeof xe=="object"&&xe!==null?xe=_r(xe):(xe=Hi(f)?$l:Qr.current,xe=zc(c,xe));var ut=f.getDerivedStateFromProps;(Ye=typeof ut=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(he!==Xe||Ke!==xe)&&h5(c,$,x,xe),Va=!1,Ke=c.memoizedState,$.state=Ke,xo(c,x,$,N);var mt=c.memoizedState;he!==Xe||Ke!==mt||qi.current||Va?(typeof ut=="function"&&(U0(c,f,ut,x),mt=c.memoizedState),(Le=Va||c5(c,f,Le,x,Ke,mt,xe)||!1)?(Ye||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(x,mt,xe),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(x,mt,xe)),typeof $.componentDidUpdate=="function"&&(c.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof $.componentDidUpdate!="function"||he===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||he===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=mt),$.props=x,$.state=mt,$.context=xe,x=Le):(typeof $.componentDidUpdate!="function"||he===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||he===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=1024),x=!1)}return G0(o,c,f,x,R,N)}function G0(o,c,f,x,N,R){w5(o,c);var $=(c.flags&128)!==0;if(!x&&!$)return N&&Mp(c,f,!1),Xl(o,c,R);x=c.stateNode,FS.current=c;var he=$&&typeof f.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&$?(c.child=Tr(c,o.child,null,R),c.child=Tr(c,null,he,R)):bs(o,c,he,R),c.memoizedState=x.state,N&&Mp(c,f,!0),c.child}function N5(o){var c=o.stateNode;c.pendingContext?Dp(o,c.pendingContext,c.pendingContext!==c.context):c.context&&Dp(o,c.context,!1),Hc(o,c.containerInfo)}function S5(o,c,f,x,N){return Kt(),kn(N),c.flags|=256,bs(o,c,f,x),c.child}var K0={dehydrated:null,treeContext:null,retryLane:0};function Y0(o){return{baseLanes:o,cachePool:null,transitions:null}}function k5(o,c,f){var x=c.pendingProps,N=Wn.current,R=!1,$=(c.flags&128)!==0,he;if((he=$)||(he=o!==null&&o.memoizedState===null?!1:(N&2)!==0),he?(R=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(N|=1),In(Wn,N&1),o===null)return ot(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):($=x.children,o=x.fallback,R?(x=c.mode,R=c.child,$={mode:"hidden",children:$},(x&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=$):R=rm($,x,0,null),o=Zu(o,x,f,null),R.return=c,o.return=c,R.sibling=o,c.child=R,c.child.memoizedState=Y0(f),c.memoizedState=K0,o):Q0(c,$));if(N=o.memoizedState,N!==null&&(he=N.dehydrated,he!==null))return VS(o,c,$,x,he,N,f);if(R){R=x.fallback,$=c.mode,N=o.child,he=N.sibling;var xe={mode:"hidden",children:x.children};return($&1)===0&&c.child!==N?(x=c.child,x.childLanes=0,x.pendingProps=xe,c.deletions=null):(x=Zc(N,xe),x.subtreeFlags=N.subtreeFlags&14680064),he!==null?R=Zc(he,R):(R=Zu(R,$,f,null),R.flags|=2),R.return=c,x.return=c,x.sibling=R,c.child=x,x=R,R=c.child,$=o.child.memoizedState,$=$===null?Y0(f):{baseLanes:$.baseLanes|f,cachePool:null,transitions:$.transitions},R.memoizedState=$,R.childLanes=o.childLanes&~f,c.memoizedState=K0,x}return R=o.child,o=R.sibling,x=Zc(R,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=f),x.return=c,x.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=x,c.memoizedState=null,x}function Q0(o,c){return c=rm({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Hp(o,c,f,x){return x!==null&&kn(x),Tr(c,o.child,null,f),o=Q0(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function VS(o,c,f,x,N,R,$){if(f)return c.flags&256?(c.flags&=-257,x=H0(Error(t(422))),Hp(o,c,$,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(R=x.fallback,N=c.mode,x=rm({mode:"visible",children:x.children},N,0,null),R=Zu(R,N,$,null),R.flags|=2,x.return=c,R.return=c,x.sibling=R,c.child=x,(c.mode&1)!==0&&Tr(c,o.child,null,$),c.child.memoizedState=Y0($),c.memoizedState=K0,R);if((c.mode&1)===0)return Hp(o,c,$,null);if(N.data==="$!"){if(x=N.nextSibling&&N.nextSibling.dataset,x)var he=x.dgst;return x=he,R=Error(t(419)),x=H0(R,x,void 0),Hp(o,c,$,x)}if(he=($&o.childLanes)!==0,Us||he){if(x=di,x!==null){switch($&-$){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(x.suspendedLanes|$))!==0?0:N,N!==0&&N!==R.retryLane&&(R.retryLane=N,vn(o,N),Ao(x,o,N,-1))}return d1(),x=H0(Error(t(421))),Hp(o,c,$,x)}return N.data==="$?"?(c.flags|=128,c.child=o.child,c=JS.bind(null,o),N._reactRetry=c,null):(o=R.treeContext,Be=ki(N.nextSibling),we=c,Ve=!0,ze=null,o!==null&&(X[ie++]=Ie,X[ie++]=Pe,X[ie++]=ve,Ie=o.id,Pe=o.overflow,ve=c),c=Q0(c,x.children),c.flags|=4096,c)}function A5(o,c,f){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),Fs(o.return,c,f)}function X0(o,c,f,x,N){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:N}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=x,R.tail=f,R.tailMode=N)}function E5(o,c,f){var x=c.pendingProps,N=x.revealOrder,R=x.tail;if(bs(o,c,x.children,f),x=Wn.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&A5(o,f,c);else if(o.tag===19)A5(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(In(Wn,x),(c.mode&1)===0)c.memoizedState=null;else switch(N){case"forwards":for(f=c.child,N=null;f!==null;)o=f.alternate,o!==null&&pa(o)===null&&(N=f),f=f.sibling;f=N,f===null?(N=c.child,c.child=null):(N=f.sibling,f.sibling=null),X0(c,!1,N,f,R);break;case"backwards":for(f=null,N=c.child,c.child=null;N!==null;){if(o=N.alternate,o!==null&&pa(o)===null){c.child=N;break}o=N.sibling,N.sibling=f,f=N,N=o}X0(c,!0,f,null,R);break;case"together":X0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Wp(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Xl(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),Yu|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(t(153));if(c.child!==null){for(o=c.child,f=Zc(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Zc(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function BS(o,c,f){switch(c.tag){case 3:N5(c),Kt();break;case 5:Op(c);break;case 1:Hi(c.type)&&Gl(c);break;case 4:Hc(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,N=c.memoizedProps.value;In(ui,x._currentValue),x._currentValue=N;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(In(Wn,Wn.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?k5(o,c,f):(In(Wn,Wn.current&1),o=Xl(o,c,f),o!==null?o.sibling:null);In(Wn,Wn.current&1);break;case 19:if(x=(f&c.childLanes)!==0,(o.flags&128)!==0){if(x)return E5(o,c,f);c.flags|=128}if(N=c.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),In(Wn,Wn.current),x)break;return null;case 22:case 23:return c.lanes=0,b5(o,c,f)}return Xl(o,c,f)}var T5,J0,I5,P5;T5=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},J0=function(){},I5=function(o,c,f,x){var N=o.memoizedProps;if(N!==x){o=c.stateNode,bo(ys.current);var R=null;switch(f){case"input":N=bt(o,N),x=bt(o,x),R=[];break;case"select":N=me({},N,{value:void 0}),x=me({},x,{value:void 0}),R=[];break;case"textarea":N=st(o,N),x=st(o,x),R=[];break;default:typeof N.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Fc)}En(f,x);var $;f=null;for(Le in N)if(!x.hasOwnProperty(Le)&&N.hasOwnProperty(Le)&&N[Le]!=null)if(Le==="style"){var he=N[Le];for($ in he)he.hasOwnProperty($)&&(f||(f={}),f[$]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(i.hasOwnProperty(Le)?R||(R=[]):(R=R||[]).push(Le,null));for(Le in x){var xe=x[Le];if(he=N!=null?N[Le]:void 0,x.hasOwnProperty(Le)&&xe!==he&&(xe!=null||he!=null))if(Le==="style")if(he){for($ in he)!he.hasOwnProperty($)||xe&&xe.hasOwnProperty($)||(f||(f={}),f[$]="");for($ in xe)xe.hasOwnProperty($)&&he[$]!==xe[$]&&(f||(f={}),f[$]=xe[$])}else f||(R||(R=[]),R.push(Le,f)),f=xe;else Le==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,he=he?he.__html:void 0,xe!=null&&he!==xe&&(R=R||[]).push(Le,xe)):Le==="children"?typeof xe!="string"&&typeof xe!="number"||(R=R||[]).push(Le,""+xe):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(i.hasOwnProperty(Le)?(xe!=null&&Le==="onScroll"&&On("scroll",o),R||he===xe||(R=[])):(R=R||[]).push(Le,xe))}f&&(R=R||[]).push("style",f);var Le=R;(c.updateQueue=Le)&&(c.flags|=4)}},P5=function(o,c,f,x){f!==x&&(c.flags|=4)};function nf(o,c){if(!Ve)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function $i(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,x=0;if(c)for(var N=o.child;N!==null;)f|=N.lanes|N.childLanes,x|=N.subtreeFlags&14680064,x|=N.flags&14680064,N.return=o,N=N.sibling;else for(N=o.child;N!==null;)f|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=o,N=N.sibling;return o.subtreeFlags|=x,o.childLanes=f,c}function zS(o,c,f){var x=c.pendingProps;switch(be(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(c),null;case 1:return Hi(c.type)&&Vh(),$i(c),null;case 3:return x=c.stateNode,Ba(),Sn(qi),Sn(Qr),Zd(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(un(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ze!==null&&(c1(ze),ze=null))),J0(o,c),$i(c),null;case 5:Xd(c);var N=bo(ll.current);if(f=c.type,o!==null&&c.stateNode!=null)I5(o,c,f,x,N),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(t(166));return $i(c),null}if(o=bo(ys.current),un(c)){x=c.stateNode,f=c.type;var R=c.memoizedProps;switch(x[Fa]=c,x[Vc]=R,o=(c.mode&1)!==0,f){case"dialog":On("cancel",x),On("close",x);break;case"iframe":case"object":case"embed":On("load",x);break;case"video":case"audio":for(N=0;N<il.length;N++)On(il[N],x);break;case"source":On("error",x);break;case"img":case"image":case"link":On("error",x),On("load",x);break;case"details":On("toggle",x);break;case"input":Oe(x,R),On("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!R.multiple},On("invalid",x);break;case"textarea":yt(x,R),On("invalid",x)}En(f,R),N=null;for(var $ in R)if(R.hasOwnProperty($)){var he=R[$];$==="children"?typeof he=="string"?x.textContent!==he&&(R.suppressHydrationWarning!==!0&&Fh(x.textContent,he,o),N=["children",he]):typeof he=="number"&&x.textContent!==""+he&&(R.suppressHydrationWarning!==!0&&Fh(x.textContent,he,o),N=["children",""+he]):i.hasOwnProperty($)&&he!=null&&$==="onScroll"&&On("scroll",x)}switch(f){case"input":$e(x),ft(x,R,!0);break;case"textarea":$e(x),Bt(x);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(x.onclick=Fc)}x=N,c.updateQueue=x,x!==null&&(c.flags|=4)}else{$=N.nodeType===9?N:N.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=wt(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=$.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=$.createElement(f,{is:x.is}):(o=$.createElement(f),f==="select"&&($=o,x.multiple?$.multiple=!0:x.size&&($.size=x.size))):o=$.createElementNS(o,f),o[Fa]=c,o[Vc]=x,T5(o,c,!1,!1),c.stateNode=o;e:{switch($=Li(f,x),f){case"dialog":On("cancel",o),On("close",o),N=x;break;case"iframe":case"object":case"embed":On("load",o),N=x;break;case"video":case"audio":for(N=0;N<il.length;N++)On(il[N],o);N=x;break;case"source":On("error",o),N=x;break;case"img":case"image":case"link":On("error",o),On("load",o),N=x;break;case"details":On("toggle",o),N=x;break;case"input":Oe(o,x),N=bt(o,x),On("invalid",o);break;case"option":N=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},N=me({},x,{value:void 0}),On("invalid",o);break;case"textarea":yt(o,x),N=st(o,x),On("invalid",o);break;default:N=x}En(f,N),he=N;for(R in he)if(he.hasOwnProperty(R)){var xe=he[R];R==="style"?gi(o,xe):R==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&It(o,xe)):R==="children"?typeof xe=="string"?(f!=="textarea"||xe!=="")&&Ut(o,xe):typeof xe=="number"&&Ut(o,""+xe):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?xe!=null&&R==="onScroll"&&On("scroll",o):xe!=null&&q(o,R,xe,$))}switch(f){case"input":$e(o),ft(o,x,!1);break;case"textarea":$e(o),Bt(o);break;case"option":x.value!=null&&o.setAttribute("value",""+_e(x.value));break;case"select":o.multiple=!!x.multiple,R=x.value,R!=null?nt(o,!!x.multiple,R,!1):x.defaultValue!=null&&nt(o,!!x.multiple,x.defaultValue,!0);break;default:typeof N.onClick=="function"&&(o.onclick=Fc)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return $i(c),null;case 6:if(o&&c.stateNode!=null)P5(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(t(166));if(f=bo(ll.current),bo(ys.current),un(c)){if(x=c.stateNode,f=c.memoizedProps,x[Fa]=c,(R=x.nodeValue!==f)&&(o=we,o!==null))switch(o.tag){case 3:Fh(x.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Fh(x.nodeValue,f,(o.mode&1)!==0)}R&&(c.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[Fa]=c,c.stateNode=x}return $i(c),null;case 13:if(Sn(Wn),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ve&&Be!==null&&(c.mode&1)!==0&&(c.flags&128)===0)rn(),Kt(),c.flags|=98560,R=!1;else if(R=un(c),x!==null&&x.dehydrated!==null){if(o===null){if(!R)throw Error(t(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(t(317));R[Fa]=c}else Kt(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$i(c),R=!1}else ze!==null&&(c1(ze),ze=null),R=!0;if(!R)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(Wn.current&1)!==0?Jr===0&&(Jr=3):d1())),c.updateQueue!==null&&(c.flags|=4),$i(c),null);case 4:return Ba(),J0(o,c),o===null&&Ul(c.stateNode.containerInfo),$i(c),null;case 10:return Wi(c.type._context),$i(c),null;case 17:return Hi(c.type)&&Vh(),$i(c),null;case 19:if(Sn(Wn),R=c.memoizedState,R===null)return $i(c),null;if(x=(c.flags&128)!==0,$=R.rendering,$===null)if(x)nf(R,!1);else{if(Jr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if($=pa(o),$!==null){for(c.flags|=128,nf(R,!1),x=$.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=f,f=c.child;f!==null;)R=f,o=x,R.flags&=14680066,$=R.alternate,$===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=$.childLanes,R.lanes=$.lanes,R.child=$.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=$.memoizedProps,R.memoizedState=$.memoizedState,R.updateQueue=$.updateQueue,R.type=$.type,o=$.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return In(Wn,Wn.current&1|2),c.child}o=o.sibling}R.tail!==null&&Tn()>Zh&&(c.flags|=128,x=!0,nf(R,!1),c.lanes=4194304)}else{if(!x)if(o=pa($),o!==null){if(c.flags|=128,x=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),nf(R,!0),R.tail===null&&R.tailMode==="hidden"&&!$.alternate&&!Ve)return $i(c),null}else 2*Tn()-R.renderingStartTime>Zh&&f!==1073741824&&(c.flags|=128,x=!0,nf(R,!1),c.lanes=4194304);R.isBackwards?($.sibling=c.child,c.child=$):(f=R.last,f!==null?f.sibling=$:c.child=$,R.last=$)}return R.tail!==null?(c=R.tail,R.rendering=c,R.tail=c.sibling,R.renderingStartTime=Tn(),c.sibling=null,f=Wn.current,In(Wn,x?f&1|2:f&1),c):($i(c),null);case 22:case 23:return h1(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(ya&1073741824)!==0&&($i(c),c.subtreeFlags&6&&(c.flags|=8192)):$i(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function US(o,c){switch(be(c),c.tag){case 1:return Hi(c.type)&&Vh(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ba(),Sn(qi),Sn(Qr),Zd(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Xd(c),null;case 13:if(Sn(Wn),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Kt()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Sn(Wn),null;case 4:return Ba(),null;case 10:return Wi(c.type._context),null;case 22:case 23:return h1(),null;case 24:return null;default:return null}}var $p=!1,Gi=!1,qS=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Xh(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){Sr(o,c,x)}else f.current=null}function Z0(o,c,f){try{f()}catch(x){Sr(o,c,x)}}var j5=!1;function HS(o,c){if(qu=Ia,o=Mu(),Fl(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var N=x.anchorOffset,R=x.focusNode;x=x.focusOffset;try{f.nodeType,R.nodeType}catch{f=null;break e}var $=0,he=-1,xe=-1,Le=0,Ye=0,Xe=o,Ke=null;t:for(;;){for(var ut;Xe!==f||N!==0&&Xe.nodeType!==3||(he=$+N),Xe!==R||x!==0&&Xe.nodeType!==3||(xe=$+x),Xe.nodeType===3&&($+=Xe.nodeValue.length),(ut=Xe.firstChild)!==null;)Ke=Xe,Xe=ut;for(;;){if(Xe===o)break t;if(Ke===f&&++Le===N&&(he=$),Ke===R&&++Ye===x&&(xe=$),(ut=Xe.nextSibling)!==null)break;Xe=Ke,Ke=Xe.parentNode}Xe=ut}f=he===-1||xe===-1?null:{start:he,end:xe}}else f=null}f=f||{start:0,end:0}}else f=null;for(Hl={focusedElem:o,selectionRange:f},Ia=!1,pt=c;pt!==null;)if(c=pt,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,pt=o;else for(;pt!==null;){c=pt;try{var mt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var vt=mt.memoizedProps,jr=mt.memoizedState,je=c.stateNode,ke=je.getSnapshotBeforeUpdate(c.elementType===c.type?vt:No(c.type,vt),jr);je.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Re=c.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ze){Sr(c,c.return,Ze)}if(o=c.sibling,o!==null){o.return=c.return,pt=o;break}pt=c.return}return mt=j5,j5=!1,mt}function rf(o,c,f){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&o)===o){var R=N.destroy;N.destroy=void 0,R!==void 0&&Z0(c,f,R)}N=N.next}while(N!==x)}}function Gp(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var x=f.create;f.destroy=x()}f=f.next}while(f!==c)}}function e1(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function C5(o){var c=o.alternate;c!==null&&(o.alternate=null,C5(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Fa],delete c[Vc],delete c[Ui],delete c[F0],delete c[V0])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function R5(o){return o.tag===5||o.tag===3||o.tag===4}function L5(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||R5(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function t1(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Fc));else if(x!==4&&(o=o.child,o!==null))for(t1(o,c,f),o=o.sibling;o!==null;)t1(o,c,f),o=o.sibling}function n1(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(n1(o,c,f),o=o.sibling;o!==null;)n1(o,c,f),o=o.sibling}var Ei=null,So=!1;function Kc(o,c,f){for(f=f.child;f!==null;)D5(o,c,f),f=f.sibling}function D5(o,c,f){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(Na,f)}catch{}switch(f.tag){case 5:Gi||Xh(f,c);case 6:var x=Ei,N=So;Ei=null,Kc(o,c,f),Ei=x,So=N,Ei!==null&&(So?(o=Ei,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Ei.removeChild(f.stateNode));break;case 18:Ei!==null&&(So?(o=Ei,f=f.stateNode,o.nodeType===8?Gd(o.parentNode,f):o.nodeType===1&&Gd(o,f),Gr(o)):Gd(Ei,f.stateNode));break;case 4:x=Ei,N=So,Ei=f.stateNode.containerInfo,So=!0,Kc(o,c,f),Ei=x,So=N;break;case 0:case 11:case 14:case 15:if(!Gi&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){N=x=x.next;do{var R=N,$=R.destroy;R=R.tag,$!==void 0&&((R&2)!==0||(R&4)!==0)&&Z0(f,c,$),N=N.next}while(N!==x)}Kc(o,c,f);break;case 1:if(!Gi&&(Xh(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(he){Sr(f,c,he)}Kc(o,c,f);break;case 21:Kc(o,c,f);break;case 22:f.mode&1?(Gi=(x=Gi)||f.memoizedState!==null,Kc(o,c,f),Gi=x):Kc(o,c,f);break;default:Kc(o,c,f)}}function M5(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new qS),c.forEach(function(x){var N=ZS.bind(null,o,x);f.has(x)||(f.add(x),x.then(N,N))})}}function ko(o,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var N=f[x];try{var R=o,$=c,he=$;e:for(;he!==null;){switch(he.tag){case 5:Ei=he.stateNode,So=!1;break e;case 3:Ei=he.stateNode.containerInfo,So=!0;break e;case 4:Ei=he.stateNode.containerInfo,So=!0;break e}he=he.return}if(Ei===null)throw Error(t(160));D5(R,$,N),Ei=null,So=!1;var xe=N.alternate;xe!==null&&(xe.return=null),N.return=null}catch(Le){Sr(N,c,Le)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)O5(c,o),c=c.sibling}function O5(o,c){var f=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ko(c,o),ul(o),x&4){try{rf(3,o,o.return),Gp(3,o)}catch(vt){Sr(o,o.return,vt)}try{rf(5,o,o.return)}catch(vt){Sr(o,o.return,vt)}}break;case 1:ko(c,o),ul(o),x&512&&f!==null&&Xh(f,f.return);break;case 5:if(ko(c,o),ul(o),x&512&&f!==null&&Xh(f,f.return),o.flags&32){var N=o.stateNode;try{Ut(N,"")}catch(vt){Sr(o,o.return,vt)}}if(x&4&&(N=o.stateNode,N!=null)){var R=o.memoizedProps,$=f!==null?f.memoizedProps:R,he=o.type,xe=o.updateQueue;if(o.updateQueue=null,xe!==null)try{he==="input"&&R.type==="radio"&&R.name!=null&&ue(N,R),Li(he,$);var Le=Li(he,R);for($=0;$<xe.length;$+=2){var Ye=xe[$],Xe=xe[$+1];Ye==="style"?gi(N,Xe):Ye==="dangerouslySetInnerHTML"?It(N,Xe):Ye==="children"?Ut(N,Xe):q(N,Ye,Xe,Le)}switch(he){case"input":Ct(N,R);break;case"textarea":Rt(N,R);break;case"select":var Ke=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!R.multiple;var ut=R.value;ut!=null?nt(N,!!R.multiple,ut,!1):Ke!==!!R.multiple&&(R.defaultValue!=null?nt(N,!!R.multiple,R.defaultValue,!0):nt(N,!!R.multiple,R.multiple?[]:"",!1))}N[Vc]=R}catch(vt){Sr(o,o.return,vt)}}break;case 6:if(ko(c,o),ul(o),x&4){if(o.stateNode===null)throw Error(t(162));N=o.stateNode,R=o.memoizedProps;try{N.nodeValue=R}catch(vt){Sr(o,o.return,vt)}}break;case 3:if(ko(c,o),ul(o),x&4&&f!==null&&f.memoizedState.isDehydrated)try{Gr(c.containerInfo)}catch(vt){Sr(o,o.return,vt)}break;case 4:ko(c,o),ul(o);break;case 13:ko(c,o),ul(o),N=o.child,N.flags&8192&&(R=N.memoizedState!==null,N.stateNode.isHidden=R,!R||N.alternate!==null&&N.alternate.memoizedState!==null||(s1=Tn())),x&4&&M5(o);break;case 22:if(Ye=f!==null&&f.memoizedState!==null,o.mode&1?(Gi=(Le=Gi)||Ye,ko(c,o),Gi=Le):ko(c,o),ul(o),x&8192){if(Le=o.memoizedState!==null,(o.stateNode.isHidden=Le)&&!Ye&&(o.mode&1)!==0)for(pt=o,Ye=o.child;Ye!==null;){for(Xe=pt=Ye;pt!==null;){switch(Ke=pt,ut=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:rf(4,Ke,Ke.return);break;case 1:Xh(Ke,Ke.return);var mt=Ke.stateNode;if(typeof mt.componentWillUnmount=="function"){x=Ke,f=Ke.return;try{c=x,mt.props=c.memoizedProps,mt.state=c.memoizedState,mt.componentWillUnmount()}catch(vt){Sr(x,f,vt)}}break;case 5:Xh(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){B5(Xe);continue}}ut!==null?(ut.return=Ke,pt=ut):B5(Xe)}Ye=Ye.sibling}e:for(Ye=null,Xe=o;;){if(Xe.tag===5){if(Ye===null){Ye=Xe;try{N=Xe.stateNode,Le?(R=N.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(he=Xe.stateNode,xe=Xe.memoizedProps.style,$=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,he.style.display=Jt("display",$))}catch(vt){Sr(o,o.return,vt)}}}else if(Xe.tag===6){if(Ye===null)try{Xe.stateNode.nodeValue=Le?"":Xe.memoizedProps}catch(vt){Sr(o,o.return,vt)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===o)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===o)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===o)break e;Ye===Xe&&(Ye=null),Xe=Xe.return}Ye===Xe&&(Ye=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:ko(c,o),ul(o),x&4&&M5(o);break;case 21:break;default:ko(c,o),ul(o)}}function ul(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(R5(f)){var x=f;break e}f=f.return}throw Error(t(160))}switch(x.tag){case 5:var N=x.stateNode;x.flags&32&&(Ut(N,""),x.flags&=-33);var R=L5(o);n1(o,R,N);break;case 3:case 4:var $=x.stateNode.containerInfo,he=L5(o);t1(o,he,$);break;default:throw Error(t(161))}}catch(xe){Sr(o,o.return,xe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function WS(o,c,f){pt=o,F5(o)}function F5(o,c,f){for(var x=(o.mode&1)!==0;pt!==null;){var N=pt,R=N.child;if(N.tag===22&&x){var $=N.memoizedState!==null||$p;if(!$){var he=N.alternate,xe=he!==null&&he.memoizedState!==null||Gi;he=$p;var Le=Gi;if($p=$,(Gi=xe)&&!Le)for(pt=N;pt!==null;)$=pt,xe=$.child,$.tag===22&&$.memoizedState!==null?z5(N):xe!==null?(xe.return=$,pt=xe):z5(N);for(;R!==null;)pt=R,F5(R),R=R.sibling;pt=N,$p=he,Gi=Le}V5(o)}else(N.subtreeFlags&8772)!==0&&R!==null?(R.return=N,pt=R):V5(o)}}function V5(o){for(;pt!==null;){var c=pt;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Gi||Gp(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Gi)if(f===null)x.componentDidMount();else{var N=c.elementType===c.type?f.memoizedProps:No(c.type,f.memoizedProps);x.componentDidUpdate(N,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var R=c.updateQueue;R!==null&&Yl(c,R,x);break;case 3:var $=c.updateQueue;if($!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}Yl(c,$,f)}break;case 5:var he=c.stateNode;if(f===null&&c.flags&4){f=he;var xe=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&f.focus();break;case"img":xe.src&&(f.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Le=c.alternate;if(Le!==null){var Ye=Le.memoizedState;if(Ye!==null){var Xe=Ye.dehydrated;Xe!==null&&Gr(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gi||c.flags&512&&e1(c)}catch(Ke){Sr(c,c.return,Ke)}}if(c===o){pt=null;break}if(f=c.sibling,f!==null){f.return=c.return,pt=f;break}pt=c.return}}function B5(o){for(;pt!==null;){var c=pt;if(c===o){pt=null;break}var f=c.sibling;if(f!==null){f.return=c.return,pt=f;break}pt=c.return}}function z5(o){for(;pt!==null;){var c=pt;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Gp(4,c)}catch(xe){Sr(c,f,xe)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var N=c.return;try{x.componentDidMount()}catch(xe){Sr(c,N,xe)}}var R=c.return;try{e1(c)}catch(xe){Sr(c,R,xe)}break;case 5:var $=c.return;try{e1(c)}catch(xe){Sr(c,$,xe)}}}catch(xe){Sr(c,c.return,xe)}if(c===o){pt=null;break}var he=c.sibling;if(he!==null){he.return=c.return,pt=he;break}pt=c.return}}var $S=Math.ceil,Kp=re.ReactCurrentDispatcher,r1=re.ReactCurrentOwner,qa=re.ReactCurrentBatchConfig,pn=0,di=null,Vr=null,Ti=0,ya=0,Jh=fa(0),Jr=0,sf=null,Yu=0,Yp=0,i1=0,af=null,qs=null,s1=0,Zh=1/0,Jl=null,Qp=!1,a1=null,Yc=null,Xp=!1,Qc=null,Jp=0,of=0,o1=null,Zp=-1,em=0;function ws(){return(pn&6)!==0?Tn():Zp!==-1?Zp:Zp=Tn()}function Xc(o){return(o.mode&1)===0?1:(pn&2)!==0&&Ti!==0?Ti&-Ti:Pn.transition!==null?(em===0&&(em=Aa()),em):(o=Yt,o!==0||(o=window.event,o=o===void 0?16:Xo(o.type)),o)}function Ao(o,c,f,x){if(50<of)throw of=0,o1=null,Error(t(185));sa(o,f,x),((pn&2)===0||o!==di)&&(o===di&&((pn&2)===0&&(Yp|=f),Jr===4&&Jc(o,Ti)),Hs(o,x),f===1&&pn===0&&(c.mode&1)===0&&(Zh=Tn()+500,Wu&&D()))}function Hs(o,c){var f=o.callbackNode;lr(o,c);var x=Hr(o,o===di?Ti:0);if(x===0)f!==null&&_a(f),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(f!=null&&_a(f),c===1)o.tag===0?k(q5.bind(null,o)):w(q5.bind(null,o)),M0(function(){(pn&6)===0&&D()}),f=null;else{switch(Is(x)){case 1:f=Ts;break;case 4:f=ia;break;case 16:f=Oi;break;case 536870912:f=wc;break;default:f=Oi}f=X5(f,U5.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function U5(o,c){if(Zp=-1,em=0,(pn&6)!==0)throw Error(t(327));var f=o.callbackNode;if(ed()&&o.callbackNode!==f)return null;var x=Hr(o,o===di?Ti:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=tm(o,x);else{c=x;var N=pn;pn|=2;var R=W5();(di!==o||Ti!==c)&&(Jl=null,Zh=Tn()+500,Xu(o,c));do try{YS();break}catch(he){H5(o,he)}while(!0);Xr(),Kp.current=R,pn=N,Vr!==null?c=0:(di=null,Ti=0,c=Jr)}if(c!==0){if(c===2&&(N=Wr(o),N!==0&&(x=N,c=l1(o,N))),c===1)throw f=sf,Xu(o,0),Jc(o,x),Hs(o,Tn()),f;if(c===6)Jc(o,x);else{if(N=o.current.alternate,(x&30)===0&&!GS(N)&&(c=tm(o,x),c===2&&(R=Wr(o),R!==0&&(x=R,c=l1(o,R))),c===1))throw f=sf,Xu(o,0),Jc(o,x),Hs(o,Tn()),f;switch(o.finishedWork=N,o.finishedLanes=x,c){case 0:case 1:throw Error(t(345));case 2:Ju(o,qs,Jl);break;case 3:if(Jc(o,x),(x&130023424)===x&&(c=s1+500-Tn(),10<c)){if(Hr(o,0)!==0)break;if(N=o.suspendedLanes,(N&x)!==x){ws(),o.pingedLanes|=o.suspendedLanes&N;break}o.timeoutHandle=$d(Ju.bind(null,o,qs,Jl),c);break}Ju(o,qs,Jl);break;case 4:if(Jc(o,x),(x&4194240)===x)break;for(c=o.eventTimes,N=-1;0<x;){var $=31-qr(x);R=1<<$,$=c[$],$>N&&(N=$),x&=~R}if(x=N,x=Tn()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*$S(x/1960))-x,10<x){o.timeoutHandle=$d(Ju.bind(null,o,qs,Jl),x);break}Ju(o,qs,Jl);break;case 5:Ju(o,qs,Jl);break;default:throw Error(t(329))}}}return Hs(o,Tn()),o.callbackNode===f?U5.bind(null,o):null}function l1(o,c){var f=af;return o.current.memoizedState.isDehydrated&&(Xu(o,c).flags|=256),o=tm(o,c),o!==2&&(c=qs,qs=f,c!==null&&c1(c)),o}function c1(o){qs===null?qs=o:qs.push.apply(qs,o)}function GS(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var N=f[x],R=N.getSnapshot;N=N.value;try{if(!fn(R(),N))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Jc(o,c){for(c&=~i1,c&=~Yp,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-qr(c),x=1<<f;o[f]=-1,c&=~x}}function q5(o){if((pn&6)!==0)throw Error(t(327));ed();var c=Hr(o,0);if((c&1)===0)return Hs(o,Tn()),null;var f=tm(o,c);if(o.tag!==0&&f===2){var x=Wr(o);x!==0&&(c=x,f=l1(o,x))}if(f===1)throw f=sf,Xu(o,0),Jc(o,c),Hs(o,Tn()),f;if(f===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Ju(o,qs,Jl),Hs(o,Tn()),null}function u1(o,c){var f=pn;pn|=1;try{return o(c)}finally{pn=f,pn===0&&(Zh=Tn()+500,Wu&&D())}}function Qu(o){Qc!==null&&Qc.tag===0&&(pn&6)===0&&ed();var c=pn;pn|=1;var f=qa.transition,x=Yt;try{if(qa.transition=null,Yt=1,o)return o()}finally{Yt=x,qa.transition=f,pn=c,(pn&6)===0&&D()}}function h1(){ya=Jh.current,Sn(Jh)}function Xu(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,Rp(f)),Vr!==null)for(f=Vr.return;f!==null;){var x=f;switch(be(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Vh();break;case 3:Ba(),Sn(qi),Sn(Qr),Zd();break;case 5:Xd(x);break;case 4:Ba();break;case 13:Sn(Wn);break;case 19:Sn(Wn);break;case 10:Wi(x.type._context);break;case 22:case 23:h1()}f=f.return}if(di=o,Vr=o=Zc(o.current,null),Ti=ya=c,Jr=0,sf=null,i1=Yp=Yu=0,qs=af=null,gs!==null){for(c=0;c<gs.length;c++)if(f=gs[c],x=f.interleaved,x!==null){f.interleaved=null;var N=x.next,R=f.pending;if(R!==null){var $=R.next;R.next=N,x.next=$}f.pending=x}gs=null}return o}function H5(o,c){do{var f=Vr;try{if(Xr(),zh.current=Up,Wc){for(var x=Kn.memoizedState;x!==null;){var N=x.queue;N!==null&&(N.pending=null),x=x.next}Wc=!1}if(za=0,gr=Nr=Kn=null,wo=!1,$c=0,r1.current=null,f===null||f.return===null){Jr=1,sf=c,Vr=null;break}e:{var R=o,$=f.return,he=f,xe=c;if(c=Ti,he.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Le=xe,Ye=he,Xe=Ye.tag;if((Ye.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var Ke=Ye.alternate;Ke?(Ye.updateQueue=Ke.updateQueue,Ye.memoizedState=Ke.memoizedState,Ye.lanes=Ke.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var ut=m5($);if(ut!==null){ut.flags&=-257,g5(ut,$,he,R,c),ut.mode&1&&p5(R,Le,c),c=ut,xe=Le;var mt=c.updateQueue;if(mt===null){var vt=new Set;vt.add(xe),c.updateQueue=vt}else mt.add(xe);break e}else{if((c&1)===0){p5(R,Le,c),d1();break e}xe=Error(t(426))}}else if(Ve&&he.mode&1){var jr=m5($);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),g5(jr,$,he,R,c),kn(Qh(xe,he));break e}}R=xe=Qh(xe,he),Jr!==4&&(Jr=2),af===null?af=[R]:af.push(R),R=$;do{switch(R.tag){case 3:R.flags|=65536,c&=-c,R.lanes|=c;var je=d5(R,xe,c);zs(R,je);break e;case 1:he=xe;var ke=R.type,Re=R.stateNode;if((R.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(Yc===null||!Yc.has(Re)))){R.flags|=65536,c&=-c,R.lanes|=c;var Ze=f5(R,he,c);zs(R,Ze);break e}}R=R.return}while(R!==null)}G5(f)}catch(xt){c=xt,Vr===f&&f!==null&&(Vr=f=f.return);continue}break}while(!0)}function W5(){var o=Kp.current;return Kp.current=Up,o===null?Up:o}function d1(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),di===null||(Yu&268435455)===0&&(Yp&268435455)===0||Jc(di,Ti)}function tm(o,c){var f=pn;pn|=2;var x=W5();(di!==o||Ti!==c)&&(Jl=null,Xu(o,c));do try{KS();break}catch(N){H5(o,N)}while(!0);if(Xr(),pn=f,Kp.current=x,Vr!==null)throw Error(t(261));return di=null,Ti=0,Jr}function KS(){for(;Vr!==null;)$5(Vr)}function YS(){for(;Vr!==null&&!Za();)$5(Vr)}function $5(o){var c=Q5(o.alternate,o,ya);o.memoizedProps=o.pendingProps,c===null?G5(o):Vr=c,r1.current=null}function G5(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=zS(f,c,ya),f!==null){Vr=f;return}}else{if(f=US(f,c),f!==null){f.flags&=32767,Vr=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Jr=6,Vr=null;return}}if(c=c.sibling,c!==null){Vr=c;return}Vr=c=o}while(c!==null);Jr===0&&(Jr=5)}function Ju(o,c,f){var x=Yt,N=qa.transition;try{qa.transition=null,Yt=1,QS(o,c,f,x)}finally{qa.transition=N,Yt=x}return null}function QS(o,c,f,x){do ed();while(Qc!==null);if((pn&6)!==0)throw Error(t(327));f=o.finishedWork;var N=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var R=f.lanes|f.childLanes;if(wn(o,R),o===di&&(Vr=di=null,Ti=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Xp||(Xp=!0,X5(Oi,function(){return ed(),null})),R=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||R){R=qa.transition,qa.transition=null;var $=Yt;Yt=1;var he=pn;pn|=4,r1.current=null,HS(o,f),O5(f,o),Vl(Hl),Ia=!!qu,Hl=qu=null,o.current=f,WS(f),xc(),pn=he,Yt=$,qa.transition=R}else o.current=f;if(Xp&&(Xp=!1,Qc=o,Jp=N),R=o.pendingLanes,R===0&&(Yc=null),to(f.stateNode),Hs(o,Tn()),c!==null)for(x=o.onRecoverableError,f=0;f<c.length;f++)N=c[f],x(N.value,{componentStack:N.stack,digest:N.digest});if(Qp)throw Qp=!1,o=a1,a1=null,o;return(Jp&1)!==0&&o.tag!==0&&ed(),R=o.pendingLanes,(R&1)!==0?o===o1?of++:(of=0,o1=o):of=0,D(),null}function ed(){if(Qc!==null){var o=Is(Jp),c=qa.transition,f=Yt;try{if(qa.transition=null,Yt=16>o?16:o,Qc===null)var x=!1;else{if(o=Qc,Qc=null,Jp=0,(pn&6)!==0)throw Error(t(331));var N=pn;for(pn|=4,pt=o.current;pt!==null;){var R=pt,$=R.child;if((pt.flags&16)!==0){var he=R.deletions;if(he!==null){for(var xe=0;xe<he.length;xe++){var Le=he[xe];for(pt=Le;pt!==null;){var Ye=pt;switch(Ye.tag){case 0:case 11:case 15:rf(8,Ye,R)}var Xe=Ye.child;if(Xe!==null)Xe.return=Ye,pt=Xe;else for(;pt!==null;){Ye=pt;var Ke=Ye.sibling,ut=Ye.return;if(C5(Ye),Ye===Le){pt=null;break}if(Ke!==null){Ke.return=ut,pt=Ke;break}pt=ut}}}var mt=R.alternate;if(mt!==null){var vt=mt.child;if(vt!==null){mt.child=null;do{var jr=vt.sibling;vt.sibling=null,vt=jr}while(vt!==null)}}pt=R}}if((R.subtreeFlags&2064)!==0&&$!==null)$.return=R,pt=$;else e:for(;pt!==null;){if(R=pt,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:rf(9,R,R.return)}var je=R.sibling;if(je!==null){je.return=R.return,pt=je;break e}pt=R.return}}var ke=o.current;for(pt=ke;pt!==null;){$=pt;var Re=$.child;if(($.subtreeFlags&2064)!==0&&Re!==null)Re.return=$,pt=Re;else e:for($=ke;pt!==null;){if(he=pt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:Gp(9,he)}}catch(xt){Sr(he,he.return,xt)}if(he===$){pt=null;break e}var Ze=he.sibling;if(Ze!==null){Ze.return=he.return,pt=Ze;break e}pt=he.return}}if(pn=N,D(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(Na,o)}catch{}x=!0}return x}finally{Yt=f,qa.transition=c}}return!1}function K5(o,c,f){c=Qh(f,c),c=d5(o,c,1),o=Bs(o,c,1),c=ws(),o!==null&&(sa(o,1,c),Hs(o,c))}function Sr(o,c,f){if(o.tag===3)K5(o,o,f);else for(;c!==null;){if(c.tag===3){K5(c,o,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Yc===null||!Yc.has(x))){o=Qh(f,o),o=f5(c,o,1),c=Bs(c,o,1),o=ws(),c!==null&&(sa(c,1,o),Hs(c,o));break}}c=c.return}}function XS(o,c,f){var x=o.pingCache;x!==null&&x.delete(c),c=ws(),o.pingedLanes|=o.suspendedLanes&f,di===o&&(Ti&f)===f&&(Jr===4||Jr===3&&(Ti&130023424)===Ti&&500>Tn()-s1?Xu(o,0):i1|=f),Hs(o,c)}function Y5(o,c){c===0&&((o.mode&1)===0?c=1:(c=Sa,Sa<<=1,(Sa&130023424)===0&&(Sa=4194304)));var f=ws();o=vn(o,c),o!==null&&(sa(o,c,f),Hs(o,f))}function JS(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),Y5(o,f)}function ZS(o,c){var f=0;switch(o.tag){case 13:var x=o.stateNode,N=o.memoizedState;N!==null&&(f=N.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(t(314))}x!==null&&x.delete(c),Y5(o,f)}var Q5;Q5=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||qi.current)Us=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return Us=!1,BS(o,c,f);Us=(o.flags&131072)!==0}else Us=!1,Ve&&(c.flags&1048576)!==0&&Ue(c,Y,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Wp(o,c),o=c.pendingProps;var N=zc(c,Qr.current);er(c,f),N=$u(null,c,x,o,N,f);var R=Ua();return c.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Hi(x)?(R=!0,Gl(c)):R=!1,c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Bh(c),N.updater=qp,c.stateNode=N,N._reactInternals=c,q0(c,x,o,f),c=G0(null,c,x,!0,R,f)):(c.tag=0,Ve&&R&&De(c),bs(null,c,N,f),c=c.child),c;case 16:x=c.elementType;e:{switch(Wp(o,c),o=c.pendingProps,N=x._init,x=N(x._payload),c.type=x,N=c.tag=tk(x),o=No(x,o),N){case 0:c=$0(null,c,x,o,f);break e;case 1:c=_5(null,c,x,o,f);break e;case 11:c=y5(null,c,x,o,f);break e;case 14:c=v5(null,c,x,No(x.type,o),f);break e}throw Error(t(306,x,""))}return c;case 0:return x=c.type,N=c.pendingProps,N=c.elementType===x?N:No(x,N),$0(o,c,x,N,f);case 1:return x=c.type,N=c.pendingProps,N=c.elementType===x?N:No(x,N),_5(o,c,x,N,f);case 3:e:{if(N5(c),o===null)throw Error(t(387));x=c.pendingProps,R=c.memoizedState,N=R.element,Qd(o,c),xo(c,x,null,f);var $=c.memoizedState;if(x=$.element,R.isDehydrated)if(R={element:x,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){N=Qh(Error(t(423)),c),c=S5(o,c,x,f,N);break e}else if(x!==N){N=Qh(Error(t(424)),c),c=S5(o,c,x,f,N);break e}else for(Be=ki(c.stateNode.containerInfo.firstChild),we=c,Ve=!0,ze=null,f=yn(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Kt(),x===N){c=Xl(o,c,f);break e}bs(o,c,x,f)}c=c.child}return c;case 5:return Op(c),o===null&&ot(c),x=c.type,N=c.pendingProps,R=o!==null?o.memoizedProps:null,$=N.children,Wd(x,N)?$=null:R!==null&&Wd(x,R)&&(c.flags|=32),w5(o,c),bs(o,c,$,f),c.child;case 6:return o===null&&ot(c),null;case 13:return k5(o,c,f);case 4:return Hc(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Tr(c,null,x,f):bs(o,c,x,f),c.child;case 11:return x=c.type,N=c.pendingProps,N=c.elementType===x?N:No(x,N),y5(o,c,x,N,f);case 7:return bs(o,c,c.pendingProps,f),c.child;case 8:return bs(o,c,c.pendingProps.children,f),c.child;case 12:return bs(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(x=c.type._context,N=c.pendingProps,R=c.memoizedProps,$=N.value,In(ui,x._currentValue),x._currentValue=$,R!==null)if(fn(R.value,$)){if(R.children===N.children&&!qi.current){c=Xl(o,c,f);break e}}else for(R=c.child,R!==null&&(R.return=c);R!==null;){var he=R.dependencies;if(he!==null){$=R.child;for(var xe=he.firstContext;xe!==null;){if(xe.context===x){if(R.tag===1){xe=Vs(-1,f&-f),xe.tag=2;var Le=R.updateQueue;if(Le!==null){Le=Le.shared;var Ye=Le.pending;Ye===null?xe.next=xe:(xe.next=Ye.next,Ye.next=xe),Le.pending=xe}}R.lanes|=f,xe=R.alternate,xe!==null&&(xe.lanes|=f),Fs(R.return,f,c),he.lanes|=f;break}xe=xe.next}}else if(R.tag===10)$=R.type===c.type?null:R.child;else if(R.tag===18){if($=R.return,$===null)throw Error(t(341));$.lanes|=f,he=$.alternate,he!==null&&(he.lanes|=f),Fs($,f,c),$=R.sibling}else $=R.child;if($!==null)$.return=R;else for($=R;$!==null;){if($===c){$=null;break}if(R=$.sibling,R!==null){R.return=$.return,$=R;break}$=$.return}R=$}bs(o,c,N.children,f),c=c.child}return c;case 9:return N=c.type,x=c.pendingProps.children,er(c,f),N=_r(N),x=x(N),c.flags|=1,bs(o,c,x,f),c.child;case 14:return x=c.type,N=No(x,c.pendingProps),N=No(x.type,N),v5(o,c,x,N,f);case 15:return x5(o,c,c.type,c.pendingProps,f);case 17:return x=c.type,N=c.pendingProps,N=c.elementType===x?N:No(x,N),Wp(o,c),c.tag=1,Hi(x)?(o=!0,Gl(c)):o=!1,er(c,f),u5(c,x,N),q0(c,x,N,f),G0(null,c,x,!0,o,f);case 19:return E5(o,c,f);case 22:return b5(o,c,f)}throw Error(t(156,c.tag))};function X5(o,c){return ra(o,c)}function ek(o,c,f,x){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(o,c,f,x){return new ek(o,c,f,x)}function f1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function tk(o){if(typeof o=="function")return f1(o)?1:0;if(o!=null){if(o=o.$$typeof,o===P)return 11;if(o===de)return 14}return 2}function Zc(o,c){var f=o.alternate;return f===null?(f=Ha(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function nm(o,c,f,x,N,R){var $=2;if(x=o,typeof o=="function")f1(o)&&($=1);else if(typeof o=="string")$=5;else e:switch(o){case L:return Zu(f.children,N,R,c);case C:$=8,N|=8;break;case B:return o=Ha(12,f,c,N|2),o.elementType=B,o.lanes=R,o;case O:return o=Ha(13,f,c,N),o.elementType=O,o.lanes=R,o;case ne:return o=Ha(19,f,c,N),o.elementType=ne,o.lanes=R,o;case oe:return rm(f,N,R,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case z:$=10;break e;case j:$=9;break e;case P:$=11;break e;case de:$=14;break e;case ye:$=16,x=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return c=Ha($,f,c,N),c.elementType=o,c.type=x,c.lanes=R,c}function Zu(o,c,f,x){return o=Ha(7,o,x,c),o.lanes=f,o}function rm(o,c,f,x){return o=Ha(22,o,x,c),o.elementType=oe,o.lanes=f,o.stateNode={isHidden:!1},o}function p1(o,c,f){return o=Ha(6,o,null,c),o.lanes=f,o}function m1(o,c,f){return c=Ha(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function nk(o,c,f,x,N){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=x,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function g1(o,c,f,x,N,R,$,he,xe){return o=new nk(o,c,f,he,xe),c===1?(c=1,R===!0&&(c|=8)):c=0,R=Ha(3,null,null,c),o.current=R,R.stateNode=o,R.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bh(R),o}function rk(o,c,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:x==null?null:""+x,children:o,containerInfo:c,implementation:f}}function J5(o){if(!o)return al;o=o._reactInternals;e:{if(pr(o)!==o||o.tag!==1)throw Error(t(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Hi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(o.tag===1){var f=o.type;if(Hi(f))return Yd(o,f,c)}return c}function Z5(o,c,f,x,N,R,$,he,xe){return o=g1(f,x,!0,o,N,R,$,he,xe),o.context=J5(null),f=o.current,x=ws(),N=Xc(f),R=Vs(x,N),R.callback=c??null,Bs(f,R,N),o.current.lanes=N,sa(o,N,x),Hs(o,x),o}function im(o,c,f,x){var N=c.current,R=ws(),$=Xc(N);return f=J5(f),c.context===null?c.context=f:c.pendingContext=f,c=Vs(R,$),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=Bs(N,c,$),o!==null&&(Ao(o,N,$,R),Kl(o,N,$)),$}function sm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function ex(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function y1(o,c){ex(o,c),(o=o.alternate)&&ex(o,c)}function ik(){return null}var tx=typeof reportError=="function"?reportError:function(o){console.error(o)};function v1(o){this._internalRoot=o}am.prototype.render=v1.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(t(409));im(o,c,null,null)},am.prototype.unmount=v1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Qu(function(){im(null,o,null,null)}),c[ci]=null}};function am(o){this._internalRoot=o}am.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ps();o={blockedOn:null,target:o,priority:c};for(var f=0;f<js.length&&c!==0&&c<js[f].priority;f++);js.splice(f,0,o),f===0&&Qo(o)}};function x1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function om(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function nx(){}function sk(o,c,f,x,N){if(N){if(typeof x=="function"){var R=x;x=function(){var Le=sm($);R.call(Le)}}var $=Z5(c,x,o,0,null,!1,!1,"",nx);return o._reactRootContainer=$,o[ci]=$.current,Ul(o.nodeType===8?o.parentNode:o),Qu(),$}for(;N=o.lastChild;)o.removeChild(N);if(typeof x=="function"){var he=x;x=function(){var Le=sm(xe);he.call(Le)}}var xe=g1(o,0,!1,null,null,!1,!1,"",nx);return o._reactRootContainer=xe,o[ci]=xe.current,Ul(o.nodeType===8?o.parentNode:o),Qu(function(){im(c,xe,f,x)}),xe}function lm(o,c,f,x,N){var R=f._reactRootContainer;if(R){var $=R;if(typeof N=="function"){var he=N;N=function(){var xe=sm($);he.call(xe)}}im(c,$,o,N)}else $=sk(f,c,o,N,x);return sm($)}_c=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=ka(c.pendingLanes);f!==0&&(aa(c,f|1),Hs(c,Tn()),(pn&6)===0&&(Zh=Tn()+500,D()))}break;case 13:Qu(function(){var x=vn(o,1);if(x!==null){var N=ws();Ao(x,o,1,N)}}),y1(o,1)}},Ko=function(o){if(o.tag===13){var c=vn(o,134217728);if(c!==null){var f=ws();Ao(c,o,134217728,f)}y1(o,134217728)}},Nc=function(o){if(o.tag===13){var c=Xc(o),f=vn(o,c);if(f!==null){var x=ws();Ao(f,o,c,x)}y1(o,c)}},Ps=function(){return Yt},ro=function(o,c){var f=Yt;try{return Yt=o,c()}finally{Yt=f}},Ln=function(o,c,f){switch(c){case"input":if(Ct(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==o&&x.form===o.form){var N=Hu(x);if(!N)throw Error(t(90));tt(x),Ct(x,N)}}}break;case"textarea":Rt(o,f);break;case"select":c=f.value,c!=null&&nt(o,!!f.multiple,c,!1)}},os=u1,fr=Qu;var ak={usingClientEntryPoint:!1,Events:[Bc,Wl,Hu,St,nn,u1]},lf={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ok={bundleType:lf.bundleType,version:lf.version,rendererPackageName:lf.rendererPackageName,rendererConfig:lf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=ta(o),o===null?null:o.stateNode},findFiberByHostInstance:lf.findFiberByHostInstance||ik,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{Na=cm.inject(ok),yi=cm}catch{}}return Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ak,Ws.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(c))throw Error(t(200));return rk(o,c,null,f)},Ws.createRoot=function(o,c){if(!x1(o))throw Error(t(299));var f=!1,x="",N=tx;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=g1(o,1,!1,null,null,f,!1,x,N),o[ci]=c.current,Ul(o.nodeType===8?o.parentNode:o),new v1(c)},Ws.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=ta(c),o=o===null?null:o.stateNode,o},Ws.flushSync=function(o){return Qu(o)},Ws.hydrate=function(o,c,f){if(!om(c))throw Error(t(200));return lm(null,o,c,!0,f)},Ws.hydrateRoot=function(o,c,f){if(!x1(o))throw Error(t(405));var x=f!=null&&f.hydratedSources||null,N=!1,R="",$=tx;if(f!=null&&(f.unstable_strictMode===!0&&(N=!0),f.identifierPrefix!==void 0&&(R=f.identifierPrefix),f.onRecoverableError!==void 0&&($=f.onRecoverableError)),c=Z5(c,null,o,1,f??null,N,!1,R,$),o[ci]=c.current,Ul(o),x)for(o=0;o<x.length;o++)f=x[o],N=f._getVersion,N=N(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,N]:c.mutableSourceEagerHydrationData.push(f,N);return new am(c)},Ws.render=function(o,c,f){if(!om(c))throw Error(t(200));return lm(null,o,c,!1,f)},Ws.unmountComponentAtNode=function(o){if(!om(o))throw Error(t(40));return o._reactRootContainer?(Qu(function(){lm(null,null,o,!1,function(){o._reactRootContainer=null,o[ci]=null})}),!0):!1},Ws.unstable_batchedUpdates=u1,Ws.unstable_renderSubtreeIntoContainer=function(o,c,f,x){if(!om(f))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return lm(o,c,f,!1,x)},Ws.version="18.3.1-next-f1338f8080-20240426",Ws}var ux;function r_(){if(ux)return _1.exports;ux=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_1.exports=gk(),_1.exports}var hx;function yk(){if(hx)return um;hx=1;var n=r_();return um.createRoot=n.createRoot,um.hydrateRoot=n.hydrateRoot,um}var vk=yk();const xk=Wg(vk);var uf={},dx;function bk(){if(dx)return uf;dx=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.parse=a,uf.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function a(b,v){const S=new s,A=b.length;if(A<2)return S;const T=(v==null?void 0:v.decode)||p;let E=0;do{const M=b.indexOf("=",E);if(M===-1)break;const q=b.indexOf(";",E),re=q===-1?A:q;if(M>re){E=b.lastIndexOf(";",M-1)+1;continue}const J=l(b,E,M),te=u(b,M,J),L=b.slice(J,te);if(S[L]===void 0){let C=l(b,M+1,re),B=u(b,re,C);const z=T(b.slice(C,B));S[L]=z}E=re+1}while(E<A);return S}function l(b,v,S){do{const A=b.charCodeAt(v);if(A!==32&&A!==9)return v}while(++v<S);return S}function u(b,v,S){for(;v>S;){const A=b.charCodeAt(--v);if(A!==32&&A!==9)return v+1}return S}function d(b,v,S){const A=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const T=A(v);if(!e.test(T))throw new TypeError(`argument val is invalid: ${v}`);let E=b+"="+T;if(!S)return E;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);E+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);E+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);E+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);E+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(E+="; HttpOnly"),S.secure&&(E+="; Secure"),S.partitioned&&(E+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return E}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return i.call(b)==="[object Date]"}return uf}bk();var fx="popstate";function wk(n={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return p2("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:$f(i)}return Nk(e,t,null,n)}function dr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Do(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _k(){return Math.random().toString(36).substring(2,10)}function px(n,e){return{usr:n.state,key:n.key,idx:e}}function p2(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Dd(e):e,state:t,key:e&&e.key||r||_k()}}function $f({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Dd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Nk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function y(){l="POP";let T=p(),E=T==null?null:T-d;d=T,u&&u({action:l,location:A.location,delta:E})}function b(T,E){l="PUSH";let M=p2(A.location,T,E);d=p()+1;let q=px(M,d),re=A.createHref(M);try{a.pushState(q,"",re)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(re)}s&&u&&u({action:l,location:A.location,delta:1})}function v(T,E){l="REPLACE";let M=p2(A.location,T,E);d=p();let q=px(M,d),re=A.createHref(M);a.replaceState(q,"",re),s&&u&&u({action:l,location:A.location,delta:0})}function S(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof T=="string"?T:$f(T);return M=M.replace(/ $/,"%20"),dr(E,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,E)}let A={get action(){return l},get location(){return n(i,a)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(fx,y),u=T,()=>{i.removeEventListener(fx,y),u=null}},createHref(T){return e(i,T)},createURL:S,encodeLocation(T){let E=S(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:v,go(T){return a.go(T)}};return A}function i_(n,e,t="/"){return Sk(n,e,t,!1)}function Sk(n,e,t,r){let i=typeof e=="string"?Dd(e):e,s=uc(i.pathname||"/",t);if(s==null)return null;let a=s_(n);kk(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=Mk(s);l=Lk(a[u],d,r)}return l}function s_(n,e=[],t=[],r=""){let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(dr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=oc([r,u.relativePath]),p=t.concat(u);s.children&&s.children.length>0&&(dr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),s_(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:Ck(d,s.index),routesMeta:p})};return n.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of a_(s.path))i(s,a,u)}),e}function a_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=a_(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function kk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Rk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Ak=/^:[\w-]+$/,Ek=3,Tk=2,Ik=1,Pk=10,jk=-2,mx=n=>n==="*";function Ck(n,e){let t=n.split("/"),r=t.length;return t.some(mx)&&(r+=jk),e&&(r+=Tk),t.filter(i=>!mx(i)).reduce((i,s)=>i+(Ak.test(s)?Ek:s===""?Ik:Pk),r)}function Rk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Lk(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=og({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),b=u.route;if(!y&&d&&t&&!r[r.length-1].route.index&&(y=og({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:oc([s,y.pathname]),pathnameBase:Bk(oc([s,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(s=oc([s,y.pathnameBase]))}return a}function og(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Dk(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:y},b)=>{if(p==="*"){let S=l[b]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const v=l[b];return y&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function Dk(n,e=!1,t=!0){Do(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Mk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Do(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function uc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Ok(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Dd(n):n;return{pathname:t?t.startsWith("/")?t:Fk(t,e):e,search:zk(r),hash:Uk(i)}}function Fk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function k1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ny(n){let e=Vk(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Sy(n,e,t,r=!1){let i;typeof n=="string"?i=Dd(n):(i={...n},dr(!i.pathname||!i.pathname.includes("?"),k1("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),k1("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),k1("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=t;else{let y=e.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}l=y>=0?e[y]:"/"}let u=Ok(i,l),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}var oc=n=>n.join("/").replace(/\/\/+/g,"/"),Bk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Uk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var o_=["POST","PUT","PATCH","DELETE"];new Set(o_);var Hk=["GET",...o_];new Set(Hk);var Md=se.createContext(null);Md.displayName="DataRouter";var $g=se.createContext(null);$g.displayName="DataRouterState";var l_=se.createContext({isTransitioning:!1});l_.displayName="ViewTransition";var Wk=se.createContext(new Map);Wk.displayName="Fetchers";var $k=se.createContext(null);$k.displayName="Await";var Bo=se.createContext(null);Bo.displayName="Navigation";var dp=se.createContext(null);dp.displayName="Location";var zo=se.createContext({outlet:null,matches:[],isDataRoute:!1});zo.displayName="Route";var ky=se.createContext(null);ky.displayName="RouteError";function Gk(n,{relative:e}={}){dr(Od(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=se.useContext(Bo),{hash:i,pathname:s,search:a}=fp(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:oc([t,s])),r.createHref({pathname:l,search:a,hash:i})}function Od(){return se.useContext(dp)!=null}function As(){return dr(Od(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(dp).location}var c_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u_(n){se.useContext(Bo).static||se.useLayoutEffect(n)}function kl(){let{isDataRoute:n}=se.useContext(zo);return n?a8():Kk()}function Kk(){dr(Od(),"useNavigate() may be used only in the context of a <Router> component.");let n=se.useContext(Md),{basename:e,navigator:t}=se.useContext(Bo),{matches:r}=se.useContext(zo),{pathname:i}=As(),s=JSON.stringify(Ny(r)),a=se.useRef(!1);return u_(()=>{a.current=!0}),se.useCallback((u,d={})=>{if(Do(a.current,c_),!a.current)return;if(typeof u=="number"){t.go(u);return}let p=Sy(u,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:oc([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,s,i,n])}se.createContext(null);function Ay(){let{matches:n}=se.useContext(zo),e=n[n.length-1];return e?e.params:{}}function fp(n,{relative:e}={}){let{matches:t}=se.useContext(zo),{pathname:r}=As(),i=JSON.stringify(Ny(t));return se.useMemo(()=>Sy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Yk(n,e){return h_(n,e)}function h_(n,e,t,r){var M;dr(Od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=se.useContext(Bo),{matches:a}=se.useContext(zo),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",y=l&&l.route;{let q=y&&y.path||"";d_(d,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let b=As(),v;if(e){let q=typeof e=="string"?Dd(e):e;dr(p==="/"||((M=q.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${q.pathname}" was given in the \`location\` prop.`),v=q}else v=b;let S=v.pathname||"/",A=S;if(p!=="/"){let q=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(q.length).join("/")}let T=!s&&t&&t.matches&&t.matches.length>0?t.matches:i_(n,{pathname:A});Do(y||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Do(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=e8(T&&T.map(q=>Object.assign({},q,{params:Object.assign({},u,q.params),pathname:oc([p,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:oc([p,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),a,t,r);return e&&E?se.createElement(dp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function Qk(){let n=s8(),e=qk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=se.createElement(se.Fragment,null,se.createElement("p",null," Hey developer "),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:s},"ErrorBoundary")," or"," ",se.createElement("code",{style:s},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),t?se.createElement("pre",{style:i},t):null,a)}var Xk=se.createElement(Qk,null),Jk=class extends se.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?se.createElement(zo.Provider,{value:this.props.routeContext},se.createElement(ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zk({routeContext:n,match:e,children:t}){let r=se.useContext(Md);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(zo.Provider,{value:n},t)}function e8(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);dr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(t)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:p,errors:y}=t,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,p)=>{let y,b=!1,v=null,S=null;t&&(y=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||Xk,a&&(l<0&&p===0?(d_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):l===p&&(b=!0,S=d.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,p+1)),T=()=>{let E;return y?E=v:b?E=S:d.route.Component?E=se.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,se.createElement(Zk,{match:d,routeContext:{outlet:u,matches:A,isDataRoute:t!=null},children:E})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?se.createElement(Jk,{location:t.location,revalidation:t.revalidation,component:v,error:y,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function Ey(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t8(n){let e=se.useContext(Md);return dr(e,Ey(n)),e}function n8(n){let e=se.useContext($g);return dr(e,Ey(n)),e}function r8(n){let e=se.useContext(zo);return dr(e,Ey(n)),e}function Ty(n){let e=r8(n),t=e.matches[e.matches.length-1];return dr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function i8(){return Ty("useRouteId")}function s8(){var r;let n=se.useContext(ky),e=n8("useRouteError"),t=Ty("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function a8(){let{router:n}=t8("useNavigate"),e=Ty("useNavigate"),t=se.useRef(!1);return u_(()=>{t.current=!0}),se.useCallback(async(i,s={})=>{Do(t.current,c_),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var gx={};function d_(n,e,t){!e&&!gx[n]&&(gx[n]=!0,Do(!1,t))}se.memo(o8);function o8({routes:n,future:e,state:t}){return h_(n,void 0,t,e)}function l8({to:n,replace:e,state:t,relative:r}){dr(Od(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=se.useContext(Bo);Do(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=se.useContext(zo),{pathname:a}=As(),l=kl(),u=Sy(n,Ny(s),a,r==="path"),d=JSON.stringify(u);return se.useEffect(()=>{l(JSON.parse(d),{replace:e,state:t,relative:r})},[l,d,r,e,t]),null}function Zi(n){dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c8({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){dr(!Od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),l=se.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=Dd(t));let{pathname:u="/",search:d="",hash:p="",state:y=null,key:b="default"}=t,v=se.useMemo(()=>{let S=uc(u,a);return S==null?null:{location:{pathname:S,search:d,hash:p,state:y,key:b},navigationType:r}},[a,u,d,p,y,b,r]);return Do(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:se.createElement(Bo.Provider,{value:l},se.createElement(dp.Provider,{children:e,value:v}))}function u8({children:n,location:e}){return Yk(m2(n),e)}function m2(n,e=[]){let t=[];return se.Children.forEach(n,(r,i)=>{if(!se.isValidElement(r))return;let s=[...e,i];if(r.type===se.Fragment){t.push.apply(t,m2(r.props.children,s));return}dr(r.type===Zi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=m2(r.props.children,s)),t.push(a)}),t}var Bm="get",zm="application/x-www-form-urlencoded";function Gg(n){return n!=null&&typeof n.tagName=="string"}function h8(n){return Gg(n)&&n.tagName.toLowerCase()==="button"}function d8(n){return Gg(n)&&n.tagName.toLowerCase()==="form"}function f8(n){return Gg(n)&&n.tagName.toLowerCase()==="input"}function p8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function m8(n,e){return n.button===0&&(!e||e==="_self")&&!p8(n)}var hm=null;function g8(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch{hm=!0}return hm}var y8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function A1(n){return n!=null&&!y8.has(n)?(Do(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zm}"`),null):n}function v8(n,e){let t,r,i,s,a;if(d8(n)){let l=n.getAttribute("action");r=l?uc(l,e):null,t=n.getAttribute("method")||Bm,i=A1(n.getAttribute("enctype"))||zm,s=new FormData(n)}else if(h8(n)||f8(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||l.getAttribute("action");if(r=u?uc(u,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||Bm,i=A1(n.getAttribute("formenctype"))||A1(l.getAttribute("enctype"))||zm,s=new FormData(l,n),!g8()){let{name:d,type:p,value:y}=n;if(p==="image"){let b=d?`${d}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else d&&s.append(d,y)}}else{if(Gg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bm,r=null,i=zm,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}function Iy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function x8(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b8(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function w8(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await x8(s,t);return a.links?a.links():[]}return[]}));return k8(r.flat(1).filter(b8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yx(n,e,t,r,i,s){let a=(u,d)=>t[d]?u.route.id!==t[d].route.id:!0,l=(u,d)=>{var p;return t[d].pathname!==u.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{var y;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let b=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _8(n,e,{includeHydrateFallback:t}={}){return N8(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function N8(n){return[...new Set(n)]}function S8(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function k8(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(S8(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}var A8=new Set([100,101,204,205]);function E8(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&uc(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function f_(){let n=se.useContext(Md);return Iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function T8(){let n=se.useContext($g);return Iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Py=se.createContext(void 0);Py.displayName="FrameworkContext";function p_(){let n=se.useContext(Py);return Iy(n,"You must render this element inside a <HydratedRouter> element"),n}function I8(n,e){let t=se.useContext(Py),[r,i]=se.useState(!1),[s,a]=se.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,b=se.useRef(null);se.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let A=E=>{E.forEach(M=>{a(M.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[n]),se.useEffect(()=>{if(r){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[r]);let v=()=>{i(!0)},S=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,b,{}]:[s,b,{onFocus:hf(l,v),onBlur:hf(u,S),onMouseEnter:hf(d,v),onMouseLeave:hf(p,S),onTouchStart:hf(y,v)}]:[!1,b,{}]}function hf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function P8({page:n,...e}){let{router:t}=f_(),r=se.useMemo(()=>i_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?se.createElement(C8,{page:n,matches:r,...e}):null}function j8(n){let{manifest:e,routeModules:t}=p_(),[r,i]=se.useState([]);return se.useEffect(()=>{let s=!1;return w8(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function C8({page:n,matches:e,...t}){let r=As(),{manifest:i,routeModules:s}=p_(),{basename:a}=f_(),{loaderData:l,matches:u}=T8(),d=se.useMemo(()=>yx(n,e,u,i,r,"data"),[n,e,u,i,r]),p=se.useMemo(()=>yx(n,e,u,i,r,"assets"),[n,e,u,i,r]),y=se.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(E=>{var q;let M=i.routes[E.route.id];!M||!M.hasLoader||(!d.some(re=>re.route.id===E.route.id)&&E.route.id in l&&((q=s[E.route.id])!=null&&q.shouldRevalidate)||M.hasClientLoader?A=!0:S.add(E.route.id))}),S.size===0)return[];let T=E8(n,a);return A&&S.size>0&&T.searchParams.set("_routes",e.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[a,l,r,i,d,e,n,s]),b=se.useMemo(()=>_8(p,i),[p,i]),v=j8(p);return se.createElement(se.Fragment,null,y.map(S=>se.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),b.map(S=>se.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),v.map(({key:S,link:A})=>se.createElement("link",{key:S,...A})))}function R8(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var m_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m_&&(window.__reactRouterVersion="7.5.2")}catch{}function L8({basename:n,children:e,window:t}){let r=se.useRef();r.current==null&&(r.current=wk({window:t,v5Compat:!0}));let i=r.current,[s,a]=se.useState({action:i.action,location:i.location}),l=se.useCallback(u=>{se.startTransition(()=>a(u))},[a]);return se.useLayoutEffect(()=>i.listen(l),[i,l]),se.createElement(c8,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var g_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=se.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:p,viewTransition:y,...b},v){let{basename:S}=se.useContext(Bo),A=typeof d=="string"&&g_.test(d),T,E=!1;if(typeof d=="string"&&A&&(T=d,m_))try{let B=new URL(window.location.href),z=d.startsWith("//")?new URL(B.protocol+d):new URL(d),j=uc(z.pathname,S);z.origin===B.origin&&j!=null?d=j+z.search+z.hash:E=!0}catch{Do(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Gk(d,{relative:i}),[q,re,J]=I8(r,b),te=F8(d,{replace:a,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:y});function L(B){e&&e(B),B.defaultPrevented||te(B)}let C=se.createElement("a",{...b,...J,href:T||M,onClick:E||s?e:L,ref:R8(v,re),target:u,"data-discover":!A&&t==="render"?"true":void 0});return q&&!A?se.createElement(se.Fragment,null,C,se.createElement(P8,{page:M})):C});An.displayName="Link";var D8=se.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},p){let y=fp(a,{relative:d.relative}),b=As(),v=se.useContext($g),{navigator:S,basename:A}=se.useContext(Bo),T=v!=null&&q8(y)&&l===!0,E=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,M=b.pathname,q=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(M=M.toLowerCase(),q=q?q.toLowerCase():null,E=E.toLowerCase()),q&&A&&(q=uc(q,A)||q);const re=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let J=M===E||!i&&M.startsWith(E)&&M.charAt(re)==="/",te=q!=null&&(q===E||!i&&q.startsWith(E)&&q.charAt(E.length)==="/"),L={isActive:J,isPending:te,isTransitioning:T},C=J?e:void 0,B;typeof r=="function"?B=r(L):B=[r,J?"active":null,te?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(L):s;return se.createElement(An,{...d,"aria-current":C,className:B,ref:p,style:z,to:a,viewTransition:l},typeof u=="function"?u(L):u)});D8.displayName="NavLink";var M8=se.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Bm,action:l,onSubmit:u,relative:d,preventScrollReset:p,viewTransition:y,...b},v)=>{let S=z8(),A=U8(l,{relative:d}),T=a.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&g_.test(l),M=q=>{if(u&&u(q),q.defaultPrevented)return;q.preventDefault();let re=q.nativeEvent.submitter,J=(re==null?void 0:re.getAttribute("formmethod"))||a;S(re||q.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:y})};return se.createElement("form",{ref:v,method:T,action:A,onSubmit:r?u:M,...b,"data-discover":!E&&n==="render"?"true":void 0})});M8.displayName="Form";function O8(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y_(n){let e=se.useContext(Md);return dr(e,O8(n)),e}function F8(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=kl(),u=As(),d=fp(n,{relative:s});return se.useCallback(p=>{if(m8(p,e)){p.preventDefault();let y=t!==void 0?t:$f(u)===$f(d);l(n,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,t,r,e,n,i,s,a])}var V8=0,B8=()=>`__${String(++V8)}__`;function z8(){let{router:n}=y_("useSubmit"),{basename:e}=se.useContext(Bo),t=i8();return se.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=v8(r,e);if(i.navigate===!1){let p=i.fetcherKey||B8();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function U8(n,{relative:e}={}){let{basename:t}=se.useContext(Bo),r=se.useContext(zo);dr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...fp(n||".",{relative:e})},a=As();if(n==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(y=>y).forEach(y=>l.append("index",y));let p=l.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:oc([t,s.pathname])),$f(s)}function q8(n,e={}){let t=se.useContext(l_);dr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=y_("useViewTransitionState"),i=fp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=uc(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=uc(t.nextLocation.pathname,r)||t.nextLocation.pathname;return og(i.pathname,a)!=null||og(i.pathname,s)!=null}new TextEncoder;[...A8];var H8=r_(),v_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vx=Ga.createContext&&Ga.createContext(v_),W8=["attr","size","title"];function $8(n,e){if(n==null)return{};var t=G8(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function G8(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function lg(){return lg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lg.apply(this,arguments)}function xx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(t),!0).forEach(function(r){K8(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function K8(n,e,t){return e=Y8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y8(n){var e=Q8(n,"string");return typeof e=="symbol"?e:e+""}function Q8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function x_(n){return n&&n.map((e,t)=>Ga.createElement(e.tag,cg({key:t},e.attr),x_(e.child)))}function _t(n){return e=>Ga.createElement(X8,lg({attr:cg({},n.attr)},e),x_(n.child))}function X8(n){var e=t=>{var{attr:r,size:i,title:s}=n,a=$8(n,W8),l=i||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),Ga.createElement("svg",lg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:u,style:cg(cg({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Ga.createElement("title",null,s),n.children)};return vx!==void 0?Ga.createElement(vx.Consumer,null,t=>e(t)):e(v_)}function J8(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function b_(n){return _t({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(n)}function Z8(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function eA(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function tA(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function nA(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function wf(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function dm(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function rA(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(n)}function iA(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function sA(n){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M400 96a48 48 0 1 0-48-48 48 48 0 0 0 48 48zm-4 121a31.9 31.9 0 0 0 20 7h64a32 32 0 0 0 0-64h-52.78L356 103a31.94 31.94 0 0 0-40.81.68l-112 96a32 32 0 0 0 3.08 50.92L288 305.12V416a32 32 0 0 0 64 0V288a32 32 0 0 0-14.25-26.62l-41.36-27.57 58.25-49.92zm116 39a128 128 0 1 0 128 128 128 128 0 0 0-128-128zm0 192a64 64 0 1 1 64-64 64 64 0 0 1-64 64zM128 256a128 128 0 1 0 128 128 128 128 0 0 0-128-128zm0 192a64 64 0 1 1 64-64 64 64 0 0 1-64 64z"},child:[]}]})(n)}function Mo(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function E1(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(n)}function dd(n){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M544 192h-16L419.22 56.02A64.025 64.025 0 0 0 369.24 32H155.33c-26.17 0-49.7 15.93-59.42 40.23L48 194.26C20.44 201.4 0 226.21 0 256v112c0 8.84 7.16 16 16 16h48c0 53.02 42.98 96 96 96s96-42.98 96-96h128c0 53.02 42.98 96 96 96s96-42.98 96-96h48c8.84 0 16-7.16 16-16v-80c0-53.02-42.98-96-96-96zM160 432c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48zm72-240H116.93l38.4-96H232v96zm48 0V96h89.24l76.8 96H280zm200 240c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48z"},child:[]}]})(n)}function ba(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(n)}function jy(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function Cy(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function g2(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function Ah(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function y2(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function pp(n){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(n)}function aA(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(n)}function oA(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function Kg(n){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function Fd(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function lA(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function cA(n){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function uA(n){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(n)}function Yg(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(n)}function Qg(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 448H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h320c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm157.2-340.7l-81-81c-6.2-6.2-16.4-6.2-22.6 0l-11.3 11.3c-6.2 6.2-6.2 16.4 0 22.6L416 97.9V160c0 28.1 20.9 51.3 48 55.2V376c0 13.2-10.8 24-24 24s-24-10.8-24-24v-32c0-48.6-39.4-88-88-88h-8V64c0-35.3-28.7-64-64-64H96C60.7 0 32 28.7 32 64v352h288V304h8c22.1 0 40 17.9 40 40v27.8c0 37.7 27 72 64.5 75.9 43 4.3 79.5-29.5 79.5-71.7V152.6c0-17-6.8-33.3-18.8-45.3zM256 192H96V64h160v128z"},child:[]}]})(n)}function hA(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(n)}function Ry(n){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function w_(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(n)}function bx(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(n)}function dA(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function ug(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function fA(n){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(n)}function fh(n){return _t({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function ph(n){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function mp(n){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.9 192c-14.9-.1-29.1 2.3-42.4 6.9L437.6 144H520c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24h-45.3c-6.8 0-13.3 2.9-17.8 7.9l-37.5 41.7-22.8-38C392.2 68.4 384.4 64 376 64h-80c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h66.4l19.2 32H227.9c-17.7-23.1-44.9-40-99.9-40H72.5C59 104 47.7 115 48 128.5c.2 13 10.9 23.5 24 23.5h56c24.5 0 38.7 10.9 47.8 24.8l-11.3 20.5c-13-3.9-26.9-5.7-41.3-5.2C55.9 194.5 1.6 249.6 0 317c-1.6 72.1 56.3 131 128 131 59.6 0 109.7-40.8 124-96h84.2c13.7 0 24.6-11.4 24-25.1-2.1-47.1 17.5-93.7 56.2-125l12.5 20.8c-27.6 23.7-45.1 58.9-44.8 98.2.5 69.6 57.2 126.5 126.8 127.1 71.6.7 129.8-57.5 129.2-129.1-.7-69.6-57.6-126.4-127.2-126.9zM128 400c-44.1 0-80-35.9-80-80s35.9-80 80-80c4.2 0 8.4.3 12.5 1L99 316.4c-8.8 16 2.8 35.6 21 35.6h81.3c-12.4 28.2-40.6 48-73.3 48zm463.9-75.6c-2.2 40.6-35 73.4-75.5 75.5-46.1 2.5-84.4-34.3-84.4-79.9 0-21.4 8.4-40.8 22.1-55.1l49.4 82.4c4.5 7.6 14.4 10 22 5.5l13.7-8.2c7.6-4.5 10-14.4 5.5-22l-48.6-80.9c5.2-1.1 10.5-1.6 15.9-1.6 45.6-.1 82.3 38.2 79.9 84.3z"},child:[]}]})(n)}function Ly(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function __(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(n)}function pA(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(n)}function Lf(n){return _t({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(n)}function yh(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function N_(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(n)}function wx(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(n)}function mA(n){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(n)}function Fn(n){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function gA(n){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(n)}function vh(n){return _t({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function S_(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function _x(n){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function yA(n){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(n)}function Sd(n){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Xg(n){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const vA=()=>{};var Nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},xA=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],l=n[t++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},A_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,l=a?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=s>>2,y=(s&3)<<4|l>>4;let b=(l&15)<<2|d>>6,v=d&63;u||(v=64,a||(b=64)),r.push(t[p],t[y],t[b],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(k_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||l==null||d==null||y==null)throw new bA;const b=s<<2|l>>4;if(r.push(b),d!==64){const v=l<<4&240|d>>2;if(r.push(v),y!==64){const S=d<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wA=function(n){const e=k_(n);return A_.encodeByteArray(e,!0)},hg=function(n){return wA(n).replace(/\./g,"")},E_=function(n){try{return A_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=()=>_A().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof Nx>"u")return;const n=Nx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&E_(n[1]);return e&&JSON.parse(e)},Jg=()=>{try{return vA()||NA()||SA()||kA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T_=n=>{var e,t;return(t=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Dy=n=>{const e=T_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},I_=()=>{var n;return(n=Jg())===null||n===void 0?void 0:n.config},P_=n=>{var e;return(e=Jg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hg(JSON.stringify(t)),hg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(as())}function TA(){var n;const e=(n=Jg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CA(){const n=as();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RA(){return!TA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function DA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="FirebaseError";class Al extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=MA,Object.setPrototypeOf(this,Al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gp.prototype.create)}}class gp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?OA(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Al(i,l,r)}}function OA(n,e){return n.replace(FA,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FA=/\{\$([^}]+)}/g;function VA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(Sx(s)&&Sx(a)){if(!xh(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Sx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _f(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Nf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BA(n,e){const t=new zA(n,e);return t.subscribe.bind(t)}class zA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UA(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=T1),i.error===void 0&&(i.error=T1),i.complete===void 0&&(i.complete=T1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function T1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(n){return n&&n._delegate?n._delegate:n}class hc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new AA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WA(e))try{this.getOrInitializeService({instanceIdentifier:ih})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ih){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ih){return this.instances.has(e)}getOptions(e=ih){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ih){return this.component?this.component.multipleInstances?e:ih:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HA(n){return n===ih?void 0:n}function WA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(sn||(sn={}));const GA={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},KA=sn.INFO,YA={[sn.DEBUG]:"log",[sn.VERBOSE]:"log",[sn.INFO]:"info",[sn.WARN]:"warn",[sn.ERROR]:"error"},QA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=YA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class My{constructor(e){this.name=e,this._logLevel=KA,this._logHandler=QA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,sn.DEBUG,...e),this._logHandler(this,sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,sn.VERBOSE,...e),this._logHandler(this,sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,sn.INFO,...e),this._logHandler(this,sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,sn.WARN,...e),this._logHandler(this,sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,sn.ERROR,...e),this._logHandler(this,sn.ERROR,...e)}}const XA=(n,e)=>e.some(t=>n instanceof t);let kx,Ax;function JA(){return kx||(kx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZA(){return Ax||(Ax=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C_=new WeakMap,v2=new WeakMap,R_=new WeakMap,I1=new WeakMap,Oy=new WeakMap;function eE(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(pu(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&C_.set(t,n)}).catch(()=>{}),Oy.set(e,n),e}function tE(n){if(v2.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});v2.set(n,e)}let x2={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return v2.get(n);if(e==="objectStoreNames")return n.objectStoreNames||R_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nE(n){x2=n(x2)}function rE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(P1(this),e,...t);return R_.set(r,e.sort?e.sort():[e]),pu(r)}:ZA().includes(n)?function(...e){return n.apply(P1(this),e),pu(C_.get(this))}:function(...e){return pu(n.apply(P1(this),e))}}function iE(n){return typeof n=="function"?rE(n):(n instanceof IDBTransaction&&tE(n),XA(n,JA())?new Proxy(n,x2):n)}function pu(n){if(n instanceof IDBRequest)return eE(n);if(I1.has(n))return I1.get(n);const e=iE(n);return e!==n&&(I1.set(n,e),Oy.set(e,n)),e}const P1=n=>Oy.get(n);function sE(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),l=pu(a);return r&&a.addEventListener("upgradeneeded",u=>{r(pu(a.result),u.oldVersion,u.newVersion,pu(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const aE=["get","getKey","getAll","getAllKeys","count"],oE=["put","add","delete","clear"],j1=new Map;function Ex(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(j1.get(e))return j1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=oE.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aE.includes(t)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),i&&u.done]))[0]};return j1.set(e,s),s}nE(n=>({...n,get:(e,t,r)=>Ex(e,t)||n.get(e,t,r),has:(e,t)=>!!Ex(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cE(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function cE(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const b2="@firebase/app",Tx="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new My("@firebase/app"),uE="@firebase/app-compat",hE="@firebase/analytics-compat",dE="@firebase/analytics",fE="@firebase/app-check-compat",pE="@firebase/app-check",mE="@firebase/auth",gE="@firebase/auth-compat",yE="@firebase/database",vE="@firebase/data-connect",xE="@firebase/database-compat",bE="@firebase/functions",wE="@firebase/functions-compat",_E="@firebase/installations",NE="@firebase/installations-compat",SE="@firebase/messaging",kE="@firebase/messaging-compat",AE="@firebase/performance",EE="@firebase/performance-compat",TE="@firebase/remote-config",IE="@firebase/remote-config-compat",PE="@firebase/storage",jE="@firebase/storage-compat",CE="@firebase/firestore",RE="@firebase/vertexai",LE="@firebase/firestore-compat",DE="firebase",ME="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="[DEFAULT]",OE={[b2]:"fire-core",[uE]:"fire-core-compat",[dE]:"fire-analytics",[hE]:"fire-analytics-compat",[pE]:"fire-app-check",[fE]:"fire-app-check-compat",[mE]:"fire-auth",[gE]:"fire-auth-compat",[yE]:"fire-rtdb",[vE]:"fire-data-connect",[xE]:"fire-rtdb-compat",[bE]:"fire-fn",[wE]:"fire-fn-compat",[_E]:"fire-iid",[NE]:"fire-iid-compat",[SE]:"fire-fcm",[kE]:"fire-fcm-compat",[AE]:"fire-perf",[EE]:"fire-perf-compat",[TE]:"fire-rc",[IE]:"fire-rc-compat",[PE]:"fire-gcs",[jE]:"fire-gcs-compat",[CE]:"fire-fst",[LE]:"fire-fst-compat",[RE]:"fire-vertex","fire-js":"fire-js",[DE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Map,FE=new Map,_2=new Map;function Ix(n,e){try{n.container.addComponent(e)}catch(t){dc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xu(n){const e=n.name;if(_2.has(e))return dc.debug(`There were multiple attempts to register component ${e}.`),!1;_2.set(e,n);for(const t of dg.values())Ix(t,n);for(const t of FE.values())Ix(t,n);return!0}function vp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ns(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mu=new gp("app","Firebase",VE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=ME;function L_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:w2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mu.create("bad-app-name",{appName:String(i)});if(t||(t=I_()),!t)throw mu.create("no-options");const s=dg.get(i);if(s){if(xh(t,s.options)&&xh(r,s.config))return s;throw mu.create("duplicate-app",{appName:i})}const a=new $A(i);for(const u of _2.values())a.addComponent(u);const l=new BE(t,r,a);return dg.set(i,l),l}function Zg(n=w2){const e=dg.get(n);if(!e&&n===w2&&I_())return L_();if(!e)throw mu.create("no-app",{appName:n});return e}function Ka(n,e,t){var r;let i=(r=OE[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dc.warn(l.join(" "));return}xu(new hc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebase-heartbeat-database",UE=1,Gf="firebase-heartbeat-store";let C1=null;function D_(){return C1||(C1=sE(zE,UE,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gf)}catch(t){console.warn(t)}}}}).catch(n=>{throw mu.create("idb-open",{originalErrorMessage:n.message})})),C1}async function qE(n){try{const t=(await D_()).transaction(Gf),r=await t.objectStore(Gf).get(M_(n));return await t.done,r}catch(e){if(e instanceof Al)dc.warn(e.message);else{const t=mu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dc.warn(t.message)}}}async function Px(n,e){try{const r=(await D_()).transaction(Gf,"readwrite");await r.objectStore(Gf).put(e,M_(n)),await r.done}catch(t){if(t instanceof Al)dc.warn(t.message);else{const r=mu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});dc.warn(r.message)}}}function M_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=1024,WE=30;class $E{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>WE){const a=YE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jx(),{heartbeatsToSend:r,unsentEntries:i}=GE(this._heartbeatsCache.heartbeats),s=hg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return dc.warn(t),""}}}function jx(){return new Date().toISOString().substring(0,10)}function GE(n,e=HE){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Cx(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Cx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class KE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?DA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qE(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Px(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Px(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cx(n){return hg(JSON.stringify({version:2,heartbeats:n})).length}function YE(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n){xu(new hc("platform-logger",e=>new lE(e),"PRIVATE")),xu(new hc("heartbeat",e=>new $E(e),"PRIVATE")),Ka(b2,Tx,n),Ka(b2,Tx,"esm2017"),Ka("fire-js","")}QE("");function Fy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function O_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XE=O_,F_=new gp("auth","Firebase",O_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new My("@firebase/auth");function JE(n,...e){fg.logLevel<=sn.WARN&&fg.warn(`Auth (${Eh}): ${n}`,...e)}function Um(n,...e){fg.logLevel<=sn.ERROR&&fg.error(`Auth (${Eh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n,...e){throw By(n,...e)}function Lo(n,...e){return By(n,...e)}function Vy(n,e,t){const r=Object.assign(Object.assign({},XE()),{[e]:t});return new gp("auth","Firebase",r).create(e,{appName:n.name})}function lc(n){return Vy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZE(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qa(n,"argument-error"),Vy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function By(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return F_.create(n,...e)}function Ot(n,e,...t){if(!n)throw By(e,...t)}function sc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Um(e),new Error(e)}function fc(n,e){n||sc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eT(){return Rx()==="http:"||Rx()==="https:"}function Rx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eT()||PA()||"connection"in navigator)?navigator.onLine:!0}function nT(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.shortDelay=e,this.longDelay=t,fc(t>e,"Short delay should be less than long delay!"),this.isMobile=EA()||jA()}get(){return tT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n,e){fc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sT=new xp(3e4,6e4);function gc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Uo(n,e,t,r,i={}){return B_(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=yp(Object.assign({key:n.config.apiKey},a)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:u},s);return IA()||(d.referrerPolicy="no-referrer"),V_.fetch()(await z_(n,n.config.apiHost,t,l),d)})}async function B_(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rT),e);try{const i=new oT(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw fm(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw fm(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw fm(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw fm(n,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Vy(n,p,d);Qa(n,p)}}catch(i){if(i instanceof Al)throw i;Qa(n,"network-request-failed",{message:String(i)})}}async function bp(n,e,t,r,i={}){const s=await Uo(n,e,t,r,i);return"mfaPendingCredential"in s&&Qa(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function z_(n,e,t,r){const i=`${e}${t}?${r}`,s=n,a=s.config.emulator?zy(n.config,i):`${n.config.apiScheme}://${i}`;return iT.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function aT(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Lo(this.auth,"network-request-failed")),sT.get())})}}function fm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Lo(n,e,r);return i.customData._tokenResponse=t,i}function Lx(n){return n!==void 0&&n.enterprise!==void 0}class lT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cT(n,e){return Uo(n,"GET","/v2/recaptchaConfig",gc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(n,e){return Uo(n,"POST","/v1/accounts:delete",e)}async function pg(n,e){return Uo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hT(n,e=!1){const t=ir(n),r=await t.getIdToken(e),i=Uy(r);Ot(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Df(R1(i.auth_time)),issuedAtTime:Df(R1(i.iat)),expirationTime:Df(R1(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function R1(n){return Number(n)*1e3}function Uy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Um("JWT malformed, contained fewer than 3 sections"),null;try{const i=E_(t);return i?JSON.parse(i):(Um("Failed to decode base64 JWT payload"),null)}catch(i){return Um("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Dx(n){const e=Uy(n);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Al&&dT(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dT({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Df(this.lastLoginAt),this.creationTime=Df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(n){var e;const t=n.auth,r=await n.getIdToken(),i=await bh(n,pg(t,{idToken:r}));Ot(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?U_(s.providerUserInfo):[],l=mT(n.providerData,a),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(l!=null&&l.length),p=u?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new S2(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function pT(n){const e=ir(n);await mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mT(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function U_(n){return n.map(e=>{var{providerId:t}=e,r=Fy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(n,e){const t=await B_(n,{},async()=>{const r=yp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await z_(n,i,"/v1/token",`key=${s}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",V_.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yT(n,e){return Uo(n,"POST","/v2/accounts:revokeToken",gc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const t=Dx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await gT(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new pd;return r&&(Ot(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ot(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ot(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return sc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n,e){Ot(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Co{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Fy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new S2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await bh(this,this.stsTokenManager.getToken(this.auth,e));return Ot(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hT(this,e)}reload(){return pT(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ns(this.auth.app))return Promise.reject(lc(this.auth));const e=await this.getIdToken();return await bh(this,uT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,l,u,d,p;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(i=t.email)!==null&&i!==void 0?i:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,S=(a=t.photoURL)!==null&&a!==void 0?a:void 0,A=(l=t.tenantId)!==null&&l!==void 0?l:void 0,T=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,E=(d=t.createdAt)!==null&&d!==void 0?d:void 0,M=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:q,emailVerified:re,isAnonymous:J,providerData:te,stsTokenManager:L}=t;Ot(q&&L,e,"internal-error");const C=pd.fromJSON(this.name,L);Ot(typeof q=="string",e,"internal-error"),tu(y,e.name),tu(b,e.name),Ot(typeof re=="boolean",e,"internal-error"),Ot(typeof J=="boolean",e,"internal-error"),tu(v,e.name),tu(S,e.name),tu(A,e.name),tu(T,e.name),tu(E,e.name),tu(M,e.name);const B=new Co({uid:q,auth:e,email:b,emailVerified:re,displayName:y,isAnonymous:J,photoURL:S,phoneNumber:v,tenantId:A,stsTokenManager:C,createdAt:E,lastLoginAt:M});return te&&Array.isArray(te)&&(B.providerData=te.map(z=>Object.assign({},z))),T&&(B._redirectEventId=T),B}static async _fromIdTokenResponse(e,t,r=!1){const i=new pd;i.updateFromServerResponse(t);const s=new Co({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mg(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?U_(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new pd;l.updateFromIdToken(r);const u=new Co({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new S2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map;function ac(n){fc(n instanceof Function,"Expected a class definition");let e=Mx.get(n);return e?(fc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Mx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q_.type="NONE";const Ox=q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(n,e,t){return`firebase:${n}:${e}:${t}`}class md{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qm(this.userKey,i.apiKey,s),this.fullPersistenceKey=qm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await pg(this.auth,{idToken:e}).catch(()=>{});return t?Co._fromGetAccountInfoResponse(this.auth,t,e):null}return Co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new md(ac(Ox),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||ac(Ox);const a=qm(r,e.config.apiKey,e.name);let l=null;for(const d of t)try{const p=await d._get(a);if(p){let y;if(typeof p=="string"){const b=await pg(e,{idToken:p}).catch(()=>{});if(!b)break;y=await Co._fromGetAccountInfoResponse(e,b,p)}else y=Co._fromJSON(e,p);d!==s&&(l=y),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new md(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new md(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y_(e))return"Blackberry";if(Q_(e))return"Webos";if(W_(e))return"Safari";if((e.includes("chrome/")||$_(e))&&!e.includes("edge/"))return"Chrome";if(K_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function H_(n=as()){return/firefox\//i.test(n)}function W_(n=as()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $_(n=as()){return/crios\//i.test(n)}function G_(n=as()){return/iemobile/i.test(n)}function K_(n=as()){return/android/i.test(n)}function Y_(n=as()){return/blackberry/i.test(n)}function Q_(n=as()){return/webos/i.test(n)}function qy(n=as()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vT(n=as()){var e;return qy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xT(){return CA()&&document.documentMode===10}function X_(n=as()){return qy(n)||K_(n)||Q_(n)||Y_(n)||/windows phone/i.test(n)||G_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n,e=[]){let t;switch(n){case"Browser":t=Fx(as());break;case"Worker":t=`${Fx(as())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(n,e={}){return Uo(n,"GET","/v2/passwordPolicy",gc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=6;class NT{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:_T,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vx(this),this.idTokenSubscription=new Vx(this),this.beforeStateQueue=new bT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ac(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await md.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pg(this,{idToken:e}),r=await Co._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ns(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ns(this.app))return Promise.reject(lc(this));const t=e?ir(e):null;return t&&Ot(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ns(this.app)?Promise.reject(lc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ns(this.app)?Promise.reject(lc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ac(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wT(this),t=new NT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yT(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ac(e)||this._popupRedirectResolver;Ot(t,this,"argument-error"),this.redirectPersistenceManager=await md.create(this,[ac(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&JE(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function yc(n){return ir(n)}class Vx{constructor(e){this.auth=e,this.observer=null,this.addObserver=BA(t=>this.observer=t)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kT(n){e0=n}function Z_(n){return e0.loadJS(n)}function AT(){return e0.recaptchaEnterpriseScript}function ET(){return e0.gapiScript}function TT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class IT{constructor(){this.enterprise=new PT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PT{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jT="recaptcha-enterprise",e3="NO_RECAPTCHA";class CT{constructor(e){this.type=jT,this.auth=yc(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{cT(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new lT(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;Lx(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(e3)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IT().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!t&&Lx(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=AT();u.length!==0&&(u+=l),Z_(u).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function Bx(n,e,t,r=!1,i=!1){const s=new CT(n);let a;if(i)a=e3;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function gg(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Bx(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Bx(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n,e){const t=vp(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(xh(s,e??{}))return i;Qa(i,"already-initialized")}return t.initialize({options:e})}function LT(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ac);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DT(n,e,t){const r=yc(n);Ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=t3(e),{host:a,port:l}=MT(e),u=l===null?"":`:${l}`,d={url:`${s}//${a}${u}/`},p=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ot(xh(d,r.config.emulator)&&xh(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,OT()}function t3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MT(n){const e=t3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zx(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:zx(a)}}}function zx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function OT(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sc("not implemented")}_getIdTokenResponse(e){return sc("not implemented")}_linkToIdToken(e,t){return sc("not implemented")}_getReauthenticationResolver(e){return sc("not implemented")}}async function FT(n,e){return Uo(n,"POST","/v1/accounts:update",e)}async function VT(n,e){return Uo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(n,e){return bp(n,"POST","/v1/accounts:signInWithPassword",gc(n,e))}async function n3(n,e){return Uo(n,"POST","/v1/accounts:sendOobCode",gc(n,e))}async function zT(n,e){return n3(n,e)}async function UT(n,e){return n3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(n,e){return bp(n,"POST","/v1/accounts:signInWithEmailLink",gc(n,e))}async function HT(n,e){return bp(n,"POST","/v1/accounts:signInWithEmailLink",gc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Hy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Kf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Kf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,t,"signInWithPassword",BT);case"emailLink":return qT(e,{email:this._email,oobCode:this._password});default:Qa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,r,"signUpPassword",VT);case"emailLink":return HT(e,{idToken:t,email:this._email,oobCode:this._password});default:Qa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(n,e){return bp(n,"POST","/v1/accounts:signInWithIdp",gc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="http://localhost";class wh extends Hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Fy(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new wh(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return gd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,gd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,gd(e,t)}buildRequest(){const e={requestUri:WT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GT(n){const e=_f(Nf(n)).link,t=e?_f(Nf(e)).deep_link_id:null,r=_f(Nf(n)).deep_link_id;return(r?_f(Nf(r)).link:null)||r||t||e||n}class Wy{constructor(e){var t,r,i,s,a,l;const u=_f(Nf(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,y=$T((i=u.mode)!==null&&i!==void 0?i:null);Ot(d&&p&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=GT(e);try{return new Wy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this.providerId=Th.PROVIDER_ID}static credential(e,t){return Kf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Wy.parseLink(t);return Ot(r,"argument-error"),Kf._fromEmailAndCode(e,r.code,r.tenantId)}}Th.PROVIDER_ID="password";Th.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Th.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends $y{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends wp{constructor(){super("facebook.com")}static credential(e){return wh._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ic.credential(e.oauthAccessToken)}catch{return null}}}ic.FACEBOOK_SIGN_IN_METHOD="facebook.com";ic.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wh._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gl.credentialFromTaggedObject(e)}static credentialFromError(e){return gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gl.credential(t,r)}catch{return null}}}gl.GOOGLE_SIGN_IN_METHOD="google.com";gl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends wp{constructor(){super("github.com")}static credential(e){return wh._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ou.credential(e.oauthAccessToken)}catch{return null}}}ou.GITHUB_SIGN_IN_METHOD="github.com";ou.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends wp{constructor(){super("twitter.com")}static credential(e,t){return wh._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return lu.credential(t,r)}catch{return null}}}lu.TWITTER_SIGN_IN_METHOD="twitter.com";lu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(n,e){return bp(n,"POST","/v1/accounts:signUp",gc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Co._fromIdTokenResponse(e,r,i),a=Ux(r);return new _h({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Ux(r);return new _h({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Ux(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends Al{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new yg(e,t,r,i)}}function r3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(n,s,e,r):s})}async function YT(n,e,t=!1){const r=await bh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return _h._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(n,e,t=!1){const{auth:r}=n;if(Ns(r.app))return Promise.reject(lc(r));const i="reauthenticate";try{const s=await bh(n,r3(r,i,e,n),t);Ot(s.idToken,r,"internal-error");const a=Uy(s.idToken);Ot(a,r,"internal-error");const{sub:l}=a;return Ot(n.uid===l,r,"user-mismatch"),_h._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(n,e,t=!1){if(Ns(n.app))return Promise.reject(lc(n));const r="signIn",i=await r3(n,r,e),s=await _h._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function QT(n,e){return s3(yc(n),e)}async function XT(n,e){return i3(ir(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(n){const e=yc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JT(n,e,t){const r=yc(n);await gg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UT)}async function o3(n,e,t){if(Ns(n.app))return Promise.reject(lc(n));const r=yc(n),a=await gg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KT).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&a3(n),u}),l=await _h._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function l3(n,e,t){return Ns(n.app)?Promise.reject(lc(n)):QT(ir(n),Th.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&a3(n),r})}async function ZT(n,e){const t=ir(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await zT(t.auth,i);s!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(n,e){return Uo(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ir(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await bh(r,eI(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function nI(n,e){return rI(ir(n),null,e)}async function rI(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(s.password=t);const a=await bh(n,FT(r,s));await n._updateTokensIfNecessary(a,!0)}function iI(n,e,t,r){return ir(n).onIdTokenChanged(e,t,r)}function sI(n,e,t){return ir(n).beforeAuthStateChanged(e,t)}function aI(n,e,t,r){return ir(n).onAuthStateChanged(e,t,r)}function oI(n){return ir(n).signOut()}const vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1e3,cI=10;class u3 extends c3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);xT()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cI):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}u3.type="LOCAL";const uI=u3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3 extends c3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}h3.type="SESSION";const d3=h3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new t0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(t.origin,s)),u=await hI(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const d=Gy("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(y){const b=y;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(b.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(){return window}function fI(n){vl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(){return typeof vl().WorkerGlobalScope<"u"&&typeof vl().importScripts=="function"}async function pI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gI(){return f3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="firebaseLocalStorageDb",yI=1,xg="firebaseLocalStorage",m3="fbase_key";class _p{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function n0(n,e){return n.transaction([xg],e?"readwrite":"readonly").objectStore(xg)}function vI(){const n=indexedDB.deleteDatabase(p3);return new _p(n).toPromise()}function k2(){const n=indexedDB.open(p3,yI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xg,{keyPath:m3})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(xg)?e(r):(r.close(),await vI(),e(await k2()))})})}async function qx(n,e,t){const r=n0(n,!0).put({[m3]:e,value:t});return new _p(r).toPromise()}async function xI(n,e){const t=n0(n,!1).get(e),r=await new _p(t).toPromise();return r===void 0?null:r.value}function Hx(n,e){const t=n0(n,!0).delete(e);return new _p(t).toPromise()}const bI=800,wI=3;class g3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await k2(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>wI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t0._getInstance(gI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pI(),!this.activeServiceWorker)return;this.sender=new dI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await k2();return await qx(e,vg,"1"),await Hx(e,vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>qx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>xI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Hx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=n0(i,!1).getAll();return new _p(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g3.type="LOCAL";const _I=g3;new xp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(n,e){return e?ac(e):(Ot(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NI(n){return s3(n.auth,new Ky(n),n.bypassAuthState)}function SI(n){const{auth:e,user:t}=n;return Ot(t,e,"internal-error"),i3(t,new Ky(n),n.bypassAuthState)}async function kI(n){const{auth:e,user:t}=n;return Ot(t,e,"internal-error"),YT(t,new Ky(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NI;case"linkViaPopup":case"linkViaRedirect":return kI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:Qa(this.auth,"internal-error")}}resolve(e){fc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new xp(2e3,1e4);async function A2(n,e,t){if(Ns(n.app))return Promise.reject(Lo(n,"operation-not-supported-in-this-environment"));const r=yc(n);ZE(n,e,$y);const i=y3(r,t);return new uh(r,"signInViaPopup",e,i).executeNotNull()}class uh extends v3{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,uh.currentPopupAction&&uh.currentPopupAction.cancel(),uh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){fc(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Lo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AI.get())};e()}}uh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="pendingRedirect",Hm=new Map;class TI extends v3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hm.get(this.auth._key());if(!e){try{const r=await II(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hm.set(this.auth._key(),e)}return this.bypassAuthState||Hm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(n,e){const t=CI(e),r=jI(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function PI(n,e){Hm.set(n._key(),e)}function jI(n){return ac(n._redirectPersistence)}function CI(n){return qm(EI,n.config.apiKey,n.name)}async function RI(n,e,t=!1){if(Ns(n.app))return Promise.reject(lc(n));const r=yc(n),i=y3(r,e),a=await new TI(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=10*60*1e3;class DI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!x3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Lo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wx(e))}saveEventToCache(e){this.cachedEventUids.add(Wx(e)),this.lastProcessedEventTime=Date.now()}}function Wx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function x3({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e={}){return Uo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VI=/^https?/;async function BI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OI(n);for(const t of e)try{if(zI(t))return}catch{}Qa(n,"unauthorized-domain")}function zI(n){const e=N2(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!VI.test(t))return!1;if(FI.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new xp(3e4,6e4);function $x(){const n=vl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qI(n){return new Promise((e,t)=>{var r,i,s;function a(){$x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$x(),t(Lo(n,"network-request-failed"))},timeout:UI.get()})}if(!((i=(r=vl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vl().gapi)===null||s===void 0)&&s.load)a();else{const l=TT("iframefcb");return vl()[l]=()=>{gapi.load?a():t(Lo(n,"network-request-failed"))},Z_(`${ET()}?onload=${l}`).catch(u=>t(u))}}).catch(e=>{throw Wm=null,e})}let Wm=null;function HI(n){return Wm=Wm||qI(n),Wm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new xp(5e3,15e3),$I="__/auth/iframe",GI="emulator/auth/iframe",KI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QI(n){const e=n.config;Ot(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zy(e,GI):`https://${n.config.authDomain}/${$I}`,r={apiKey:e.apiKey,appName:n.name,v:Eh},i=YI.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${yp(r).slice(1)}`}async function XI(n){const e=await HI(n),t=vl().gapi;return Ot(t,n,"internal-error"),e.open({where:document.body,url:QI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KI,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Lo(n,"network-request-failed"),l=vl().setTimeout(()=>{s(a)},WI.get());function u(){vl().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,eP=600,tP="_blank",nP="http://localhost";class Gx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rP(n,e,t,r=ZI,i=eP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},JI),{width:r.toString(),height:i.toString(),top:s,left:a}),d=as().toLowerCase();t&&(l=$_(d)?tP:t),H_(d)&&(e=e||nP,u.scrollbars="yes");const p=Object.entries(u).reduce((b,[v,S])=>`${b}${v}=${S},`,"");if(vT(d)&&l!=="_self")return iP(e||"",l),new Gx(null);const y=window.open(e||"",l,p);Ot(y,n,"popup-blocked");try{y.focus()}catch{}return new Gx(y)}function iP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="__/auth/handler",aP="emulator/auth/handler",oP=encodeURIComponent("fac");async function Kx(n,e,t,r,i,s){Ot(n.config.authDomain,n,"auth-domain-config-required"),Ot(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Eh,eventId:i};if(e instanceof $y){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",VA(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))a[p]=y}if(e instanceof wp){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(a.scopes=p.join(","))}n.tenantId&&(a.tid=n.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await n._getAppCheckToken(),d=u?`#${oP}=${encodeURIComponent(u)}`:"";return`${lP(n)}?${yp(l).slice(1)}${d}`}function lP({config:n}){return n.emulator?zy(n,aP):`https://${n.authDomain}/${sP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="webStorageSupport";class cP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d3,this._completeRedirectFn=RI,this._overrideRedirectResult=PI}async _openPopup(e,t,r,i){var s;fc((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Kx(e,t,r,N2(),i);return rP(e,a,Gy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Kx(e,t,r,N2(),i);return fI(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(fc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await XI(e),r=new DI(e);return t.register("authEvent",i=>(Ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(L1,{type:L1},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[L1];a!==void 0&&t(!!a),Qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return X_()||W_()||qy()}}const uP=cP;var Yx="@firebase/auth",Qx="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fP(n){xu(new hc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ot(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J_(n)},d=new ST(r,i,s,u);return LT(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xu(new hc("auth-internal",e=>{const t=yc(e.getProvider("auth").getImmediate());return(r=>new hP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ka(Yx,Qx,dP(n)),Ka(Yx,Qx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=5*60,mP=P_("authIdTokenMaxAge")||pP;let Xx=null;const gP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>mP)return;const i=t==null?void 0:t.token;Xx!==i&&(Xx=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function b3(n=Zg()){const e=vp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RT(n,{popupRedirectResolver:uP,persistence:[_I,uI,d3]}),r=P_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=gP(s.toString());sI(t,a,()=>a(t.currentUser)),iI(t,l=>a(l))}}const i=T_("auth");return i&&DT(t,`http://${i}`),t}function yP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kT({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Lo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",yP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fP("Browser");var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gu,w3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,C){function B(){}B.prototype=C.prototype,L.D=C.prototype,L.prototype=new B,L.prototype.constructor=L,L.C=function(z,j,P){for(var O=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)O[ne-2]=arguments[ne];return C.prototype[j].apply(z,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,C,B){B||(B=0);var z=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)z[j]=C.charCodeAt(B++)|C.charCodeAt(B++)<<8|C.charCodeAt(B++)<<16|C.charCodeAt(B++)<<24;else for(j=0;16>j;++j)z[j]=C[B++]|C[B++]<<8|C[B++]<<16|C[B++]<<24;C=L.g[0],B=L.g[1],j=L.g[2];var P=L.g[3],O=C+(P^B&(j^P))+z[0]+3614090360&4294967295;C=B+(O<<7&4294967295|O>>>25),O=P+(j^C&(B^j))+z[1]+3905402710&4294967295,P=C+(O<<12&4294967295|O>>>20),O=j+(B^P&(C^B))+z[2]+606105819&4294967295,j=P+(O<<17&4294967295|O>>>15),O=B+(C^j&(P^C))+z[3]+3250441966&4294967295,B=j+(O<<22&4294967295|O>>>10),O=C+(P^B&(j^P))+z[4]+4118548399&4294967295,C=B+(O<<7&4294967295|O>>>25),O=P+(j^C&(B^j))+z[5]+1200080426&4294967295,P=C+(O<<12&4294967295|O>>>20),O=j+(B^P&(C^B))+z[6]+2821735955&4294967295,j=P+(O<<17&4294967295|O>>>15),O=B+(C^j&(P^C))+z[7]+4249261313&4294967295,B=j+(O<<22&4294967295|O>>>10),O=C+(P^B&(j^P))+z[8]+1770035416&4294967295,C=B+(O<<7&4294967295|O>>>25),O=P+(j^C&(B^j))+z[9]+2336552879&4294967295,P=C+(O<<12&4294967295|O>>>20),O=j+(B^P&(C^B))+z[10]+4294925233&4294967295,j=P+(O<<17&4294967295|O>>>15),O=B+(C^j&(P^C))+z[11]+2304563134&4294967295,B=j+(O<<22&4294967295|O>>>10),O=C+(P^B&(j^P))+z[12]+1804603682&4294967295,C=B+(O<<7&4294967295|O>>>25),O=P+(j^C&(B^j))+z[13]+4254626195&4294967295,P=C+(O<<12&4294967295|O>>>20),O=j+(B^P&(C^B))+z[14]+2792965006&4294967295,j=P+(O<<17&4294967295|O>>>15),O=B+(C^j&(P^C))+z[15]+1236535329&4294967295,B=j+(O<<22&4294967295|O>>>10),O=C+(j^P&(B^j))+z[1]+4129170786&4294967295,C=B+(O<<5&4294967295|O>>>27),O=P+(B^j&(C^B))+z[6]+3225465664&4294967295,P=C+(O<<9&4294967295|O>>>23),O=j+(C^B&(P^C))+z[11]+643717713&4294967295,j=P+(O<<14&4294967295|O>>>18),O=B+(P^C&(j^P))+z[0]+3921069994&4294967295,B=j+(O<<20&4294967295|O>>>12),O=C+(j^P&(B^j))+z[5]+3593408605&4294967295,C=B+(O<<5&4294967295|O>>>27),O=P+(B^j&(C^B))+z[10]+38016083&4294967295,P=C+(O<<9&4294967295|O>>>23),O=j+(C^B&(P^C))+z[15]+3634488961&4294967295,j=P+(O<<14&4294967295|O>>>18),O=B+(P^C&(j^P))+z[4]+3889429448&4294967295,B=j+(O<<20&4294967295|O>>>12),O=C+(j^P&(B^j))+z[9]+568446438&4294967295,C=B+(O<<5&4294967295|O>>>27),O=P+(B^j&(C^B))+z[14]+3275163606&4294967295,P=C+(O<<9&4294967295|O>>>23),O=j+(C^B&(P^C))+z[3]+4107603335&4294967295,j=P+(O<<14&4294967295|O>>>18),O=B+(P^C&(j^P))+z[8]+1163531501&4294967295,B=j+(O<<20&4294967295|O>>>12),O=C+(j^P&(B^j))+z[13]+2850285829&4294967295,C=B+(O<<5&4294967295|O>>>27),O=P+(B^j&(C^B))+z[2]+4243563512&4294967295,P=C+(O<<9&4294967295|O>>>23),O=j+(C^B&(P^C))+z[7]+1735328473&4294967295,j=P+(O<<14&4294967295|O>>>18),O=B+(P^C&(j^P))+z[12]+2368359562&4294967295,B=j+(O<<20&4294967295|O>>>12),O=C+(B^j^P)+z[5]+4294588738&4294967295,C=B+(O<<4&4294967295|O>>>28),O=P+(C^B^j)+z[8]+2272392833&4294967295,P=C+(O<<11&4294967295|O>>>21),O=j+(P^C^B)+z[11]+1839030562&4294967295,j=P+(O<<16&4294967295|O>>>16),O=B+(j^P^C)+z[14]+4259657740&4294967295,B=j+(O<<23&4294967295|O>>>9),O=C+(B^j^P)+z[1]+2763975236&4294967295,C=B+(O<<4&4294967295|O>>>28),O=P+(C^B^j)+z[4]+1272893353&4294967295,P=C+(O<<11&4294967295|O>>>21),O=j+(P^C^B)+z[7]+4139469664&4294967295,j=P+(O<<16&4294967295|O>>>16),O=B+(j^P^C)+z[10]+3200236656&4294967295,B=j+(O<<23&4294967295|O>>>9),O=C+(B^j^P)+z[13]+681279174&4294967295,C=B+(O<<4&4294967295|O>>>28),O=P+(C^B^j)+z[0]+3936430074&4294967295,P=C+(O<<11&4294967295|O>>>21),O=j+(P^C^B)+z[3]+3572445317&4294967295,j=P+(O<<16&4294967295|O>>>16),O=B+(j^P^C)+z[6]+76029189&4294967295,B=j+(O<<23&4294967295|O>>>9),O=C+(B^j^P)+z[9]+3654602809&4294967295,C=B+(O<<4&4294967295|O>>>28),O=P+(C^B^j)+z[12]+3873151461&4294967295,P=C+(O<<11&4294967295|O>>>21),O=j+(P^C^B)+z[15]+530742520&4294967295,j=P+(O<<16&4294967295|O>>>16),O=B+(j^P^C)+z[2]+3299628645&4294967295,B=j+(O<<23&4294967295|O>>>9),O=C+(j^(B|~P))+z[0]+4096336452&4294967295,C=B+(O<<6&4294967295|O>>>26),O=P+(B^(C|~j))+z[7]+1126891415&4294967295,P=C+(O<<10&4294967295|O>>>22),O=j+(C^(P|~B))+z[14]+2878612391&4294967295,j=P+(O<<15&4294967295|O>>>17),O=B+(P^(j|~C))+z[5]+4237533241&4294967295,B=j+(O<<21&4294967295|O>>>11),O=C+(j^(B|~P))+z[12]+1700485571&4294967295,C=B+(O<<6&4294967295|O>>>26),O=P+(B^(C|~j))+z[3]+2399980690&4294967295,P=C+(O<<10&4294967295|O>>>22),O=j+(C^(P|~B))+z[10]+4293915773&4294967295,j=P+(O<<15&4294967295|O>>>17),O=B+(P^(j|~C))+z[1]+2240044497&4294967295,B=j+(O<<21&4294967295|O>>>11),O=C+(j^(B|~P))+z[8]+1873313359&4294967295,C=B+(O<<6&4294967295|O>>>26),O=P+(B^(C|~j))+z[15]+4264355552&4294967295,P=C+(O<<10&4294967295|O>>>22),O=j+(C^(P|~B))+z[6]+2734768916&4294967295,j=P+(O<<15&4294967295|O>>>17),O=B+(P^(j|~C))+z[13]+1309151649&4294967295,B=j+(O<<21&4294967295|O>>>11),O=C+(j^(B|~P))+z[4]+4149444226&4294967295,C=B+(O<<6&4294967295|O>>>26),O=P+(B^(C|~j))+z[11]+3174756917&4294967295,P=C+(O<<10&4294967295|O>>>22),O=j+(C^(P|~B))+z[2]+718787259&4294967295,j=P+(O<<15&4294967295|O>>>17),O=B+(P^(j|~C))+z[9]+3951481745&4294967295,L.g[0]=L.g[0]+C&4294967295,L.g[1]=L.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,L.g[2]=L.g[2]+j&4294967295,L.g[3]=L.g[3]+P&4294967295}r.prototype.u=function(L,C){C===void 0&&(C=L.length);for(var B=C-this.blockSize,z=this.B,j=this.h,P=0;P<C;){if(j==0)for(;P<=B;)i(this,L,P),P+=this.blockSize;if(typeof L=="string"){for(;P<C;)if(z[j++]=L.charCodeAt(P++),j==this.blockSize){i(this,z),j=0;break}}else for(;P<C;)if(z[j++]=L[P++],j==this.blockSize){i(this,z),j=0;break}}this.h=j,this.o+=C},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var C=1;C<L.length-8;++C)L[C]=0;var B=8*this.o;for(C=L.length-8;C<L.length;++C)L[C]=B&255,B/=256;for(this.u(L),L=Array(16),C=B=0;4>C;++C)for(var z=0;32>z;z+=8)L[B++]=this.g[C]>>>z&255;return L};function s(L,C){var B=l;return Object.prototype.hasOwnProperty.call(B,L)?B[L]:B[L]=C(L)}function a(L,C){this.h=C;for(var B=[],z=!0,j=L.length-1;0<=j;j--){var P=L[j]|0;z&&P==C||(B[j]=P,z=!1)}this.g=B}var l={};function u(L){return-128<=L&&128>L?s(L,function(C){return new a([C|0],0>C?-1:0)}):new a([L|0],0>L?-1:0)}function d(L){if(isNaN(L)||!isFinite(L))return y;if(0>L)return T(d(-L));for(var C=[],B=1,z=0;L>=B;z++)C[z]=L/B|0,B*=4294967296;return new a(C,0)}function p(L,C){if(L.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L.charAt(0)=="-")return T(p(L.substring(1),C));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=d(Math.pow(C,8)),z=y,j=0;j<L.length;j+=8){var P=Math.min(8,L.length-j),O=parseInt(L.substring(j,j+P),C);8>P?(P=d(Math.pow(C,P)),z=z.j(P).add(d(O))):(z=z.j(B),z=z.add(d(O)))}return z}var y=u(0),b=u(1),v=u(16777216);n=a.prototype,n.m=function(){if(A(this))return-T(this).m();for(var L=0,C=1,B=0;B<this.g.length;B++){var z=this.i(B);L+=(0<=z?z:4294967296+z)*C,C*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(S(this))return"0";if(A(this))return"-"+T(this).toString(L);for(var C=d(Math.pow(L,6)),B=this,z="";;){var j=re(B,C).g;B=E(B,j.j(C));var P=((0<B.g.length?B.g[0]:B.h)>>>0).toString(L);if(B=j,S(B))return P+z;for(;6>P.length;)P="0"+P;z=P+z}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function S(L){if(L.h!=0)return!1;for(var C=0;C<L.g.length;C++)if(L.g[C]!=0)return!1;return!0}function A(L){return L.h==-1}n.l=function(L){return L=E(this,L),A(L)?-1:S(L)?0:1};function T(L){for(var C=L.g.length,B=[],z=0;z<C;z++)B[z]=~L.g[z];return new a(B,~L.h).add(b)}n.abs=function(){return A(this)?T(this):this},n.add=function(L){for(var C=Math.max(this.g.length,L.g.length),B=[],z=0,j=0;j<=C;j++){var P=z+(this.i(j)&65535)+(L.i(j)&65535),O=(P>>>16)+(this.i(j)>>>16)+(L.i(j)>>>16);z=O>>>16,P&=65535,O&=65535,B[j]=O<<16|P}return new a(B,B[B.length-1]&-2147483648?-1:0)};function E(L,C){return L.add(T(C))}n.j=function(L){if(S(this)||S(L))return y;if(A(this))return A(L)?T(this).j(T(L)):T(T(this).j(L));if(A(L))return T(this.j(T(L)));if(0>this.l(v)&&0>L.l(v))return d(this.m()*L.m());for(var C=this.g.length+L.g.length,B=[],z=0;z<2*C;z++)B[z]=0;for(z=0;z<this.g.length;z++)for(var j=0;j<L.g.length;j++){var P=this.i(z)>>>16,O=this.i(z)&65535,ne=L.i(j)>>>16,de=L.i(j)&65535;B[2*z+2*j]+=O*de,M(B,2*z+2*j),B[2*z+2*j+1]+=P*de,M(B,2*z+2*j+1),B[2*z+2*j+1]+=O*ne,M(B,2*z+2*j+1),B[2*z+2*j+2]+=P*ne,M(B,2*z+2*j+2)}for(z=0;z<C;z++)B[z]=B[2*z+1]<<16|B[2*z];for(z=C;z<2*C;z++)B[z]=0;return new a(B,0)};function M(L,C){for(;(L[C]&65535)!=L[C];)L[C+1]+=L[C]>>>16,L[C]&=65535,C++}function q(L,C){this.g=L,this.h=C}function re(L,C){if(S(C))throw Error("division by zero");if(S(L))return new q(y,y);if(A(L))return C=re(T(L),C),new q(T(C.g),T(C.h));if(A(C))return C=re(L,T(C)),new q(T(C.g),C.h);if(30<L.g.length){if(A(L)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var B=b,z=C;0>=z.l(L);)B=J(B),z=J(z);var j=te(B,1),P=te(z,1);for(z=te(z,2),B=te(B,2);!S(z);){var O=P.add(z);0>=O.l(L)&&(j=j.add(B),P=O),z=te(z,1),B=te(B,1)}return C=E(L,j.j(C)),new q(j,C)}for(j=y;0<=L.l(C);){for(B=Math.max(1,Math.floor(L.m()/C.m())),z=Math.ceil(Math.log(B)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),P=d(B),O=P.j(C);A(O)||0<O.l(L);)B-=z,P=d(B),O=P.j(C);S(P)&&(P=b),j=j.add(P),L=E(L,O)}return new q(j,L)}n.A=function(L){return re(this,L).h},n.and=function(L){for(var C=Math.max(this.g.length,L.g.length),B=[],z=0;z<C;z++)B[z]=this.i(z)&L.i(z);return new a(B,this.h&L.h)},n.or=function(L){for(var C=Math.max(this.g.length,L.g.length),B=[],z=0;z<C;z++)B[z]=this.i(z)|L.i(z);return new a(B,this.h|L.h)},n.xor=function(L){for(var C=Math.max(this.g.length,L.g.length),B=[],z=0;z<C;z++)B[z]=this.i(z)^L.i(z);return new a(B,this.h^L.h)};function J(L){for(var C=L.g.length+1,B=[],z=0;z<C;z++)B[z]=L.i(z)<<1|L.i(z-1)>>>31;return new a(B,L.h)}function te(L,C){var B=C>>5;C%=32;for(var z=L.g.length-B,j=[],P=0;P<z;P++)j[P]=0<C?L.i(P+B)>>>C|L.i(P+B+1)<<32-C:L.i(P+B);return new a(j,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w3=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,gu=a}).apply(typeof Jx<"u"?Jx:typeof self<"u"?self:typeof window<"u"?window:{});var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _3,Sf,N3,$m,E2,S3,k3,A3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,I,F){return g==Array.prototype||g==Object.prototype||(g[I]=F.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof pm=="object"&&pm];for(var I=0;I<g.length;++I){var F=g[I];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=t(this);function i(g,I){if(I)e:{var F=r;g=g.split(".");for(var Q=0;Q<g.length-1;Q++){var Ae=g[Q];if(!(Ae in F))break e;F=F[Ae]}g=g[g.length-1],Q=F[g],I=I(Q),I!=Q&&I!=null&&e(F,g,{configurable:!0,writable:!0,value:I})}}function s(g,I){g instanceof String&&(g+="");var F=0,Q=!1,Ae={next:function(){if(!Q&&F<g.length){var Ce=F++;return{value:I(Ce,g[Ce]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}i("Array.prototype.values",function(g){return g||function(){return s(this,function(I,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(g){var I=typeof g;return I=I!="object"?I:g?Array.isArray(g)?"array":I:"null",I=="array"||I=="object"&&typeof g.length=="number"}function d(g){var I=typeof g;return I=="object"&&g!=null||I=="function"}function p(g,I,F){return g.call.apply(g.bind,arguments)}function y(g,I,F){if(!g)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,Q),g.apply(I,Ae)}}return function(){return g.apply(I,arguments)}}function b(g,I,F){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,b.apply(null,arguments)}function v(g,I){var F=Array.prototype.slice.call(arguments,1);return function(){var Q=F.slice();return Q.push.apply(Q,arguments),g.apply(this,Q)}}function S(g,I){function F(){}F.prototype=I.prototype,g.aa=I.prototype,g.prototype=new F,g.prototype.constructor=g,g.Qb=function(Q,Ae,Ce){for(var Ge=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)Ge[qt-2]=arguments[qt];return I.prototype[Ae].apply(Q,Ge)}}function A(g){const I=g.length;if(0<I){const F=Array(I);for(let Q=0;Q<I;Q++)F[Q]=g[Q];return F}return[]}function T(g,I){for(let F=1;F<arguments.length;F++){const Q=arguments[F];if(u(Q)){const Ae=g.length||0,Ce=Q.length||0;g.length=Ae+Ce;for(let Ge=0;Ge<Ce;Ge++)g[Ae+Ge]=Q[Ge]}else g.push(Q)}}class E{constructor(I,F){this.i=I,this.j=F,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function M(g){return/^[\s\xa0]*$/.test(g)}function q(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function re(g){return re[" "](g),g}re[" "]=function(){};var J=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function te(g,I,F){for(const Q in g)I.call(F,g[Q],Q,g)}function L(g,I){for(const F in g)I.call(void 0,g[F],F,g)}function C(g){const I={};for(const F in g)I[F]=g[F];return I}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(g,I){let F,Q;for(let Ae=1;Ae<arguments.length;Ae++){Q=arguments[Ae];for(F in Q)g[F]=Q[F];for(let Ce=0;Ce<B.length;Ce++)F=B[Ce],Object.prototype.hasOwnProperty.call(Q,F)&&(g[F]=Q[F])}}function j(g){var I=1;g=g.split(":");const F=[];for(;0<I&&g.length;)F.push(g.shift()),I--;return g.length&&F.push(g.join(":")),F}function P(g){l.setTimeout(()=>{throw g},0)}function O(){var g=ge;let I=null;return g.g&&(I=g.g,g.g=g.g.next,g.g||(g.h=null),I.next=null),I}class ne{constructor(){this.h=this.g=null}add(I,F){const Q=de.get();Q.set(I,F),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var de=new E(()=>new ye,g=>g.reset());class ye{constructor(){this.next=this.g=this.h=null}set(I,F){this.h=I,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ae=!1,ge=new ne,me=()=>{const g=l.Promise.resolve(void 0);oe=()=>{g.then(Z)}};var Z=()=>{for(var g;g=O();){try{g.h.call(g.g)}catch(F){P(F)}var I=de;I.j(g),100>I.h&&(I.h++,g.next=I.g,I.g=g)}ae=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(g,I){this.type=g,this.g=this.target=I,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,I=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const F=()=>{};l.addEventListener("test",F,I),l.removeEventListener("test",F,I)}catch{}return g}();function ce(g,I){if(K.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var F=this.type=g.type,Q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=I,I=g.relatedTarget){if(J){e:{try{re(I.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(I=null)}}else F=="mouseover"?I=g.fromElement:F=="mouseout"&&(I=g.toElement);this.relatedTarget=I,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:fe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ce.aa.h.call(this)}}S(ce,K);var fe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Ne(g,I,F,Q,Ae){this.listener=g,this.proxy=null,this.src=I,this.type=F,this.capture=!!Q,this.ha=Ae,this.key=++_e,this.da=this.fa=!1}function Me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function $e(g){this.src=g,this.g={},this.h=0}$e.prototype.add=function(g,I,F,Q,Ae){var Ce=g.toString();g=this.g[Ce],g||(g=this.g[Ce]=[],this.h++);var Ge=et(g,I,Q,Ae);return-1<Ge?(I=g[Ge],F||(I.fa=!1)):(I=new Ne(I,this.src,Ce,!!Q,Ae),I.fa=F,g.push(I)),I};function tt(g,I){var F=I.type;if(F in g.g){var Q=g.g[F],Ae=Array.prototype.indexOf.call(Q,I,void 0),Ce;(Ce=0<=Ae)&&Array.prototype.splice.call(Q,Ae,1),Ce&&(Me(I),g.g[F].length==0&&(delete g.g[F],g.h--))}}function et(g,I,F,Q){for(var Ae=0;Ae<g.length;++Ae){var Ce=g[Ae];if(!Ce.da&&Ce.listener==I&&Ce.capture==!!F&&Ce.ha==Q)return Ae}return-1}var bt="closure_lm_"+(1e6*Math.random()|0),Oe={};function ue(g,I,F,Q,Ae){if(Array.isArray(I)){for(var Ce=0;Ce<I.length;Ce++)ue(g,I[Ce],F,Q,Ae);return null}return F=Bt(F),g&&g[Se]?g.K(I,F,d(Q)?!!Q.capture:!1,Ae):Ct(g,I,F,!1,Q,Ae)}function Ct(g,I,F,Q,Ae,Ce){if(!I)throw Error("Invalid event type");var Ge=d(Ae)?!!Ae.capture:!!Ae,qt=yt(g);if(qt||(g[bt]=qt=new $e(g)),F=qt.add(I,F,Q,Ge,Ce),F.proxy)return F;if(Q=ft(),F.proxy=Q,Q.src=g,Q.listener=F,g.addEventListener)ee||(Ae=Ge),Ae===void 0&&(Ae=!1),g.addEventListener(I.toString(),Q,Ae);else if(g.attachEvent)g.attachEvent(nt(I.toString()),Q);else if(g.addListener&&g.removeListener)g.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return F}function ft(){function g(F){return I.call(g.src,g.listener,F)}const I=st;return g}function Qe(g,I,F,Q,Ae){if(Array.isArray(I))for(var Ce=0;Ce<I.length;Ce++)Qe(g,I[Ce],F,Q,Ae);else Q=d(Q)?!!Q.capture:!!Q,F=Bt(F),g&&g[Se]?(g=g.i,I=String(I).toString(),I in g.g&&(Ce=g.g[I],F=et(Ce,F,Q,Ae),-1<F&&(Me(Ce[F]),Array.prototype.splice.call(Ce,F,1),Ce.length==0&&(delete g.g[I],g.h--)))):g&&(g=yt(g))&&(I=g.g[I.toString()],g=-1,I&&(g=et(I,F,Q,Ae)),(F=-1<g?I[g]:null)&&Je(F))}function Je(g){if(typeof g!="number"&&g&&!g.da){var I=g.src;if(I&&I[Se])tt(I.i,g);else{var F=g.type,Q=g.proxy;I.removeEventListener?I.removeEventListener(F,Q,g.capture):I.detachEvent?I.detachEvent(nt(F),Q):I.addListener&&I.removeListener&&I.removeListener(Q),(F=yt(I))?(tt(F,g),F.h==0&&(F.src=null,I[bt]=null)):Me(g)}}}function nt(g){return g in Oe?Oe[g]:Oe[g]="on"+g}function st(g,I){if(g.da)g=!0;else{I=new ce(I,this);var F=g.listener,Q=g.ha||g.src;g.fa&&Je(g),g=F.call(Q,I)}return g}function yt(g){return g=g[bt],g instanceof $e?g:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(g){return typeof g=="function"?g:(g[Rt]||(g[Rt]=function(I){return g.handleEvent(I)}),g[Rt])}function wt(){V.call(this),this.i=new $e(this),this.M=this,this.F=null}S(wt,V),wt.prototype[Se]=!0,wt.prototype.removeEventListener=function(g,I,F,Q){Qe(this,g,I,F,Q)};function Tt(g,I){var F,Q=g.F;if(Q)for(F=[];Q;Q=Q.F)F.push(Q);if(g=g.M,Q=I.type||I,typeof I=="string")I=new K(I,g);else if(I instanceof K)I.target=I.target||g;else{var Ae=I;I=new K(Q,g),z(I,Ae)}if(Ae=!0,F)for(var Ce=F.length-1;0<=Ce;Ce--){var Ge=I.g=F[Ce];Ae=Xt(Ge,Q,!0,I)&&Ae}if(Ge=I.g=g,Ae=Xt(Ge,Q,!0,I)&&Ae,Ae=Xt(Ge,Q,!1,I)&&Ae,F)for(Ce=0;Ce<F.length;Ce++)Ge=I.g=F[Ce],Ae=Xt(Ge,Q,!1,I)&&Ae}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var g=this.i,I;for(I in g.g){for(var F=g.g[I],Q=0;Q<F.length;Q++)Me(F[Q]);delete g.g[I],g.h--}}this.F=null},wt.prototype.K=function(g,I,F,Q){return this.i.add(String(g),I,!1,F,Q)},wt.prototype.L=function(g,I,F,Q){return this.i.add(String(g),I,!0,F,Q)};function Xt(g,I,F,Q){if(I=g.i.g[String(I)],!I)return!0;I=I.concat();for(var Ae=!0,Ce=0;Ce<I.length;++Ce){var Ge=I[Ce];if(Ge&&!Ge.da&&Ge.capture==F){var qt=Ge.listener,en=Ge.ha||Ge.src;Ge.fa&&tt(g.i,Ge),Ae=qt.call(en,Q)!==!1&&Ae}}return Ae&&!Q.defaultPrevented}function It(g,I,F){if(typeof g=="function")F&&(g=b(g,F));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:l.setTimeout(g,I||0)}function Ut(g){g.g=It(()=>{g.g=null,g.i&&(g.i=!1,Ut(g))},g.l);const I=g.h;g.h=null,g.m.apply(null,I)}class at extends V{constructor(I,F){super(),this.m=I,this.l=F,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(g){V.call(this),this.h=g,this.g={}}S(sr,V);var Jt=[];function gi(g){te(g.g,function(I,F){this.g.hasOwnProperty(F)&&Je(I)},g),g.g={}}sr.prototype.N=function(){sr.aa.N.call(this),gi(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=l.JSON.stringify,En=l.JSON.parse,Li=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Zt(){}Zt.prototype.h=null;function Es(g){return g.h||(g.h=g.i())}function Ln(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){K.call(this,"d")}S(Or,K);function Dn(){K.call(this,"c")}S(Dn,K);var St={},nn=null;function os(){return nn=nn||new wt}St.La="serverreachability";function fr(g){K.call(this,St.La,g)}S(fr,K);function Fr(g){const I=os();Tt(I,new fr(I))}St.STAT_EVENT="statevent";function Di(g,I){K.call(this,St.STAT_EVENT,g),this.stat=I}S(Di,K);function ct(g){const I=os();Tt(I,new Di(I,g))}St.Ma="timingevent";function ti(g,I){K.call(this,St.Ma,g),this.size=I}S(ti,K);function vr(g,I){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},I)}function xr(){this.g=!0}xr.prototype.xa=function(){this.g=!1};function Un(g,I,F,Q,Ae,Ce){g.info(function(){if(g.g)if(Ce)for(var Ge="",qt=Ce.split("&"),en=0;en<qt.length;en++){var Ht=qt[en].split("=");if(1<Ht.length){var gn=Ht[0];Ht=Ht[1];var _n=gn.split("_");Ge=2<=_n.length&&_n[1]=="type"?Ge+(gn+"="+Ht+"&"):Ge+(gn+"=redacted&")}}else Ge=null;else Ge=Ce;return"XMLHTTP REQ ("+Q+") [attempt "+Ae+"]: "+I+`
`+F+`
`+Ge})}function qn(g,I,F,Q,Ae,Ce,Ge){g.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+Ae+"]: "+I+`
`+F+`
`+Ce+" "+Ge})}function Qn(g,I,F,Q){g.info(function(){return"XMLHTTP TEXT ("+I+"): "+ea(g,F)+(Q?" "+Q:"")})}function wa(g,I){g.info(function(){return"TIMEOUT: "+I})}xr.prototype.info=function(){};function ea(g,I){if(!g.g)return I;if(!I)return null;try{var F=JSON.parse(I);if(F){for(g=0;g<F.length;g++)if(Array.isArray(F[g])){var Q=F[g];if(!(2>Q.length)){var Ae=Q[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var Ce=Ae[0];if(Ce!="noop"&&Ce!="stop"&&Ce!="close")for(var Ge=1;Ge<Ae.length;Ge++)Ae[Ge]=""}}}}return dn(F)}catch{return I}}var ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function ri(){}S(ri,Zt),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},pr=new ri;function or(g,I,F,Q){this.j=g,this.i=I,this.l=F,this.R=Q||1,this.U=new sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ls}function ls(){this.i=null,this.g="",this.h=!1}var ta={},na={};function ra(g,I,F){g.L=1,g.v=aa(Wr(I)),g.m=F,g.P=!0,_a(g,null)}function _a(g,I){g.F=Date.now(),Tn(g),g.A=Wr(g.v);var F=g.A,Q=g.R;Array.isArray(Q)||(Q=[String(Q)]),kt(F.i,"t",Q),g.C=0,F=g.j.J,g.h=new ls,g.g=H(g.j,F?I:null,!g.m),0<g.O&&(g.M=new at(b(g.Y,g,g.g),g.O)),I=g.U,F=g.g,Q=g.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(Jt[0]=Ae.toString()),Ae=Jt);for(var Ce=0;Ce<Ae.length;Ce++){var Ge=ue(F,Ae[Ce],Q||I.handleEvent,!1,I.h||I);if(!Ge)break;I.g[Ge.key]=Ge}I=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,I)):(g.u="GET",g.g.ea(g.A,g.u,null,I)),Fr(),Un(g.i,g.u,g.A,g.l,g.R,g.m)}or.prototype.ca=function(g){g=g.target;const I=this.M;I&&cr(g)==3?I.j():this.Y(g)},or.prototype.Y=function(g){try{if(g==this.g)e:{const _n=cr(this.g);var I=this.g.Ba();const bi=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||Rl(this.g)))){this.J||_n!=4||I==7||(I==8||0>=bi?Fr(3):Fr(2)),Ts(this);var F=this.g.Z();this.X=F;t:if(Za(this)){var Q=Rl(this.g);g="";var Ae=Q.length,Ce=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),ia(this);var Ge="";break t}this.h.i=new l.TextDecoder}for(I=0;I<Ae;I++)this.h.h=!0,g+=this.h.i.decode(Q[I],{stream:!(Ce&&I==Ae-1)});Q.length=0,this.h.g+=g,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=F==200,qn(this.i,this.u,this.A,this.l,this.R,_n,F),this.o){if(this.T&&!this.K){t:{if(this.g){var qt,en=this.g;if((qt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(qt)){var Ht=qt;break t}}Ht=null}if(F=Ht)Qn(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,F);else{this.o=!1,this.s=3,ct(12),Oi(this),ia(this);break e}}if(this.P){F=!0;let Kr;for(;!this.J&&this.C<Ge.length;)if(Kr=xc(this,Ge),Kr==na){_n==4&&(this.s=4,ct(14),F=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Kr==ta){this.s=4,ct(15),Qn(this.i,this.l,Ge,"[Invalid Chunk]"),F=!1;break}else Qn(this.i,this.l,Kr,null),eo(this,Kr);if(Za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||Ge.length!=0||this.h.h||(this.s=1,ct(16),F=!1),this.o=this.o&&F,!F)Qn(this.i,this.l,Ge,"[Invalid Chunked Response]"),Oi(this),ia(this);else if(0<Ge.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),Jo(gn),gn.M=!0,ct(11))}}else Qn(this.i,this.l,Ge,null),eo(this,Ge);_n==4&&Oi(this),this.o&&!this.J&&(_n==4?Ds(this.j,this):(this.o=!1,Tn(this)))}else hs(this.g),F==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Oi(this),ia(this)}}}catch{}finally{}};function Za(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function xc(g,I){var F=g.C,Q=I.indexOf(`
`,F);return Q==-1?na:(F=Number(I.substring(F,Q)),isNaN(F)?ta:(Q+=1,Q+F>I.length?na:(I=I.slice(Q,Q+F),g.C=Q+F,I)))}or.prototype.cancel=function(){this.J=!0,Oi(this)};function Tn(g){g.S=Date.now()+g.I,bc(g,g.I)}function bc(g,I){if(g.B!=null)throw Error("WatchDog timer not null");g.B=vr(b(g.ba,g),I)}function Ts(g){g.B&&(l.clearTimeout(g.B),g.B=null)}or.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(wa(this.i,this.A),this.L!=2&&(Fr(),ct(17)),Oi(this),this.s=2,ia(this)):bc(this,this.S-g)};function ia(g){g.j.G==0||g.J||Ds(g.j,g)}function Oi(g){Ts(g);var I=g.M;I&&typeof I.ma=="function"&&I.ma(),g.M=null,gi(g.U),g.g&&(I=g.g,g.g=null,I.abort(),I.ma())}function eo(g,I){try{var F=g.j;if(F.G!=0&&(F.g==g||qr(F.h,g))){if(!g.K&&qr(F.h,g)&&F.G==3){try{var Q=F.Da.g.parse(I)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var Ae=Q;if(Ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<g.F)ua(F),ds(F);else break e;Ra(F),ct(18)}}else F.za=Ae[1],0<F.za-F.T&&37500>Ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=vr(b(F.Za,F),6e3));if(1>=to(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else ai(F,11)}else if((g.K||F.g==g)&&ua(F),!M(I))for(Ae=F.Da.g.parse(I),I=0;I<Ae.length;I++){let Ht=Ae[I];if(F.T=Ht[0],Ht=Ht[1],F.G==2)if(Ht[0]=="c"){F.K=Ht[1],F.ia=Ht[2];const gn=Ht[3];gn!=null&&(F.la=gn,F.j.info("VER="+F.la));const _n=Ht[4];_n!=null&&(F.Aa=_n,F.j.info("SVER="+F.Aa));const bi=Ht[5];bi!=null&&typeof bi=="number"&&0<bi&&(Q=1.5*bi,F.L=Q,F.j.info("backChannelRequestTimeoutMs_="+Q)),Q=F;const Kr=g.g;if(Kr){const ha=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var Ce=Q.h;Ce.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(Hn(Ce,Ce.h),Ce.h=null))}if(Q.D){const da=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(Q.ya=da,wn(Q.I,Q.D,da))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-g.F,F.j.info("Handshake RTT: "+F.R+"ms")),Q=F;var Ge=g;if(Q.qa=_(Q,Q.J?Q.ia:null,Q.W),Ge.K){Il(Q.h,Ge);var qt=Ge,en=Q.L;en&&(qt.I=en),qt.B&&(Ts(qt),Tn(qt)),Q.g=Ge}else ca(Q);0<F.i.length&&Rs(F)}else Ht[0]!="stop"&&Ht[0]!="close"||ai(F,7);else F.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?ai(F,7):Xn(F):Ht[0]!="noop"&&F.l&&F.l.ta(Ht),F.v=0)}}Fr(4)}catch{}}var wc=class{constructor(g,I){this.g=g,this.map=I}};function Na(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function to(g){return g.h?1:g.g?g.g.size:0}function qr(g,I){return g.h?g.h==I:g.g?g.g.has(I):!1}function Hn(g,I){g.g?g.g.add(I):g.h=I}function Il(g,I){g.h&&g.h==I?g.h=null:g.g&&g.g.has(I)&&g.g.delete(I)}Na.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Pl(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let I=g.i;for(const F of g.g.values())I=I.concat(F.D);return I}return A(g.i)}function no(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(u(g)){for(var I=[],F=g.length,Q=0;Q<F;Q++)I.push(g[Q]);return I}I=[],F=0;for(Q in g)I[F++]=g[Q];return I}function Sa(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(u(g)||typeof g=="string"){var I=[];g=g.length;for(var F=0;F<g;F++)I.push(F);return I}I=[],F=0;for(const Q in g)I[F++]=Q;return I}}}function ka(g,I){if(g.forEach&&typeof g.forEach=="function")g.forEach(I,void 0);else if(u(g)||typeof g=="string")Array.prototype.forEach.call(g,I,void 0);else for(var F=Sa(g),Q=no(g),Ae=Q.length,Ce=0;Ce<Ae;Ce++)I.call(void 0,Q[Ce],F&&F[Ce],g)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Go(g,I){if(g){g=g.split("&");for(var F=0;F<g.length;F++){var Q=g[F].indexOf("="),Ae=null;if(0<=Q){var Ce=g[F].substring(0,Q);Ae=g[F].substring(Q+1)}else Ce=g[F];I(Ce,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function lr(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof lr){this.h=g.h,Aa(this,g.j),this.o=g.o,this.g=g.g,Ea(this,g.s),this.l=g.l;var I=g.i,F=new cs;F.i=I.i,I.g&&(F.g=new Map(I.g),F.h=I.h),sa(this,F),this.m=g.m}else g&&(I=String(g).match(Hr))?(this.h=!1,Aa(this,I[1]||"",!0),this.o=Yt(I[2]||""),this.g=Yt(I[3]||"",!0),Ea(this,I[4]),this.l=Yt(I[5]||"",!0),sa(this,I[6]||"",!0),this.m=Yt(I[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}lr.prototype.toString=function(){var g=[],I=this.j;I&&g.push(Is(I,Ko,!0),":");var F=this.g;return(F||I=="file")&&(g.push("//"),(I=this.o)&&g.push(Is(I,Ko,!0),"@"),g.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&g.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&g.push("/"),g.push(Is(F,F.charAt(0)=="/"?Ps:Nc,!0))),(F=this.i.toString())&&g.push("?",F),(F=this.m)&&g.push("#",Is(F,Ta)),g.join("")};function Wr(g){return new lr(g)}function Aa(g,I,F){g.j=F?Yt(I,!0):I,g.j&&(g.j=g.j.replace(/:$/,""))}function Ea(g,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);g.s=I}else g.s=null}function sa(g,I,F){I instanceof cs?(g.i=I,js(g.i,g.h)):(F||(I=Is(I,ro)),g.i=new cs(I,g.h))}function wn(g,I,F){g.i.set(I,F)}function aa(g){return wn(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Yt(g,I){return g?I?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Is(g,I,F){return typeof g=="string"?(g=encodeURI(g).replace(I,_c),F&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function _c(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ko=/[#\/\?@]/g,Nc=/[#\?:]/g,Ps=/[#\?]/g,ro=/[#\?@]/g,Ta=/#/g;function cs(g,I){this.h=this.g=null,this.i=g||null,this.j=!!I}function ln(g){g.g||(g.g=new Map,g.h=0,g.i&&Go(g.i,function(I,F){g.add(decodeURIComponent(I.replace(/\+/g," ")),F)}))}n=cs.prototype,n.add=function(g,I){ln(this),this.i=null,g=Vi(this,g);var F=this.g.get(g);return F||this.g.set(g,F=[]),F.push(I),this.h+=1,this};function us(g,I){ln(g),I=Vi(g,I),g.g.has(I)&&(g.i=null,g.h-=g.g.get(I).length,g.g.delete(I))}function Fi(g,I){return ln(g),I=Vi(g,I),g.g.has(I)}n.forEach=function(g,I){ln(this),this.g.forEach(function(F,Q){F.forEach(function(Ae){g.call(I,Ae,Q,this)},this)},this)},n.na=function(){ln(this);const g=Array.from(this.g.values()),I=Array.from(this.g.keys()),F=[];for(let Q=0;Q<I.length;Q++){const Ae=g[Q];for(let Ce=0;Ce<Ae.length;Ce++)F.push(I[Q])}return F},n.V=function(g){ln(this);let I=[];if(typeof g=="string")Fi(this,g)&&(I=I.concat(this.g.get(Vi(this,g))));else{g=Array.from(this.g.values());for(let F=0;F<g.length;F++)I=I.concat(g[F])}return I},n.set=function(g,I){return ln(this),this.i=null,g=Vi(this,g),Fi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[I]),this.h+=1,this},n.get=function(g,I){return g?(g=this.V(g),0<g.length?String(g[0]):I):I};function kt(g,I,F){us(g,I),0<F.length&&(g.i=null,g.g.set(Vi(g,I),A(F)),g.h+=F.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],I=Array.from(this.g.keys());for(var F=0;F<I.length;F++){var Q=I[F];const Ce=encodeURIComponent(String(Q)),Ge=this.V(Q);for(Q=0;Q<Ge.length;Q++){var Ae=Ce;Ge[Q]!==""&&(Ae+="="+encodeURIComponent(String(Ge[Q]))),g.push(Ae)}}return this.i=g.join("&")};function Vi(g,I){return I=String(I),g.j&&(I=I.toLowerCase()),I}function js(g,I){I&&!g.j&&(ln(g),g.i=null,g.g.forEach(function(F,Q){var Ae=Q.toLowerCase();Q!=Ae&&(us(this,Q),kt(this,Ae,F))},g)),g.j=I}function Cs(g,I){const F=new xr;if(l.Image){const Q=new Image;Q.onload=v($r,F,"TestLoadImage: loaded",!0,I,Q),Q.onerror=v($r,F,"TestLoadImage: error",!1,I,Q),Q.onabort=v($r,F,"TestLoadImage: abort",!1,I,Q),Q.ontimeout=v($r,F,"TestLoadImage: timeout",!1,I,Q),l.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=g}else I(!1)}function jl(g,I){const F=new xr,Q=new AbortController,Ae=setTimeout(()=>{Q.abort(),$r(F,"TestPingServer: timeout",!1,I)},1e4);fetch(g,{signal:Q.signal}).then(Ce=>{clearTimeout(Ae),Ce.ok?$r(F,"TestPingServer: ok",!0,I):$r(F,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Ae),$r(F,"TestPingServer: error",!1,I)})}function $r(g,I,F,Q,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),Q(F)}catch{}}function Yo(){this.g=new Li}function Qo(g,I,F){const Q=F||"";try{ka(g,function(Ae,Ce){let Ge=Ae;d(Ae)&&(Ge=dn(Ae)),I.push(Q+Ce+"="+encodeURIComponent(Ge))})}catch(Ae){throw I.push(Q+"type="+encodeURIComponent("_badmap")),Ae}}function oa(g){this.l=g.Ub||null,this.j=g.eb||!1}S(oa,Zt),oa.prototype.g=function(){return new io(this.l,this.j)},oa.prototype.i=function(g){return function(){return g}}({});function io(g,I){wt.call(this),this.D=g,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(io,wt),n=io.prototype,n.open=function(g,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=I,this.readyState=1,Gr(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(I.body=g),(this.D||l).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var I=g.value?g.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!g.done}))&&(this.response=this.responseText+=I)}g.done?vi(this):Gr(this),this.readyState==3&&Sc(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,vi(this))},n.Qa=function(g){this.g&&(this.response=g,vi(this))},n.ga=function(){this.g&&vi(this)};function vi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Gr(g)}n.setRequestHeader=function(g,I){this.u.append(g,I)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],I=this.h.entries();for(var F=I.next();!F.done;)F=F.value,g.push(F[0]+": "+F[1]),F=I.next();return g.join(`\r
`)};function Gr(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ii(g){let I="";return te(g,function(F,Q){I+=Q,I+=":",I+=F,I+=`\r
`}),I}function Ia(g,I,F){e:{for(Q in F){var Q=!1;break e}Q=!0}Q||(F=ii(F),typeof g=="string"?F!=null&&encodeURIComponent(String(F)):wn(g,I,F))}function mn(g){wt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(mn,wt);var Cl=/^https?$/i,Pa=["POST","PUT"];n=mn.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,I,F,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);I=I?I.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?Es(this.o):Es(pr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(I,String(g),!0),this.B=!1}catch(Ce){ja(this,Ce);return}if(g=F||"",F=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var Ae in Q)F.set(Ae,Q[Ae]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Ce of Q.keys())F.set(Ce,Q.get(Ce));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(F.keys()).find(Ce=>Ce.toLowerCase()=="content-type"),Ae=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Pa,I,void 0))||Q||Ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ce,Ge]of F)this.g.setRequestHeader(Ce,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xi(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ce){ja(this,Ce)}};function ja(g,I){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=I,g.m=5,so(g),si(g)}function so(g){g.A||(g.A=!0,Tt(g,"complete"),Tt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Tt(this,"complete"),Tt(this,"abort"),si(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),mn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xo(this):this.bb())},n.bb=function(){Xo(this)};function Xo(g){if(g.h&&typeof a<"u"&&(!g.v[1]||cr(g)!=4||g.Z()!=2)){if(g.u&&cr(g)==4)It(g.Ea,0,g);else if(Tt(g,"readystatechange"),cr(g)==4){g.h=!1;try{const Ge=g.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var F;if(!(F=I)){var Q;if(Q=Ge===0){var Ae=String(g.D).match(Hr)[1]||null;!Ae&&l.self&&l.self.location&&(Ae=l.self.location.protocol.slice(0,-1)),Q=!Cl.test(Ae?Ae.toLowerCase():"")}F=Q}if(F)Tt(g,"complete"),Tt(g,"success");else{g.m=6;try{var Ce=2<cr(g)?g.g.statusText:""}catch{Ce=""}g.l=Ce+" ["+g.Z()+"]",so(g)}}finally{si(g)}}}}function si(g,I){if(g.g){xi(g);const F=g.g,Q=g.v[0]?()=>{}:null;g.g=null,g.v=null,I||Tt(g,"ready");try{F.onreadystatechange=Q}catch{}}}function xi(g){g.I&&(l.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function cr(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var I=this.g.responseText;return g&&I.indexOf(g)==0&&(I=I.substring(g.length)),En(I)}};function Rl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(g){const I={};g=(g.g&&2<=cr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<g.length;Q++){if(M(g[Q]))continue;var F=j(g[Q]);const Ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const Ce=I[Ae]||[];I[Ae]=Ce,Ce.push(F)}L(I,function(Q){return Q.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(g,I,F){return F&&F.internalChannelParams&&F.internalChannelParams[g]||I}function ao(g){this.Aa=0,this.i=[],this.j=new xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,g),this.cb=br("retryDelaySeedMs",1e4,g),this.Wa=br("forwardChannelMaxRetries",2,g),this.wa=br("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Na(g&&g.concurrentRequestLimit),this.Da=new Yo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ao.prototype,n.la=8,n.G=1,n.connect=function(g,I,F,Q){ct(0),this.W=g,this.H=I||{},F&&Q!==void 0&&(this.H.OSID=F,this.H.OAID=Q),this.F=this.X,this.I=_(this,null,this.W),Rs(this)};function Xn(g){if(la(g),g.G==3){var I=g.U++,F=Wr(g.I);if(wn(F,"SID",g.K),wn(F,"RID",I),wn(F,"TYPE","terminate"),Ls(g,F),I=new or(g,g.j,I),I.L=2,I.v=aa(Wr(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(I.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=I.v,F=!0),F||(I.g=H(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Tn(I)}el(g)}function ds(g){g.g&&(Jo(g),g.g.cancel(),g.g=null)}function la(g){ds(g),g.u&&(l.clearTimeout(g.u),g.u=null),ua(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function Rs(g){if(!yi(g.h)&&!g.s){g.s=!0;var I=g.Ga;oe||me(),ae||(oe(),ae=!0),ge.add(I,g),g.B=0}}function Ll(g,I){return to(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=I.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=vr(b(g.Ga,g,I),Zo(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Ae=new or(this,this.j,g);let Ce=this.o;if(this.S&&(Ce?(Ce=C(Ce),z(Ce,this.S)):Ce=this.S),this.m!==null||this.O||(Ae.H=Ce,Ce=null),this.P)e:{for(var I=0,F=0;F<this.i.length;F++){t:{var Q=this.i[F];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(I+=Q,4096<I){I=F;break e}if(I===4096||F===this.i.length-1){I=F+1;break e}}I=1e3}else I=1e3;I=fs(this,Ae,I),F=Wr(this.I),wn(F,"RID",g),wn(F,"CVER",22),this.D&&wn(F,"X-HTTP-Session-Id",this.D),Ls(this,F),Ce&&(this.O?I="headers="+encodeURIComponent(String(ii(Ce)))+"&"+I:this.m&&Ia(F,this.m,Ce)),Hn(this.h,Ae),this.Ua&&wn(F,"TYPE","init"),this.P?(wn(F,"$req",I),wn(F,"SID","null"),Ae.T=!0,ra(Ae,F,null)):ra(Ae,F,I),this.G=2}}else this.G==3&&(g?Ca(this,g):this.i.length==0||yi(this.h)||Ca(this))};function Ca(g,I){var F;I?F=I.l:F=g.U++;const Q=Wr(g.I);wn(Q,"SID",g.K),wn(Q,"RID",F),wn(Q,"AID",g.T),Ls(g,Q),g.m&&g.o&&Ia(Q,g.m,g.o),F=new or(g,g.j,F,g.B+1),g.m===null&&(F.H=g.o),I&&(g.i=I.D.concat(g.i)),I=fs(g,F,1e3),F.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Hn(g.h,F),ra(F,Q,I)}function Ls(g,I){g.H&&te(g.H,function(F,Q){wn(I,Q,F)}),g.l&&ka({},function(F,Q){wn(I,Q,F)})}function fs(g,I,F){F=Math.min(g.i.length,F);var Q=g.l?b(g.l.Na,g.l,g):null;e:{var Ae=g.i;let Ce=-1;for(;;){const Ge=["count="+F];Ce==-1?0<F?(Ce=Ae[0].g,Ge.push("ofs="+Ce)):Ce=0:Ge.push("ofs="+Ce);let qt=!0;for(let en=0;en<F;en++){let Ht=Ae[en].g;const gn=Ae[en].map;if(Ht-=Ce,0>Ht)Ce=Math.max(0,Ae[en].g-100),qt=!1;else try{Qo(gn,Ge,"req"+Ht+"_")}catch{Q&&Q(gn)}}if(qt){Q=Ge.join("&");break e}}}return g=g.i.splice(0,F),I.D=g,Q}function ca(g){if(!g.g&&!g.u){g.Y=1;var I=g.Fa;oe||me(),ae||(oe(),ae=!0),ge.add(I,g),g.v=0}}function Ra(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=vr(b(g.Fa,g),Zo(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=vr(b(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),ds(this),kc(this))};function Jo(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function kc(g){g.g=new or(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var I=Wr(g.qa);wn(I,"RID","rpc"),wn(I,"SID",g.K),wn(I,"AID",g.T),wn(I,"CI",g.F?"0":"1"),!g.F&&g.ja&&wn(I,"TO",g.ja),wn(I,"TYPE","xmlhttp"),Ls(g,I),g.m&&g.o&&Ia(I,g.m,g.o),g.L&&(g.g.I=g.L);var F=g.g;g=g.ia,F.L=1,F.v=aa(Wr(I)),F.m=null,F.P=!0,_a(F,g)}n.Za=function(){this.C!=null&&(this.C=null,ds(this),Ra(this),ct(19))};function ua(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Ds(g,I){var F=null;if(g.g==I){ua(g),Jo(g),g.g=null;var Q=2}else if(qr(g.h,I))F=I.D,Il(g.h,I),Q=1;else return;if(g.G!=0){if(I.o)if(Q==1){F=I.m?I.m.length:0,I=Date.now()-I.F;var Ae=g.B;Q=os(),Tt(Q,new ti(Q,F)),Rs(g)}else ca(g);else if(Ae=I.s,Ae==3||Ae==0&&0<I.X||!(Q==1&&Ll(g,I)||Q==2&&Ra(g)))switch(F&&0<F.length&&(I=g.h,I.i=I.i.concat(F)),Ae){case 1:ai(g,5);break;case 4:ai(g,10);break;case 3:ai(g,6);break;default:ai(g,2)}}}function Zo(g,I){let F=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(F*=2),F*I}function ai(g,I){if(g.j.info("Error code "+I),I==2){var F=b(g.fb,g),Q=g.Xa;const Ae=!Q;Q=new lr(Q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Aa(Q,"https"),aa(Q),Ae?Cs(Q.toString(),F):jl(Q.toString(),F)}else ct(2);g.G=0,g.l&&g.l.sa(I),el(g),la(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function el(g){if(g.G=0,g.ka=[],g.l){const I=Pl(g.h);(I.length!=0||g.i.length!=0)&&(T(g.ka,I),T(g.ka,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.ra()}}function _(g,I,F){var Q=F instanceof lr?Wr(F):new lr(F);if(Q.g!="")I&&(Q.g=I+"."+Q.g),Ea(Q,Q.s);else{var Ae=l.location;Q=Ae.protocol,I=I?I+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var Ce=new lr(null);Q&&Aa(Ce,Q),I&&(Ce.g=I),Ae&&Ea(Ce,Ae),F&&(Ce.l=F),Q=Ce}return F=g.D,I=g.ya,F&&I&&wn(Q,F,I),wn(Q,"VER",g.la),Ls(g,Q),Q}function H(g,I,F){if(I&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=g.Ca&&!g.pa?new mn(new oa({eb:F})):new mn(g.pa),I.Ha(g.J),I}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function le(){}n=le.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function pe(){}pe.prototype.g=function(g,I){return new Te(g,I)};function Te(g,I){wt.call(this),this.g=new ao(I),this.l=g,this.h=I&&I.messageUrlParams||null,g=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(g?g["X-WebChannel-Content-Type"]=I.messageContentType:g={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(g?g["X-WebChannel-Client-Profile"]=I.va:g={"X-WebChannel-Client-Profile":I.va}),this.g.S=g,(g=I&&I.Sb)&&!M(g)&&(this.g.m=g),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!M(I)&&(this.g.D=I,g=this.h,g!==null&&I in g&&(g=this.h,I in g&&delete g[I])),this.j=new rt(this)}S(Te,wt),Te.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Te.prototype.close=function(){Xn(this.g)},Te.prototype.o=function(g){var I=this.g;if(typeof g=="string"){var F={};F.__data__=g,g=F}else this.u&&(F={},F.__data__=dn(g),g=F);I.i.push(new wc(I.Ya++,g)),I.G==3&&Rs(I)},Te.prototype.N=function(){this.g.l=null,delete this.j,Xn(this.g),delete this.g,Te.aa.N.call(this)};function Fe(g){Or.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var I=g.__sm__;if(I){e:{for(const F in I){g=F;break e}g=void 0}(this.i=g)&&(g=this.i,I=I!==null&&g in I?I[g]:void 0),this.data=I}else this.data=g}S(Fe,Or);function We(){Dn.call(this),this.status=1}S(We,Dn);function rt(g){this.g=g}S(rt,le),rt.prototype.ua=function(){Tt(this.g,"a")},rt.prototype.ta=function(g){Tt(this.g,new Fe(g))},rt.prototype.sa=function(g){Tt(this.g,new We)},rt.prototype.ra=function(){Tt(this.g,"b")},pe.prototype.createWebChannel=pe.prototype.g,Te.prototype.send=Te.prototype.o,Te.prototype.open=Te.prototype.m,Te.prototype.close=Te.prototype.close,A3=function(){return new pe},k3=function(){return os()},S3=St,E2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,$m=ni,Mi.COMPLETE="complete",N3=Mi,Ln.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Sf=Ln,mn.prototype.listenOnce=mn.prototype.L,mn.prototype.getLastError=mn.prototype.Ka,mn.prototype.getLastErrorCode=mn.prototype.Ba,mn.prototype.getStatus=mn.prototype.Z,mn.prototype.getResponseJson=mn.prototype.Oa,mn.prototype.getResponseText=mn.prototype.oa,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Ha,_3=mn}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});const Zx="@firebase/firestore",eb="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new My("@firebase/firestore");function ad(){return Nh.logLevel}function dt(n,...e){if(Nh.logLevel<=sn.DEBUG){const t=e.map(Yy);Nh.debug(`Firestore (${Vd}): ${n}`,...t)}}function pc(n,...e){if(Nh.logLevel<=sn.ERROR){const t=e.map(Yy);Nh.error(`Firestore (${Vd}): ${n}`,...t)}}function kd(n,...e){if(Nh.logLevel<=sn.WARN){const t=e.map(Yy);Nh.warn(`Firestore (${Vd}): ${n}`,...t)}}function Yy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,E3(n,r,t)}function E3(n,e,t){let r=`FIRESTORE (${Vd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw pc(r),new Error(r)}function Rn(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||E3(e,i,r)}function Gt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Al{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ts.UNAUTHENTICATED))}shutdown(){}}class xP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bP{constructor(e){this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rn(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new cc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cc,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cc)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rn(typeof r.accessToken=="string",31837,{l:r}),new T3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rn(e===null||typeof e=="string",2055,{h:e}),new ts(e)}}class wP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _P{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new wP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ns(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rn(this.o===void 0,3512);const r=s=>{s.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,dt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=SP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Qt(n,e){return n<e?-1:n>e?1:0}function T2(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Qt(r,i);{const s=I3(),a=kP(s.encode(nb(n,t)),s.encode(nb(e,t)));return a!==0?a:Qt(r,i)}}t+=r>65535?2:1}return Qt(n.length,e.length)}function nb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function kP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qt(n[t],e[t]);return Qt(n.length,e.length)}function Ad(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=-62135596800,ib=1e6;class Ar{static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ib);return new Ar(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ht(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ht(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rb)throw new ht(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ib}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Ar(0,0))}static max(){return new Wt(new Ar(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="__name__";class ml{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ft(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ft(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ml.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ml?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ml.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Qt(e.length,t.length)}static compareSegments(e,t){const r=ml.isNumericId(e),i=ml.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ml.extractNumericId(e).compare(ml.extractNumericId(t)):T2(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gu.fromString(e.substring(4,e.length-2))}}class nr extends ml{construct(e,t,r){return new nr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ht(qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nr(t)}static emptyPath(){return new nr([])}}const AP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends ml{construct(e,t,r){return new Pi(e,t,r)}static isValidIdentifier(e){return AP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sb}static keyField(){return new Pi([sb])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ht(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ht(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ht(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new ht(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pi(t)}static emptyPath(){return new Pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.path=e}static fromPath(e){return new Et(nr.fromString(e))}static fromName(e){return new Et(nr.fromString(e).popFirst(5))}static empty(){return new Et(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new nr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;function EP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Wt.fromTimestamp(r===1e9?new Ar(t+1,0):new Ar(t,r));return new bu(i,Et.empty(),e)}function TP(n){return new bu(n.readTime,n.key,Yf)}class bu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bu(Wt.min(),Et.empty(),Yf)}static max(){return new bu(Wt.max(),Et.empty(),Yf)}}function IP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Et.comparator(n.documentKey,e.documentKey),t!==0?t:Qt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(n){if(n.code!==qe.FAILED_PRECONDITION||n.message!==PP)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new He((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof He?t:He.resolve(t)}catch(t){return He.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):He.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):He.reject(t)}static resolve(e){return new He((t,r)=>{t(e)})}static reject(e){return new He((t,r)=>{r(e)})}static waitFor(e){return new He((t,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&t()},u=>r(u))}),a=!0,s===i&&t()})}static or(e){let t=He.resolve(!1);for(const r of e)t=t.next(i=>i?He.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new He((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next(p=>{a[d]=p,++l,l===s&&r(a)},p=>i(p))}})}static doWhile(e,t){return new He((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function CP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}r0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-1;function i0(n){return n==null}function bg(n){return n===0&&1/n==-1/0}function RP(n){return typeof n=="number"&&Number.isInteger(n)&&!bg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="";function LP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ab(e)),e=DP(n.get(t),e);return ab(e)}function DP(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case j3:t+="";break;default:t+=s}}return t}function ab(n){return n+j3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function C3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){this.comparator=e,this.root=t||Ii.EMPTY}insert(e,t){return new yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mm(this.root,e,this.comparator,!0)}}class mm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ii.RED,this.left=i??Ii.EMPTY,this.right=s??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ii(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ii.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ft(27949);return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1;Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ii(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lb(this.data.getIterator())}getIteratorFrom(e){return new lb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ei(this.comparator);return t.data=e,t}}class lb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.fields=e,e.sort(Pi.comparator)}static empty(){return new va([])}unionWith(e){let t=new ei(Pi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ad(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new R3("Invalid base64 string: "+s):s}}(e);return new Ri(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const MP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wu(n){if(Rn(!!n,39018),typeof n=="string"){let e=0;const t=MP.exec(n);if(Rn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _u(n){return typeof n=="string"?Ri.fromBase64String(n):Ri.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="server_timestamp",D3="__type__",M3="__previous_value__",O3="__local_write_time__";function Xy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[D3])===null||t===void 0?void 0:t.stringValue)===L3}function s0(n){const e=n.mapValue.fields[M3];return Xy(e)?s0(e):e}function Qf(n){const e=wu(n.mapValue.fields[O3].timestampValue);return new Ar(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t,r,i,s,a,l,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}const wg="(default)";class Xf{constructor(e,t){this.projectId=e,this.database=t||wg}static empty(){return new Xf("","")}get isDefaultDatabase(){return this.database===wg}isEqual(e){return e instanceof Xf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="__type__",FP="__max__",gm={mapValue:{}},V3="__vector__",_g="value";function Nu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xy(n)?4:BP(n)?9007199254740991:VP(n)?10:11:Ft(28295,{value:n})}function Nl(n,e){if(n===e)return!0;const t=Nu(n);if(t!==Nu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qf(n).isEqual(Qf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=wu(i.timestampValue),l=wu(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return _u(i.bytesValue).isEqual(_u(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Cr(i.geoPointValue.latitude)===Cr(s.geoPointValue.latitude)&&Cr(i.geoPointValue.longitude)===Cr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Cr(i.integerValue)===Cr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Cr(i.doubleValue),l=Cr(s.doubleValue);return a===l?bg(a)===bg(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Ad(n.arrayValue.values||[],e.arrayValue.values||[],Nl);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(ob(a)!==ob(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Nl(a[u],l[u])))return!1;return!0}(n,e);default:return Ft(52216,{left:n})}}function Jf(n,e){return(n.values||[]).find(t=>Nl(t,e))!==void 0}function Ed(n,e){if(n===e)return 0;const t=Nu(n),r=Nu(e);if(t!==r)return Qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Cr(s.integerValue||s.doubleValue),u=Cr(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,e);case 3:return cb(n.timestampValue,e.timestampValue);case 4:return cb(Qf(n),Qf(e));case 5:return T2(n.stringValue,e.stringValue);case 6:return function(s,a){const l=_u(s),u=_u(a);return l.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=Qt(l[d],u[d]);if(p!==0)return p}return Qt(l.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const l=Qt(Cr(s.latitude),Cr(a.latitude));return l!==0?l:Qt(Cr(s.longitude),Cr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ub(n.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,d,p;const y=s.fields||{},b=a.fields||{},v=(l=y[_g])===null||l===void 0?void 0:l.arrayValue,S=(u=b[_g])===null||u===void 0?void 0:u.arrayValue,A=Qt(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return A!==0?A:ub(v,S)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===gm.mapValue&&a===gm.mapValue)return 0;if(s===gm.mapValue)return 1;if(a===gm.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const b=T2(u[y],p[y]);if(b!==0)return b;const v=Ed(l[u[y]],d[p[y]]);if(v!==0)return v}return Qt(u.length,p.length)}(n.mapValue,e.mapValue);default:throw Ft(23264,{Pe:t})}}function cb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qt(n,e);const t=wu(n),r=wu(e),i=Qt(t.seconds,r.seconds);return i!==0?i:Qt(t.nanos,r.nanos)}function ub(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Ed(t[i],r[i]);if(s)return s}return Qt(t.length,r.length)}function Td(n){return I2(n)}function I2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=wu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _u(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Et.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=I2(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${I2(t.fields[a])}`;return i+"}"}(n.mapValue):Ft(61005,{value:n})}function Gm(n){switch(Nu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=s0(n);return e?16+Gm(e):16;case 5:return 2*n.stringValue.length;case 6:return _u(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Gm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Pu(r.fields,(s,a)=>{i+=s.length+Gm(a)}),i}(n.mapValue);default:throw Ft(13486,{value:n})}}function hb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function P2(n){return!!n&&"integerValue"in n}function Jy(n){return!!n&&"arrayValue"in n}function db(n){return!!n&&"nullValue"in n}function fb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Km(n){return!!n&&"mapValue"in n}function VP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[F3])===null||t===void 0?void 0:t.stringValue)===V3}function Mf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===FP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.value=e}static empty(){return new Ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Km(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(t)}setAll(e){let t=Pi.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=l.popLast()}a?r[l.lastSegment()]=Mf(a):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Km(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Km(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Pu(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ys(Mf(this.value))}}function B3(n){const e=[];return Pu(n.fields,(t,r)=>{const i=new Pi([t]);if(Km(r)){const s=B3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new va(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,r,i,s,a,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ns(e,0,Wt.min(),Wt.min(),Wt.min(),Ys.empty(),0)}static newFoundDocument(e,t,r,i){return new ns(e,1,t,Wt.min(),r,i,0)}static newNoDocument(e,t){return new ns(e,2,t,Wt.min(),Wt.min(),Ys.empty(),0)}static newUnknownDocument(e,t){return new ns(e,3,t,Wt.min(),Wt.min(),Ys.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ns&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ns(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){this.position=e,this.inclusive=t}}function pb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=Et.comparator(Et.fromName(a.referenceValue),t.key):r=Ed(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t="asc"){this.field=e,this.dir=t}}function zP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{}class zr extends z3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qP(e,t,r):t==="array-contains"?new $P(e,r):t==="in"?new GP(e,r):t==="not-in"?new KP(e,r):t==="array-contains-any"?new YP(e,r):new zr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new HP(e,r):new WP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ed(t,this.value)):t!==null&&Nu(this.value)===Nu(t)&&this.matchesComparison(Ed(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oo extends z3{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Oo(e,t)}matches(e){return U3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function U3(n){return n.op==="and"}function q3(n){return UP(n)&&U3(n)}function UP(n){for(const e of n.filters)if(e instanceof Oo)return!1;return!0}function j2(n){if(n instanceof zr)return n.field.canonicalString()+n.op.toString()+Td(n.value);if(q3(n))return n.filters.map(e=>j2(e)).join(",");{const e=n.filters.map(t=>j2(t)).join(",");return`${n.op}(${e})`}}function H3(n,e){return n instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.field.isEqual(i.field)&&Nl(r.value,i.value)}(n,e):n instanceof Oo?function(r,i){return i instanceof Oo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&H3(a,i.filters[l]),!0):!1}(n,e):void Ft(19439)}function W3(n){return n instanceof zr?function(t){return`${t.field.canonicalString()} ${t.op} ${Td(t.value)}`}(n):n instanceof Oo?function(t){return t.op.toString()+" {"+t.getFilters().map(W3).join(" ,")+"}"}(n):"Filter"}class qP extends zr{constructor(e,t,r){super(e,t,r),this.key=Et.fromName(r.referenceValue)}matches(e){const t=Et.comparator(e.key,this.key);return this.matchesComparison(t)}}class HP extends zr{constructor(e,t){super(e,"in",t),this.keys=$3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WP extends zr{constructor(e,t){super(e,"not-in",t),this.keys=$3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Et.fromName(r.referenceValue))}class $P extends zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jy(t)&&Jf(t.arrayValue,this.value)}}class GP extends zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jf(this.value.arrayValue,t)}}class KP extends zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Jf(this.value.arrayValue,t)}}class YP extends zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function gb(n,e=null,t=[],r=[],i=null,s=null,a=null){return new QP(n,e,t,r,i,s,a)}function Zy(n){const e=Gt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>j2(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),i0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Td(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Td(r)).join(",")),e.Ie=t}return e.Ie}function ev(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!H3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mb(n.startAt,e.startAt)&&mb(n.endAt,e.endAt)}function C2(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function XP(n,e,t,r,i,s,a,l){return new Ud(n,e,t,r,i,s,a,l)}function tv(n){return new Ud(n)}function yb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function G3(n){return n.collectionGroup!==null}function Of(n){const e=Gt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ei(Pi.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Zf(s,r))}),t.has(Pi.keyField().canonicalString())||e.Ee.push(new Zf(Pi.keyField(),r))}return e.Ee}function xl(n){const e=Gt(n);return e.de||(e.de=JP(e,Of(n))),e.de}function JP(n,e){if(n.limitType==="F")return gb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zf(i.field,s)});const t=n.endAt?new Ng(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ng(n.startAt.position,n.startAt.inclusive):null;return gb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function R2(n,e){const t=n.filters.concat([e]);return new Ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sg(n,e,t){return new Ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function a0(n,e){return ev(xl(n),xl(e))&&n.limitType===e.limitType}function K3(n){return`${Zy(xl(n))}|lt:${n.limitType}`}function od(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>W3(i)).join(", ")}]`),i0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Td(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Td(i)).join(",")),`Target(${r})`}(xl(n))}; limitType=${n.limitType})`}function o0(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Of(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const d=pb(a,l,u);return a.inclusive?d<=0:d<0}(r.startAt,Of(r),i)||r.endAt&&!function(a,l,u){const d=pb(a,l,u);return a.inclusive?d>=0:d>0}(r.endAt,Of(r),i))}(n,e)}function ZP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Y3(n){return(e,t)=>{let r=!1;for(const i of Of(n)){const s=ej(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ej(n,e,t){const r=n.field.isKeyField()?Et.comparator(e.key,t.key):function(s,a,l){const u=a.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Ed(u,d):Ft(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pu(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return C3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new yr(Et.comparator);function mc(){return tj}const Q3=new yr(Et.comparator);function kf(...n){let e=Q3;for(const t of n)e=e.insert(t.key,t);return e}function X3(n){let e=Q3;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function hh(){return Ff()}function J3(){return Ff()}function Ff(){return new Ih(n=>n.toString(),(n,e)=>n.isEqual(e))}const nj=new yr(Et.comparator),rj=new ei(Et.comparator);function on(...n){let e=rj;for(const t of n)e=e.add(t);return e}const ij=new ei(Qt);function sj(){return ij}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bg(e)?"-0":e}}function Z3(n){return{integerValue:""+n}}function aj(n,e){return RP(e)?Z3(e):nv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this._=void 0}}function oj(n,e,t){return n instanceof ep?function(i,s){const a={fields:{[D3]:{stringValue:L3},[O3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xy(s)&&(s=s0(s)),s&&(a.fields[M3]=s),{mapValue:a}}(t,e):n instanceof tp?t6(n,e):n instanceof np?n6(n,e):function(i,s){const a=e6(i,s),l=vb(a)+vb(i.Re);return P2(a)&&P2(i.Re)?Z3(l):nv(i.serializer,l)}(n,e)}function lj(n,e,t){return n instanceof tp?t6(n,e):n instanceof np?n6(n,e):t}function e6(n,e){return n instanceof kg?function(r){return P2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ep extends l0{}class tp extends l0{constructor(e){super(),this.elements=e}}function t6(n,e){const t=r6(e);for(const r of n.elements)t.some(i=>Nl(i,r))||t.push(r);return{arrayValue:{values:t}}}class np extends l0{constructor(e){super(),this.elements=e}}function n6(n,e){let t=r6(e);for(const r of n.elements)t=t.filter(i=>!Nl(i,r));return{arrayValue:{values:t}}}class kg extends l0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function vb(n){return Cr(n.integerValue||n.doubleValue)}function r6(n){return Jy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,t){this.field=e,this.transform=t}}function uj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof tp&&i instanceof tp||r instanceof np&&i instanceof np?Ad(r.elements,i.elements,Nl):r instanceof kg&&i instanceof kg?Nl(r.Re,i.Re):r instanceof ep&&i instanceof ep}(n.transform,e.transform)}class hj{constructor(e,t){this.version=e,this.transformResults=t}}class Ya{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ya}static exists(e){return new Ya(void 0,e)}static updateTime(e){return new Ya(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ym(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class c0{}function i6(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rv(n.key,Ya.none()):new Np(n.key,n.data,Ya.none());{const t=n.data,r=Ys.empty();let i=new ei(Pi.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ju(n.key,r,new va(i.toArray()),Ya.none())}}function dj(n,e,t){n instanceof Np?function(i,s,a){const l=i.value.clone(),u=bb(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof ju?function(i,s,a){if(!Ym(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=bb(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(s6(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Vf(n,e,t,r){return n instanceof Np?function(s,a,l,u){if(!Ym(s.precondition,a))return l;const d=s.value.clone(),p=wb(s.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof ju?function(s,a,l,u){if(!Ym(s.precondition,a))return l;const d=wb(s.fieldTransforms,u,a),p=a.data;return p.setAll(s6(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(s,a,l){return Ym(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(n,e,t)}function fj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=e6(r.transform,i||null);s!=null&&(t===null&&(t=Ys.empty()),t.set(r.field,s))}return t||null}function xb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ad(r,i,(s,a)=>uj(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Np extends c0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ju extends c0{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function s6(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bb(n,e,t){const r=new Map;Rn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,lj(a,l,t[i]))}return r}function wb(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,oj(s,a,e))}return r}class rv extends c0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pj extends c0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dj(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=J3();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=t.has(i.key)?null:l;const u=i6(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),on())}isEqual(e){return this.batchId===e.batchId&&Ad(this.mutations,e.mutations,(t,r)=>xb(t,r))&&Ad(this.baseMutations,e.baseMutations,(t,r)=>xb(t,r))}}class iv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Rn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return nj}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new iv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br,hn;function vj(n){switch(n){case qe.OK:return Ft(64938);case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0;default:return Ft(15467,{code:n})}}function a6(n){if(n===void 0)return pc("GRPC error has no .code"),qe.UNKNOWN;switch(n){case Br.OK:return qe.OK;case Br.CANCELLED:return qe.CANCELLED;case Br.UNKNOWN:return qe.UNKNOWN;case Br.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case Br.INTERNAL:return qe.INTERNAL;case Br.UNAVAILABLE:return qe.UNAVAILABLE;case Br.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case Br.NOT_FOUND:return qe.NOT_FOUND;case Br.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case Br.ABORTED:return qe.ABORTED;case Br.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case Br.DATA_LOSS:return qe.DATA_LOSS;default:return Ft(39323,{code:n})}}(hn=Br||(Br={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=new gu([4294967295,4294967295],0);function _b(n){const e=I3().encode(n),t=new w3;return t.update(e),new Uint8Array(t.digest())}function Nb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gu([t,r],0),new gu([i,s],0)]}class sv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Af(`Invalid padding: ${t}`);if(r<0)throw new Af(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Af(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Af(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=gu.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(gu.fromNumber(r)));return i.compare(xj)===1&&(i=new gu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=_b(e),[r,i]=Nb(t);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new sv(s,i,t);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const t=_b(e),[r,i]=Nb(t);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Sp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new u0(Wt.min(),i,new yr(Qt),mc(),on())}}class Sp{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sp(r,t,on(),on(),on())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class o6{constructor(e,t){this.targetId=e,this.Ce=t}}class l6{constructor(e,t,r=Ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Sb{constructor(){this.Fe=0,this.Me=kb(),this.xe=Ri.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=on(),t=on(),r=on();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ft(38017,{changeType:s})}}),new Sp(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=kb()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Rn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bj{constructor(e){this.ze=e,this.je=new Map,this.He=mc(),this.Je=ym(),this.Ye=ym(),this.Ze=new yr(Qt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ft(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(C2(s))if(r===0){const a=new Et(s.path);this.tt(t,a,ns.newNoDocument(a,Wt.min()))}else Rn(r===1,20013,{expectedCount:r});else{const a=this.ut(t);if(a!==r){const l=this.ct(e),u=l?this.lt(l,e,a):1;if(u!==0){this.st(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,l;try{a=_u(r).toUint8Array()}catch(u){if(u instanceof R3)return kd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new sv(a,i,s)}catch(u){return kd(u instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&C2(l.target)){const u=new Et(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,ns.newNoDocument(u,e))}s.Le&&(t.set(a,s.qe()),s.Qe())}});let r=on();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const d=this._t(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new u0(e,t,this.Ze,this.He,r);return this.He=mc(),this.Je=ym(),this.Ye=ym(),this.Ze=new yr(Qt),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Sb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ei(Qt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ei(Qt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||dt("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Sb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ym(){return new yr(Et.comparator)}function kb(){return new yr(Et.comparator)}const wj={asc:"ASCENDING",desc:"DESCENDING"},_j={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nj={and:"AND",or:"OR"};class Sj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function L2(n,e){return n.useProto3Json||i0(e)?e:{value:e}}function Ag(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kj(n,e){return Ag(n,e.toTimestamp())}function bl(n){return Rn(!!n,49232),Wt.fromTimestamp(function(t){const r=wu(t);return new Ar(r.seconds,r.nanos)}(n))}function av(n,e){return D2(n,e).canonicalString()}function D2(n,e){const t=function(i){return new nr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function u6(n){const e=nr.fromString(n);return Rn(m6(e),10190,{key:e.toString()}),e}function M2(n,e){return av(n.databaseId,e.path)}function D1(n,e){const t=u6(e);if(t.get(1)!==n.databaseId.projectId)throw new ht(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ht(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Et(d6(t))}function h6(n,e){return av(n.databaseId,e)}function Aj(n){const e=u6(n);return e.length===4?nr.emptyPath():d6(e)}function O2(n){return new nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d6(n){return Rn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ab(n,e,t){return{name:M2(n,e),fields:t.value.mapValue.fields}}function Ej(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ft(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Rn(p===void 0||typeof p=="string",58123),Ri.fromBase64String(p||"")):(Rn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Ri.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const p=d.code===void 0?qe.UNKNOWN:a6(d.code);return new ht(p,d.message||"")}(a);t=new l6(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=D1(n,r.document.name),s=bl(r.document.updateTime),a=r.document.createTime?bl(r.document.createTime):Wt.min(),l=new Ys({mapValue:{fields:r.document.fields}}),u=ns.newFoundDocument(i,s,a,l),d=r.targetIds||[],p=r.removedTargetIds||[];t=new Qm(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=D1(n,r.document),s=r.readTime?bl(r.readTime):Wt.min(),a=ns.newNoDocument(i,s),l=r.removedTargetIds||[];t=new Qm([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=D1(n,r.document),s=r.removedTargetIds||[];t=new Qm([],s,i,null)}else{if(!("filter"in e))return Ft(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new yj(i,s),l=r.targetId;t=new o6(l,a)}}return t}function Tj(n,e){let t;if(e instanceof Np)t={update:Ab(n,e.key,e.value)};else if(e instanceof rv)t={delete:M2(n,e.key)};else if(e instanceof ju)t={update:Ab(n,e.key,e.data),updateMask:Oj(e.fieldMask)};else{if(!(e instanceof pj))return Ft(16599,{ft:e.type});t={verify:M2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof ep)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof tp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof np)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kg)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Ft(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ft(27497)}(n,e.precondition)),t}function Ij(n,e){return n&&n.length>0?(Rn(e!==void 0,14353),n.map(t=>function(i,s){let a=i.updateTime?bl(i.updateTime):bl(s);return a.isEqual(Wt.min())&&(a=bl(s)),new hj(a,i.transformResults||[])}(t,e))):[]}function Pj(n,e){return{documents:[h6(n,e.path)]}}function jj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=h6(n,i);const s=function(d){if(d.length!==0)return p6(Oo.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(b){return{field:ld(b.field),direction:Lj(b.dir)}}(p))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=L2(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function Cj(n){let e=Aj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Rn(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(y){const b=f6(y);return b instanceof Oo&&q3(b)?b.getFilters():[b]}(t.where));let a=[];t.orderBy&&(a=function(y){return y.map(b=>function(S){return new Zf(cd(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(b))}(t.orderBy));let l=null;t.limit&&(l=function(y){let b;return b=typeof y=="object"?y.value:y,i0(b)?null:b}(t.limit));let u=null;t.startAt&&(u=function(y){const b=!!y.before,v=y.values||[];return new Ng(v,b)}(t.startAt));let d=null;return t.endAt&&(d=function(y){const b=!y.before,v=y.values||[];return new Ng(v,b)}(t.endAt)),XP(e,i,a,s,l,"F",u,d)}function Rj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function f6(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=cd(t.unaryFilter.field);return zr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cd(t.unaryFilter.field);return zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cd(t.unaryFilter.field);return zr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cd(t.unaryFilter.field);return zr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}}(n):n.fieldFilter!==void 0?function(t){return zr.create(cd(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Oo.create(t.compositeFilter.filters.map(r=>f6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}}(t.compositeFilter.op))}(n):Ft(30097,{filter:n})}function Lj(n){return wj[n]}function Dj(n){return _j[n]}function Mj(n){return Nj[n]}function ld(n){return{fieldPath:n.canonicalString()}}function cd(n){return Pi.fromServerFormat(n.fieldPath)}function p6(n){return n instanceof zr?function(t){if(t.op==="=="){if(fb(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NAN"}};if(db(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fb(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NOT_NAN"}};if(db(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ld(t.field),op:Dj(t.op),value:t.value}}}(n):n instanceof Oo?function(t){const r=t.getFilters().map(i=>p6(i));return r.length===1?r[0]:{compositeFilter:{op:Mj(t.op),filters:r}}}(n):Ft(54877,{filter:n})}function Oj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function m6(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t,r,i,s=Wt.min(),a=Wt.min(),l=Ri.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.wt=e}}function Vj(n){const e=Cj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.yn=new zj}addToCollectionParentIndex(e,t){return this.yn.add(t),He.resolve()}getCollectionParents(e,t){return He.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return He.resolve()}deleteFieldIndex(e,t){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,t){return He.resolve()}getDocumentsMatchingTarget(e,t){return He.resolve(null)}getIndexType(e,t){return He.resolve(0)}getFieldIndexes(e,t){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,t){return He.resolve(bu.min())}getMinOffsetFromCollectionGroup(e,t){return He.resolve(bu.min())}updateCollectionGroup(e,t,r){return He.resolve()}updateIndexEntries(e,t){return He.resolve()}}class zj{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ei(nr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ei(nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g6=41943040;class Ks{static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(g6,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Id(0)}static ir(){return new Id(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LruGarbageCollector",Uj=1048576;function Ib([n,e],[t,r]){const i=Qt(n,t);return i===0?Qt(e,r):i}class qj{constructor(e){this.cr=e,this.buffer=new ei(Ib),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ib(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){dt(Tb,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zd(t)?dt(Tb,"Ignoring IndexedDB error during garbage collection: ",t):await Bd(t)}await this.Ir(3e5)})}}class Wj{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return He.resolve(r0.le);const r=new qj(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(Eb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eb):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,s,a,l,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,l=Date.now(),this.removeTargets(e,r,t))).next(y=>(s=y,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),ad()<=sn.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${y} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}function $j(n,e){return new Wj(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.changes=new Ih(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ns.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?He.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Vf(r.mutation,i,va.empty(),Ar.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,on()).next(()=>r))}getLocalViewOfDocuments(e,t,r=on()){const i=hh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=kf();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=hh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,on()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{t.set(a,l)})})}computeViews(e,t,r,i){let s=mc();const a=Ff(),l=function(){return Ff()}();return t.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof ju)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),Vf(p.mutation,d,p.mutation.getFieldMask(),Ar.now())):a.set(d.key,va.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>a.set(d,p)),t.forEach((d,p)=>{var y;return l.set(d,new Kj(p,(y=a.get(d))!==null&&y!==void 0?y:null))}),l))}recalculateAndSaveOverlays(e,t){const r=Ff();let i=new yr((a,l)=>a-l),s=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const l of a)l.keys().forEach(u=>{const d=t.get(u);if(d===null)return;let p=r.get(u)||va.empty();p=l.applyToLocalView(d,p),r.set(u,p);const y=(i.get(l.batchId)||on()).add(u);i=i.insert(l.batchId,y)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,y=J3();p.forEach(b=>{if(!s.has(b)){const v=i6(t.get(b),r.get(b));v!==null&&y.set(b,v),s=s.add(b)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,y))}return He.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):G3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):He.resolve(hh());let l=Yf,u=s;return a.next(d=>He.forEach(d,(p,y)=>(l<y.largestBatchId&&(l=y.largestBatchId),s.get(p)?He.resolve():this.remoteDocumentCache.getEntry(e,p).next(b=>{u=u.insert(p,b)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,on())).next(p=>({batchId:l,changes:X3(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Et(t)).next(r=>{let i=kf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=kf();return this.indexManager.getCollectionParents(e,s).next(l=>He.forEach(l,u=>{const d=function(y,b){return new Ud(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((y,b)=>{a=a.insert(y,b)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,ns.newInvalidDocument(p)))});let l=kf();return a.forEach((u,d)=>{const p=s.get(u);p!==void 0&&Vf(p.mutation,d,va.empty(),Ar.now()),o0(t,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return He.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:bl(i.createTime)}}(t)),He.resolve()}getNamedQuery(e,t){return He.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:Vj(i.bundledQuery),readTime:bl(i.readTime)}}(t)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.overlays=new yr(Et.comparator),this.Or=new Map}getOverlay(e,t){return He.resolve(this.overlays.get(t))}getOverlays(e,t){const r=hh();return He.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),He.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),He.resolve()}getOverlaysForCollection(e,t,r){const i=hh(),s=t.length+1,a=new Et(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return He.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new yr((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=hh(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=hh(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return He.resolve(l)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new gj(t,r));let s=this.Or.get(t);s===void 0&&(s=on(),this.Or.set(t,s)),this.Or.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.sessionToken=Ri.EMPTY_BYTE_STRING}getSessionToken(e){return He.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.Nr=new ei(pi.Br),this.Lr=new ei(pi.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new pi(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new pi(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Et(new nr([])),r=new pi(t,e),i=new pi(t,e+1),s=[];return this.Lr.forEachInRange([r,i],a=>{this.Qr(a),s.push(a.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Et(new nr([])),r=new pi(t,e),i=new pi(t,e+1);let s=on();return this.Lr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new pi(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class pi{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Et.comparator(e.key,t.key)||Qt(e.Gr,t.Gr)}static kr(e,t){return Qt(e.Gr,t.Gr)||Et.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new ei(pi.Br)}checkEmpty(e){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new mj(s,t,r,i);this.mutationQueue.push(a);for(const l of i)this.zr=this.zr.add(new pi(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return He.resolve(a)}lookupMutationBatch(e,t){return He.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),s=i<0?0:i;return He.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?Qy:this.Jn-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pi(t,0),i=new pi(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],a=>{const l=this.jr(a.Gr);s.push(l)}),He.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ei(Qt);return t.forEach(i=>{const s=new pi(i,0),a=new pi(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,a],l=>{r=r.add(l.Gr)})}),He.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Et.isDocumentKey(s)||(s=s.child(""));const a=new pi(new Et(s),0);let l=new ei(Qt);return this.zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Gr)),!0)},a),He.resolve(this.Jr(l))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Rn(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return He.forEach(t.mutations,i=>{const s=new pi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new pi(t,0),i=this.zr.firstAfterOrEqual(r);return He.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,He.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.Zr=e,this.docs=function(){return new yr(Et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return He.resolve(r?r.document.mutableCopy():ns.newInvalidDocument(t))}getEntries(e,t){let r=mc();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ns.newInvalidDocument(i))}),He.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=mc();const a=t.path,l=new Et(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||IP(TP(p),r)<=0||(i.has(p.key)||o0(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return He.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ft(9500)}Xr(e,t){return He.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tC(this)}getSize(e){return He.resolve(this.size)}}class tC extends Gj{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),He.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.persistence=e,this.ei=new Ih(t=>Zy(t),ev),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.ti=0,this.ni=new ov,this.targetCount=0,this.ri=Id.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),He.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Id(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,He.resolve()}updateTargetData(e,t){return this.ar(t),He.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.ei.forEach((a,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.ei.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),He.waitFor(s).next(()=>i)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return He.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),He.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),He.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),He.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return He.resolve(r)}containsKey(e,t){return He.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,t){this.ii={},this.overlays={},this.si=new r0(0),this.oi=!1,this.oi=!0,this._i=new Jj,this.referenceDelegate=e(this),this.ai=new nC(this),this.indexManager=new Bj,this.remoteDocumentCache=function(i){return new eC(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Fj(t),this.ci=new Qj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new Zj(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){dt("MemoryPersistence","Starting transaction:",e);const i=new rC(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,t){return He.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class rC extends jP{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.Ti=new ov,this.Ii=null}static Ei(e){return new lv(e)}get di(){if(this.Ii)return this.Ii;throw Ft(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),He.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),He.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),He.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.di,r=>{const i=Et.fromPath(r);return this.Ai(e,i).next(s=>{s||t.removeEntry(i,Wt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return He.or([()=>He.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Eg{constructor(e,t){this.persistence=e,this.Ri=new Ih(r=>LP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$j(this,t)}static Ei(e,t){return new Eg(e,t)}li(){}hi(e){return He.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return He.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?He.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,a=>this.gr(e,a,t).next(l=>{l||(r++,s.removeEntry(a,Wt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),He.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),He.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),He.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),He.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gm(e.data.value)),t}gr(e,t,r){return He.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return He.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=on(),i=on();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return RA()?8:CP(as())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Rs(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Vs(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new iC;return this.fs(e,t,a).next(l=>{if(s.result=l,this.Is)return this.gs(e,t,a,l.size)})}).next(()=>s.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(ad()<=sn.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",od(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),He.resolve()):(ad()<=sn.DEBUG&&dt("QueryEngine","Query:",od(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ad()<=sn.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",od(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xl(t))):He.resolve())}Rs(e,t){if(yb(t))return He.resolve(null);let r=xl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Sg(t,null,"F"),r=xl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=on(...s);return this.As.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ps(t,l);return this.ys(t,d,a,u.readTime)?this.Rs(e,Sg(t,null,"F")):this.ws(e,d,t,u)}))})))}Vs(e,t,r,i){return yb(t)||i.isEqual(Wt.min())?He.resolve(null):this.As.getDocuments(e,r).next(s=>{const a=this.ps(t,s);return this.ys(t,a,r,i)?He.resolve(null):(ad()<=sn.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),od(t)),this.ws(e,a,t,EP(i,Yf)).next(l=>l))})}ps(e,t){let r=new ei(Y3(e));return t.forEach((i,s)=>{o0(e,s)&&(r=r.add(s))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,t,r){return ad()<=sn.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",od(t)),this.As.getDocumentsMatchingQuery(e,t,bu.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LocalStore",aC=3e8;class oC{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new yr(Qt),this.Ds=new Ih(s=>Zy(s),ev),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yj(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function lC(n,e,t,r){return new oC(n,e,t,r)}async function v6(n,e){const t=Gt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let u=on();for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({Ms:d,removedBatchIds:a,addedBatchIds:l}))})})}function cC(n,e){const t=Gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(l,u,d,p){const y=d.batch,b=y.keys();let v=He.resolve();return b.forEach(S=>{v=v.next(()=>p.getEntry(u,S)).next(A=>{const T=d.docVersions.get(S);Rn(T!==null,48541),A.version.compareTo(T)<0&&(y.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),p.addEntry(A)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=on();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function x6(n){const e=Gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function uC(n,e){const t=Gt(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const l=[];e.targetChanges.forEach((p,y)=>{const b=i.get(y);if(!b)return;l.push(t.ai.removeMatchingKeys(s,p.removedDocuments,y).next(()=>t.ai.addMatchingKeys(s,p.addedDocuments,y)));let v=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?v=v.withResumeToken(Ri.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(y,v),function(A,T,E){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=aC?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(b,v,p)&&l.push(t.ai.updateTargetData(s,v))});let u=mc(),d=on();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(hC(s,a,e.documentUpdates).next(p=>{u=p.xs,d=p.Os})),!r.isEqual(Wt.min())){const p=t.ai.getLastRemoteSnapshotVersion(s).next(y=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return He.waitFor(l).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.Ss=i,s))}function hC(n,e,t){let r=on(),i=on();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=mc();return t.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Wt.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):dt(uv,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{xs:a,Os:i}})}function dC(n,e){const t=Gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fC(n,e){const t=Gt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(s=>s?(i=s,He.resolve(i)):t.ai.allocateTargetId(r).next(a=>(i=new cu(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function F2(n,e,t){const r=Gt(n),i=r.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!zd(a))throw a;dt(uv,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function Pb(n,e,t){const r=Gt(n);let i=Wt.min(),s=on();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,p){const y=Gt(u),b=y.Ds.get(p);return b!==void 0?He.resolve(y.Ss.get(b)):y.ai.getTargetData(d,p)}(r,a,xl(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>r.bs.getDocumentsMatchingQuery(a,e,t?i:Wt.min(),t?s:on())).next(l=>(pC(r,ZP(e),l),{documents:l,Ns:s})))}function pC(n,e,t){let r=n.vs.get(e)||Wt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.vs.set(e,r)}class jb{constructor(){this.activeTargetIds=sj()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mC{constructor(){this.So=new jb,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new jb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="ConnectivityMonitor";class Rb{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){dt(Cb,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){dt(Cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm=null;function V2(){return vm===null?vm=function(){return 268435456+Math.round(2147483648*Math.random())}():vm++,"0x"+vm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="RestConnection",yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===wg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,s){const a=V2(),l=this.$o(e,t.toUriEncodedString());dt(M1,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,i,s),this.Ko(e,l,u,r).then(d=>(dt(M1,`Received RPC '${e}' ${a}: `,d),d),d=>{throw kd(M1,`RPC '${e}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Wo(e,t,r,i,s,a){return this.Qo(e,t,r,i,s)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,t){const r=yC[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="WebChannelConnection";class bC extends vC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){const s=V2();return new Promise((a,l)=>{const u=new _3;u.setWithCredentials(!0),u.listenOnce(N3.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $m.NO_ERROR:const p=u.getResponseJson();dt(Ki,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case $m.TIMEOUT:dt(Ki,`RPC '${e}' ${s} timed out`),l(new ht(qe.DEADLINE_EXCEEDED,"Request time out"));break;case $m.HTTP_ERROR:const y=u.getStatus();if(dt(Ki,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let b=u.getResponseJson();Array.isArray(b)&&(b=b[0]);const v=b==null?void 0:b.error;if(v&&v.status&&v.message){const S=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(E)>=0?E:qe.UNKNOWN}(v.status);l(new ht(S,v.message))}else l(new ht(qe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ht(qe.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{s_:e,streamId:s,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{dt(Ki,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);dt(Ki,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}a_(e,t,r){const i=V2(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=A3(),l=k3(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const p=s.join("");dt(Ki,`Creating RPC '${e}' stream ${i}: ${p}`,u);const y=a.createWebChannel(p,u);let b=!1,v=!1;const S=new xC({Go:T=>{v?dt(Ki,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(b||(dt(Ki,`Opening RPC '${e}' stream ${i} transport.`),y.open(),b=!0),dt(Ki,`RPC '${e}' stream ${i} sending:`,T),y.send(T))},zo:()=>y.close()}),A=(T,E,M)=>{T.listen(E,q=>{try{M(q)}catch(re){setTimeout(()=>{throw re},0)}})};return A(y,Sf.EventType.OPEN,()=>{v||(dt(Ki,`RPC '${e}' stream ${i} transport opened.`),S.t_())}),A(y,Sf.EventType.CLOSE,()=>{v||(v=!0,dt(Ki,`RPC '${e}' stream ${i} transport closed`),S.r_())}),A(y,Sf.EventType.ERROR,T=>{v||(v=!0,kd(Ki,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),S.r_(new ht(qe.UNAVAILABLE,"The operation could not be completed")))}),A(y,Sf.EventType.MESSAGE,T=>{var E;if(!v){const M=T.data[0];Rn(!!M,16349);const q=M,re=(q==null?void 0:q.error)||((E=q[0])===null||E===void 0?void 0:E.error);if(re){dt(Ki,`RPC '${e}' stream ${i} received error:`,re);const J=re.status;let te=function(B){const z=Br[B];if(z!==void 0)return a6(z)}(J),L=re.message;te===void 0&&(te=qe.INTERNAL,L="Unknown error status: "+J+" with message "+re.message),v=!0,S.r_(new ht(te,L)),y.close()}else dt(Ki,`RPC '${e}' stream ${i} received:`,M),S.i_(M)}}),A(l,S3.STAT_EVENT,T=>{T.stat===E2.PROXY?dt(Ki,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===E2.NOPROXY&&dt(Ki,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function O1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n){return new Sj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,t,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="PersistentStream";class w6{constructor(e,t,r,i,s,a,l,u){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new b6(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(pc(t.toString()),pc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new ht(qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return dt(Lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(dt(Lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wC extends w6{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=Ej(this.serializer,e),r=function(s){if(!("targetChange"in s))return Wt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Wt.min():a.readTime?bl(a.readTime):Wt.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=O2(this.serializer),t.addTarget=function(s,a){let l;const u=a.target;if(l=C2(u)?{documents:Pj(s,u)}:{query:jj(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=c6(s,a.resumeToken);const d=L2(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Wt.min())>0){l.readTime=Ag(s,a.snapshotVersion.toTimestamp());const d=L2(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=Rj(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=O2(this.serializer),t.removeTarget=e,this.F_(t)}}class _C extends w6{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Rn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rn(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Rn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=Ij(e.writeResults,e.commitTime),r=bl(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=O2(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Tj(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{}class SC extends NC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ht(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Qo(e,D2(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ht(qe.UNKNOWN,s.toString())})}Wo(e,t,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,D2(t,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ht(qe.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class kC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(pc(t),this.ea=!1):dt("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="RemoteStore";class AC{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(a=>{r.enqueueAndForget(async()=>{Ph(this)&&(dt(Sh,"Restarting streams for network reachability change."),await async function(u){const d=Gt(u);d.aa.add(4),await kp(d),d.la.set("Unknown"),d.aa.delete(4),await d0(d)}(this))})}),this.la=new kC(r,i)}}async function d0(n){if(Ph(n))for(const e of n.ua)await e(!0)}async function kp(n){for(const e of n.ua)await e(!1)}function _6(n,e){const t=Gt(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),pv(t)?fv(t):qd(t).b_()&&dv(t,e))}function hv(n,e){const t=Gt(n),r=qd(t);t._a.delete(e),r.b_()&&N6(t,e),t._a.size===0&&(r.b_()?r.v_():Ph(t)&&t.la.set("Unknown"))}function dv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qd(n).U_(e)}function N6(n,e){n.ha.Ke(e),qd(n).K_(e)}function fv(n){n.ha=new bj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),qd(n).start(),n.la.ta()}function pv(n){return Ph(n)&&!qd(n).w_()&&n._a.size>0}function Ph(n){return Gt(n).aa.size===0}function S6(n){n.ha=void 0}async function EC(n){n.la.set("Online")}async function TC(n){n._a.forEach((e,t)=>{dv(n,e)})}async function IC(n,e){S6(n),pv(n)?(n.la.ia(e),fv(n)):n.la.set("Unknown")}async function PC(n,e,t){if(n.la.set("Online"),e instanceof l6&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i._a.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i._a.delete(l),i.ha.removeTarget(l))}(n,e)}catch(r){dt(Sh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tg(n,r)}else if(e instanceof Qm?n.ha.Xe(e):e instanceof o6?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Wt.min()))try{const r=await x6(n.localStore);t.compareTo(r)>=0&&await function(s,a){const l=s.ha.It(a);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s._a.get(d);p&&s._a.set(d,p.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,d)=>{const p=s._a.get(u);if(!p)return;s._a.set(u,p.withResumeToken(Ri.EMPTY_BYTE_STRING,p.snapshotVersion)),N6(s,u);const y=new cu(p.target,u,d,p.sequenceNumber);dv(s,y)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){dt(Sh,"Failed to raise snapshot:",r),await Tg(n,r)}}async function Tg(n,e,t){if(!zd(e))throw e;n.aa.add(1),await kp(n),n.la.set("Offline"),t||(t=()=>x6(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(Sh,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await d0(n)})}function k6(n,e){return e().catch(t=>Tg(n,t,e))}async function f0(n){const e=Gt(n),t=Su(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Qy;for(;jC(e);)try{const i=await dC(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,CC(e,i)}catch(i){await Tg(e,i)}A6(e)&&E6(e)}function jC(n){return Ph(n)&&n.oa.length<10}function CC(n,e){n.oa.push(e);const t=Su(n);t.b_()&&t.W_&&t.G_(e.mutations)}function A6(n){return Ph(n)&&!Su(n).w_()&&n.oa.length>0}function E6(n){Su(n).start()}async function RC(n){Su(n).H_()}async function LC(n){const e=Su(n);for(const t of n.oa)e.G_(t.mutations)}async function DC(n,e,t){const r=n.oa.shift(),i=iv.from(r,e,t);await k6(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await f0(n)}async function MC(n,e){e&&Su(n).W_&&await async function(r,i){if(function(a){return vj(a)&&a!==qe.ABORTED}(i.code)){const s=r.oa.shift();Su(r).D_(),await k6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await f0(r)}}(n,e),A6(n)&&E6(n)}async function Db(n,e){const t=Gt(n);t.asyncQueue.verifyOperationInProgress(),dt(Sh,"RemoteStore received new credentials");const r=Ph(t);t.aa.add(3),await kp(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await d0(t)}async function OC(n,e){const t=Gt(n);e?(t.aa.delete(2),await d0(t)):e||(t.aa.add(2),await kp(t),t.la.set("Unknown"))}function qd(n){return n.Pa||(n.Pa=function(t,r,i){const s=Gt(t);return s.Y_(),new wC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:EC.bind(null,n),Jo:TC.bind(null,n),Zo:IC.bind(null,n),Q_:PC.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),pv(n)?fv(n):n.la.set("Unknown")):(await n.Pa.stop(),S6(n))})),n.Pa}function Su(n){return n.Ta||(n.Ta=function(t,r,i){const s=Gt(t);return s.Y_(),new _C(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:RC.bind(null,n),Zo:MC.bind(null,n),z_:LC.bind(null,n),j_:DC.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await f0(n)):(await n.Ta.stop(),n.oa.length>0&&(dt(Sh,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,l=new mv(e,t,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(n,e){if(pc("AsyncQueue",`${e}: ${n}`),zd(n))return new ht(qe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static emptySet(e){return new yd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Et.comparator(t.key,r.key):(t,r)=>Et.comparator(t.key,r.key),this.keyedMap=kf(),this.sortedSet=new yr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.Ia=new yr(Et.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ft(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pd{constructor(e,t,r,i,s,a,l,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(l=>{a.push({type:0,doc:l})}),new Pd(e,t,yd.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&a0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class VC{constructor(){this.queries=Ob(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=Gt(t),s=i.queries;i.queries=Ob(),s.forEach((a,l)=>{for(const u of l.Ra)u.onError(r)})})(this,new ht(qe.ABORTED,"Firestore shutting down"))}}function Ob(){return new Ih(n=>K3(n),a0)}async function T6(n,e){const t=Gt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new FC,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await t.onListen(i,!0);break;case 1:s.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const l=gv(a,`Initialization of query '${od(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&yv(t)}async function I6(n,e){const t=Gt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.Ra.indexOf(e);a>=0&&(s.Ra.splice(a,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function BC(n,e){const t=Gt(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const l of a.Ra)l.pa(i)&&(r=!0);a.Aa=i}}r&&yv(t)}function zC(n,e,t){const r=Gt(n),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(t);r.queries.delete(e)}function yv(n){n.fa.forEach(e=>{e.next()})}var B2,Fb;(Fb=B2||(B2={})).ya="default",Fb.Cache="cache";class P6{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==B2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.key=e}}class C6{constructor(e){this.key=e}}class UC{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=on(),this.mutatedKeys=on(),this.Ua=Y3(e),this.Ka=new yd(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new Mb,i=t?t.Ka:this.Ka;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const b=i.get(p),v=o0(this.query,y)?y:null,S=!!b&&this.mutatedKeys.has(b.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;b&&v?b.data.isEqual(v.data)?S!==A&&(r.track({type:3,doc:v}),T=!0):this.ja(b,v)||(r.track({type:2,doc:v}),T=!0,(u&&this.Ua(v,u)>0||d&&this.Ua(v,d)<0)&&(l=!0)):!b&&v?(r.track({type:0,doc:v}),T=!0):b&&!v&&(r.track({type:1,doc:b}),T=!0,(u||d)&&(l=!0)),T&&(v?(a=a.add(v),s=A?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ka:a,za:r,ys:l,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const a=e.za.da();a.sort((p,y)=>function(v,S){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Vt:T})}};return A(v)-A(S)}(p.type,y.type)||this.Ua(p.doc,y.doc)),this.Ha(r),i=i!=null&&i;const l=t&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,d=u!==this.Qa;return this.Qa=u,a.length!==0||d?{snapshot:new Pd(this.query,e.Ka,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Mb,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=on(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new C6(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new j6(r))}),t}Xa(e){this.qa=e.Ns,this.$a=on();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Pd.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const vv="SyncEngine";class qC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HC{constructor(e){this.key=e,this.tu=!1}}class WC{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new Ih(l=>K3(l),a0),this.iu=new Map,this.su=new Set,this.ou=new yr(Et.comparator),this._u=new Map,this.au=new ov,this.uu={},this.cu=new Map,this.lu=Id.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function $C(n,e,t=!0){const r=F6(n);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await R6(r,e,t,!0),i}async function GC(n,e){const t=F6(n);await R6(t,e,!0,!1)}async function R6(n,e,t,r){const i=await fC(n.localStore,xl(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let l;return r&&(l=await KC(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&_6(n.remoteStore,i),l}async function KC(n,e,t,r,i){n.Pu=(y,b,v)=>async function(A,T,E,M){let q=T.view.Ga(E);q.ys&&(q=await Pb(A.localStore,T.query,!1).then(({documents:L})=>T.view.Ga(L,q)));const re=M&&M.targetChanges.get(T.targetId),J=M&&M.targetMismatches.get(T.targetId)!=null,te=T.view.applyChanges(q,A.isPrimaryClient,re,J);return Bb(A,T.targetId,te.Ya),te.snapshot}(n,y,b,v);const s=await Pb(n.localStore,e,!0),a=new UC(e,s.Ns),l=a.Ga(s.documents),u=Sp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=a.applyChanges(l,n.isPrimaryClient,u);Bb(n,t,d.Ya);const p=new qC(e,t,a);return n.ru.set(e,p),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),d.snapshot}async function YC(n,e,t){const r=Gt(n),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(a=>!a0(a,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await F2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&hv(r.remoteStore,i.targetId),z2(r,i.targetId)}).catch(Bd)):(z2(r,i.targetId),await F2(r.localStore,i.targetId,!0))}async function QC(n,e){const t=Gt(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hv(t.remoteStore,r.targetId))}async function XC(n,e,t){const r=i7(n);try{const i=await function(a,l){const u=Gt(a),d=Ar.now(),p=l.reduce((v,S)=>v.add(S.key),on());let y,b;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=mc(),A=on();return u.Cs.getEntries(v,p).next(T=>{S=T,S.forEach((E,M)=>{M.isValidDocument()||(A=A.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(T=>{y=T;const E=[];for(const M of l){const q=fj(M,y.get(M.key).overlayedDocument);q!=null&&E.push(new ju(M.key,q,B3(q.value.mapValue),Ya.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,E,l)}).next(T=>{b=T;const E=T.applyToLocalDocumentSet(y,A);return u.documentOverlayCache.saveOverlays(v,T.batchId,E)})}).then(()=>({batchId:b.batchId,changes:X3(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let d=a.uu[a.currentUser.toKey()];d||(d=new yr(Qt)),d=d.insert(l,u),a.uu[a.currentUser.toKey()]=d}(r,i.batchId,t),await Ap(r,i.changes),await f0(r.remoteStore)}catch(i){const s=gv(i,"Failed to persist write");t.reject(s)}}async function L6(n,e){const t=Gt(n);try{const r=await uC(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t._u.get(s);a&&(Rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.tu=!0:i.modifiedDocuments.size>0?Rn(a.tu,14607):i.removedDocuments.size>0&&(Rn(a.tu,42227),a.tu=!1))}),await Ap(t,r,e)}catch(r){await Bd(r)}}function Vb(n,e,t){const r=Gt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((s,a)=>{const l=a.view.ga(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=Gt(a);u.onlineState=l;let d=!1;u.queries.forEach((p,y)=>{for(const b of y.Ra)b.ga(l)&&(d=!0)}),d&&yv(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JC(n,e,t){const r=Gt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),s=i&&i.key;if(s){let a=new yr(Et.comparator);a=a.insert(s,ns.newNoDocument(s,Wt.min()));const l=on().add(s),u=new u0(Wt.min(),new Map,new yr(Qt),a,l);await L6(r,u),r.ou=r.ou.remove(s),r._u.delete(e),xv(r)}else await F2(r.localStore,e,!1).then(()=>z2(r,e,t)).catch(Bd)}async function ZC(n,e){const t=Gt(n),r=e.batch.batchId;try{const i=await cC(t.localStore,e);M6(t,r,null),D6(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ap(t,i)}catch(i){await Bd(i)}}async function e7(n,e,t){const r=Gt(n);try{const i=await function(a,l){const u=Gt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next(y=>(Rn(y!==null,37113),p=y.keys(),u.mutationQueue.removeMutationBatch(d,y))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);M6(r,e,t),D6(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ap(r,i)}catch(i){await Bd(i)}}function D6(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function M6(n,e,t){const r=Gt(n);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function z2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||O6(n,r)})}function O6(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(hv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),xv(n))}function Bb(n,e,t){for(const r of t)r instanceof j6?(n.au.addReference(r.key,e),t7(n,r)):r instanceof C6?(dt(vv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||O6(n,r.key)):Ft(19791,{Iu:r})}function t7(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(dt(vv,"New document in limbo: "+t),n.su.add(r),xv(n))}function xv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Et(nr.fromString(e)),r=n.lu.next();n._u.set(r,new HC(t)),n.ou=n.ou.insert(t,r),_6(n.remoteStore,new cu(xl(tv(t.path)),r,"TargetPurposeLimboResolution",r0.le))}}async function Ap(n,e,t){const r=Gt(n),i=[],s=[],a=[];r.ru.isEmpty()||(r.ru.forEach((l,u)=>{a.push(r.Pu(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){const y=d?!d.fromCache:(p=t==null?void 0:t.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,y?"current":"not-current")}if(d){i.push(d);const y=cv.Ps(u.targetId,d);s.push(y)}}))}),await Promise.all(a),r.nu.Q_(i),await async function(u,d){const p=Gt(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>He.forEach(d,b=>He.forEach(b.ls,v=>p.persistence.referenceDelegate.addReference(y,b.targetId,v)).next(()=>He.forEach(b.hs,v=>p.persistence.referenceDelegate.removeReference(y,b.targetId,v)))))}catch(y){if(!zd(y))throw y;dt(uv,"Failed to update sequence numbers: "+y)}for(const y of d){const b=y.targetId;if(!y.fromCache){const v=p.Ss.get(b),S=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(S);p.Ss=p.Ss.insert(b,A)}}}(r.localStore,s))}async function n7(n,e){const t=Gt(n);if(!t.currentUser.isEqual(e)){dt(vv,"User change. New user:",e.toKey());const r=await v6(t.localStore,e);t.currentUser=e,function(s,a){s.cu.forEach(l=>{l.forEach(u=>{u.reject(new ht(qe.CANCELLED,a))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ap(t,r.Ms)}}function r7(n,e){const t=Gt(n),r=t._u.get(e);if(r&&r.tu)return on().add(r.key);{let i=on();const s=t.iu.get(e);if(!s)return i;for(const a of s){const l=t.ru.get(a);i=i.unionWith(l.view.Wa)}return i}}function F6(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=L6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JC.bind(null,e),e.nu.Q_=BC.bind(null,e.eventManager),e.nu.Tu=zC.bind(null,e.eventManager),e}function i7(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e7.bind(null,e),e}class Ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h0(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return lC(this.persistence,new sC,e.initialUser,this.serializer)}Ru(e){return new y6(lv.Ei,this.serializer)}Au(e){return new mC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ig.provider={build:()=>new Ig};class s7 extends Ig{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Rn(this.persistence.referenceDelegate instanceof Eg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Hj(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new y6(r=>Eg.Ei(r,t),this.serializer)}}class U2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n7.bind(null,this.syncEngine),await OC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VC}()}createDatastore(e){const t=h0(e.databaseInfo.databaseId),r=function(s){return new bC(s)}(e.databaseInfo);return function(s,a,l,u){return new SC(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,l){return new AC(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,t=>Vb(this.syncEngine,t,0),function(){return Rb.C()?new Rb:new gC}())}createSyncEngine(e,t){return function(i,s,a,l,u,d,p){const y=new WC(i,s,a,l,u,d);return p&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Gt(i);dt(Sh,"RemoteStore shutting down."),s.aa.add(5),await kp(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}U2.provider={build:()=>new U2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):pc("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="FirestoreClient";class a7{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ts.UNAUTHENTICATED,this.clientId=P3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{dt(ku,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(dt(ku,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=gv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function F1(n,e){n.asyncQueue.verifyOperationInProgress(),dt(ku,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await v6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function zb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await o7(n);dt(ku,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Db(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Db(e.remoteStore,i)),n._onlineComponents=e}async function o7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(ku,"Using user provided OfflineComponentProvider");try{await F1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===qe.FAILED_PRECONDITION||i.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;kd("Error using user provided cache. Falling back to memory cache: "+t),await F1(n,new Ig)}}else dt(ku,"Using default OfflineComponentProvider"),await F1(n,new s7(void 0));return n._offlineComponents}async function B6(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(ku,"Using user provided OnlineComponentProvider"),await zb(n,n._uninitializedComponentsProvider._online)):(dt(ku,"Using default OnlineComponentProvider"),await zb(n,new U2))),n._onlineComponents}function l7(n){return B6(n).then(e=>e.syncEngine)}async function z6(n){const e=await B6(n),t=e.eventManager;return t.onListen=$C.bind(null,e.syncEngine),t.onUnlisten=YC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QC.bind(null,e.syncEngine),t}function c7(n,e,t={}){const r=new cc;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const p=new V6({next:b=>{p.yu(),a.enqueueAndForget(()=>I6(s,y));const v=b.docs.has(l);!v&&b.fromCache?d.reject(new ht(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&b.fromCache&&u&&u.source==="server"?d.reject(new ht(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new P6(tv(l.path),p,{includeMetadataChanges:!0,Fa:!0});return T6(s,y)}(await z6(n),n.asyncQueue,e,t,r)),r.promise}function u7(n,e,t={}){const r=new cc;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const p=new V6({next:b=>{p.yu(),a.enqueueAndForget(()=>I6(s,y)),b.fromCache&&u.source==="server"?d.reject(new ht(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new P6(l,p,{includeMetadataChanges:!0,Fa:!0});return T6(s,y)}(await z6(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(n,e,t){if(!t)throw new ht(qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function h7(n,e,t,r){if(e===!0&&r===!0)throw new ht(qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qb(n){if(!Et.isDocumentKey(n))throw new ht(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hb(n){if(Et.isDocumentKey(n))throw new ht(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function p0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ft(12329,{type:typeof n})}function Fo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ht(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=p0(n);throw new ht(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function d7(n,e){if(e<=0)throw new ht(qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="firestore.googleapis.com",Wb=!0;class $b{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ht(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H6,this.ssl=Wb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Wb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Uj)throw new ht(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vP;switch(r.type){case"firstParty":return new _P(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ub.get(t);r&&(dt("ComponentProvider","Removing Datastore"),Ub.delete(t),r.terminate())}(this),Promise.resolve()}}function f7(n,e,t,r={}){var i;const s=(n=Fo(n,m0))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s.host!==H6&&s.host!==l&&kd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:r});if(!xh(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=ts.MOCK_USER;else{d=j_(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ht(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ts(y)}n._authCredentials=new xP(new T3(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cu(this.firestore,e,this._query)}}class Ss{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ss(this.firestore,e,this._key)}}class yu extends Cu{constructor(e,t,r){super(e,t,tv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ss(this.firestore,null,new Et(e))}withConverter(e){return new yu(this.firestore,e,this._path)}}function Cn(n,e,...t){if(n=ir(n),q6("collection","path",e),n instanceof m0){const r=nr.fromString(e,...t);return Hb(r),new yu(n,null,r)}{if(!(n instanceof Ss||n instanceof yu))throw new ht(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return Hb(r),new yu(n.firestore,null,r)}}function Er(n,e,...t){if(n=ir(n),arguments.length===1&&(e=P3.newId()),q6("doc","path",e),n instanceof m0){const r=nr.fromString(e,...t);return qb(r),new Ss(n,null,new Et(r))}{if(!(n instanceof Ss||n instanceof yu))throw new ht(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return qb(r),new Ss(n.firestore,n instanceof yu?n.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="AsyncQueue";class Kb{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new b6(this,"async_queue_retry"),this.ju=()=>{const r=O1();r&&dt(Gb,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=O1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=O1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new cc;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!zd(e))throw e;dt(Gb,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,pc("INTERNAL UNHANDLED ERROR: ",Yb(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=mv.createAndSchedule(this,e,t,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&Ft(47125,{ec:Yb(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Yb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class jh extends m0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Kb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kb(e),this._firestoreClient=void 0,await e}}}function p7(n,e){const t=typeof n=="object"?n:Zg(),r=typeof n=="string"?n:wg,i=vp(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Dy("firestore");s&&f7(i,...s)}return i}function bv(n){if(n._terminated)throw new ht(qe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||m7(n),n._firestoreClient}function m7(n){var e,t,r;const i=n._freezeSettings(),s=function(l,u,d,p){return new OP(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,U6(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new a7(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jd(Ri.fromBase64String(e))}catch(t){throw new ht(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jd(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ht(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ht(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ht(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=/^__.*__$/;class y7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new Np(e,this.data,t,this.fieldTransforms)}}class W6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{oc:n})}}class Nv{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Pg(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if($6(this.oc)&&g7.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class v7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||h0(e)}dc(e,t,r,i=!1){return new Nv({oc:e,methodName:t,Ec:r,path:Pi.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v0(n){const e=n._freezeSettings(),t=h0(n._databaseId);return new v7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function G6(n,e,t,r,i,s={}){const a=n.dc(s.merge||s.mergeFields?2:0,e,t,i);kv("Data must be an object, but it was:",a,r);const l=K6(r,a);let u,d;if(s.merge)u=new va(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const b=q2(e,y,t);if(!a.contains(b))throw new ht(qe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Q6(p,b)||p.push(b)}u=new va(p),d=a.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,d=a.fieldTransforms;return new y7(new Ys(l),u,d)}class x0 extends y0{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof x0}}class Sv extends y0{_toFieldTransform(e){return new cj(e.path,new ep)}isEqual(e){return e instanceof Sv}}function x7(n,e,t,r){const i=n.dc(1,e,t);kv("Data must be an object, but it was:",i,r);const s=[],a=Ys.empty();Pu(r,(u,d)=>{const p=Av(e,u,t);d=ir(d);const y=i.hc(p);if(d instanceof x0)s.push(p);else{const b=Ep(d,y);b!=null&&(s.push(p),a.set(p,b))}});const l=new va(s);return new W6(a,l,i.fieldTransforms)}function b7(n,e,t,r,i,s){const a=n.dc(1,e,t),l=[q2(e,r,t)],u=[i];if(s.length%2!=0)throw new ht(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)l.push(q2(e,s[b])),u.push(s[b+1]);const d=[],p=Ys.empty();for(let b=l.length-1;b>=0;--b)if(!Q6(d,l[b])){const v=l[b];let S=u[b];S=ir(S);const A=a.hc(v);if(S instanceof x0)d.push(v);else{const T=Ep(S,A);T!=null&&(d.push(v),p.set(v,T))}}const y=new va(d);return new W6(p,y,a.fieldTransforms)}function w7(n,e,t,r=!1){return Ep(t,n.dc(r?4:3,e))}function Ep(n,e){if(Y6(n=ir(n)))return kv("Unsupported field value:",e,n),K6(n,e);if(n instanceof y0)return function(r,i){if(!$6(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let u=Ep(l,i.Pc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ar.fromDate(r);return{timestampValue:Ag(i.serializer,s)}}if(r instanceof Ar){const s=new Ar(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ag(i.serializer,s)}}if(r instanceof wv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jd)return{bytesValue:c6(i.serializer,r._byteString)};if(r instanceof Ss){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:av(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _v)return function(a,l){return{mapValue:{fields:{[F3]:{stringValue:V3},[_g]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.Tc("VectorValues must only contain numeric values.");return nv(l.serializer,d)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${p0(r)}`)}(n,e)}function K6(n,e){const t={};return C3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pu(n,(r,i)=>{const s=Ep(i,e.uc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Y6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof wv||n instanceof jd||n instanceof Ss||n instanceof y0||n instanceof _v)}function kv(n,e,t){if(!Y6(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=p0(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function q2(n,e,t){if((e=ir(e))instanceof g0)return e._internalPath;if(typeof e=="string")return Av(n,e);throw Pg("Field path arguments must be of type string or ",n,!1,void 0,t)}const _7=new RegExp("[~\\*/\\[\\]]");function Av(n,e,t){if(e.search(_7)>=0)throw Pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new g0(...e.split("."))._internalPath}catch{throw Pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pg(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new ht(qe.INVALID_ARGUMENT,l+n+u)}function Q6(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ss(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(b0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N7 extends X6{data(){return super.data()}}function b0(n,e){return typeof e=="string"?Av(n,e):e instanceof g0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class Tv extends Ev{}function ks(n,e,...t){let r=[];e instanceof Ev&&r.push(e),r=r.concat(t),function(s){const a=s.filter(u=>u instanceof Iv).length,l=s.filter(u=>u instanceof w0).length;if(a>1||a>0&&l>0)throw new ht(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class w0 extends Tv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new w0(e,t,r)}_apply(e){const t=this._parse(e);return eN(e._query,t),new Cu(e.firestore,e.converter,R2(e._query,t))}_parse(e){const t=v0(e.firestore);return function(s,a,l,u,d,p,y){let b;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ht(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Xb(y,p);const S=[];for(const A of y)S.push(Qb(u,s,A));b={arrayValue:{values:S}}}else b=Qb(u,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Xb(y,p),b=w7(l,a,y,p==="in"||p==="not-in");return zr.create(d,p,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Xs(n,e,t){const r=e,i=b0("where",n);return w0._create(i,r,t)}class Iv extends Ev{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Oo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)eN(a,u),a=R2(a,u)}(e._query,t),new Cu(e.firestore,e.converter,R2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends Tv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Pv(e,t)}_apply(e){const t=function(i,s,a){if(i.startAt!==null)throw new ht(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ht(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zf(s,a)}(e._query,this._field,this._direction);return new Cu(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Ud(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function J6(n,e="asc"){const t=e,r=b0("orderBy",n);return Pv._create(r,t)}class jv extends Tv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new jv(e,t,r)}_apply(e){return new Cu(e.firestore,e.converter,Sg(e._query,this._limit,this._limitType))}}function Z6(n){return d7("limit",n),jv._create("limit",n,"F")}function Qb(n,e,t){if(typeof(t=ir(t))=="string"){if(t==="")throw new ht(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G3(e)&&t.indexOf("/")!==-1)throw new ht(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nr.fromString(t));if(!Et.isDocumentKey(r))throw new ht(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hb(n,new Et(r))}if(t instanceof Ss)return hb(n,t._key);throw new ht(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p0(t)}.`)}function Xb(n,e){if(!Array.isArray(n)||n.length===0)throw new ht(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eN(n,e){const t=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ht(qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ht(qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class k7{convertValue(e,t="none"){switch(Nu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Pu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[_g].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Cr(a.doubleValue));return new _v(s)}convertGeoPoint(e){return new wv(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=s0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qf(e));default:return null}}convertTimestamp(e){const t=wu(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nr.fromString(e);Rn(m6(r),9688,{name:e});const i=new Xf(r.get(1),r.get(3)),s=new Et(r.popFirst(5));return i.isEqual(t)||pc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nN extends X6{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(b0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Xm extends nN{data(e={}){return super.data(e)}}class A7{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ef(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xm(this._firestore,this._userDataWriter,r.key,r,new Ef(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ht(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new Xm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ef(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Xm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ef(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:E7(l.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function E7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){n=Fo(n,Ss);const e=Fo(n.firestore,jh);return c7(bv(e),n._key).then(t=>T7(e,n,t))}class rN extends k7{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,t)}}function Yn(n){n=Fo(n,Cu);const e=Fo(n.firestore,jh),t=bv(e),r=new rN(e);return S7(n._query),u7(t,n._query).then(i=>new A7(e,r,n,i))}function rp(n,e,t){n=Fo(n,Ss);const r=Fo(n.firestore,jh),i=tN(n.converter,e);return _0(r,[G6(v0(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ya.none())])}function vc(n,e,t,...r){n=Fo(n,Ss);const i=Fo(n.firestore,jh),s=v0(i);let a;return a=typeof(e=ir(e))=="string"||e instanceof g0?b7(s,"updateDoc",n._key,e,t,r):x7(s,"updateDoc",n._key,e),_0(i,[a.toMutation(n._key,Ya.exists(!0))])}function Tp(n){return _0(Fo(n.firestore,jh),[new rv(n._key,Ya.none())])}function Cv(n,e){const t=Fo(n.firestore,jh),r=Er(n),i=tN(n.converter,e);return _0(t,[G6(v0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ya.exists(!1))]).then(()=>r)}function _0(n,e){return function(r,i){const s=new cc;return r.asyncQueue.enqueueAndForget(async()=>XC(await l7(r),i,s)),s.promise}(bv(n),e)}function T7(n,e,t){const r=t.docs.get(e._key),i=new rN(n);return new nN(n,i,e._key,r,new Ef(t.hasPendingWrites,t.fromCache),e.converter)}function I7(){return new Sv("serverTimestamp")}(function(e,t=!0){(function(i){Vd=i})(Eh),xu(new hc("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new jh(new bP(r.getProvider("auth-internal")),new NP(a,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ht(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ka(Zx,eb,e),Ka(Zx,eb,"esm2017")})();var P7="firebase",j7="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka(P7,j7,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebasestorage.googleapis.com",C7="storageBucket",R7=2*60*1e3,L7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Al{constructor(e,t,r=0){super(V1(e),`Firebase Storage: ${t} (${V1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,El.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return V1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sl;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sl||(Sl={}));function V1(n){return"storage/"+n}function D7(){const n="An unknown error occurred, please check the error payload for server response.";return new El(Sl.UNKNOWN,n)}function M7(){return new El(Sl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function O7(){return new El(Sl.CANCELED,"User canceled the upload/download.")}function F7(n){return new El(Sl.INVALID_URL,"Invalid URL '"+n+"'.")}function V7(n){return new El(Sl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Jb(n){return new El(Sl.INVALID_ARGUMENT,n)}function sN(){return new El(Sl.APP_DELETED,"The Firebase app was deleted.")}function B7(n){return new El(Sl.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ro.makeFromUrl(e,t)}catch{return new Ro(e,"")}if(r.path==="")return r;throw V7(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(re){re.path_=decodeURIComponent(re.path)}const p="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",v=new RegExp(`^https?://${y}/${p}/b/${i}/o${b}`,"i"),S={bucket:1,path:3},A=t===iN?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",E=new RegExp(`^https?://${A}/${i}/${T}`,"i"),q=[{regex:l,indices:u,postModify:s},{regex:v,indices:S,postModify:d},{regex:E,indices:{bucket:1,path:2},postModify:d}];for(let re=0;re<q.length;re++){const J=q[re],te=J.regex.exec(e);if(te){const L=te[J.indices.bucket];let C=te[J.indices.path];C||(C=""),r=new Ro(L,C),J.postModify(r);break}}if(r==null)throw F7(e);return r}}class z7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(n,e,t){let r=1,i=null,s=null,a=!1,l=0;function u(){return l===2}let d=!1;function p(...T){d||(d=!0,e.apply(null,T))}function y(T){i=setTimeout(()=>{i=null,n(v,u())},T)}function b(){s&&clearTimeout(s)}function v(T,...E){if(d){b();return}if(T){b(),p.call(null,T,...E);return}if(u()||a){b(),p.call(null,T,...E);return}r<64&&(r*=2);let q;l===1?(l=2,q=0):q=(r+Math.random())*1e3,y(q)}let S=!1;function A(T){S||(S=!0,b(),!d&&(i!==null?(T||(l=2),clearTimeout(i),y(0)):T||(l=1)))}return y(0),s=setTimeout(()=>{a=!0,A(!0)},t),A}function q7(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(n){return n!==void 0}function Zb(n,e,t,r){if(r<e)throw Jb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Jb(`Invalid value for '${n}'. Expected ${t} or less.`)}function W7(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var jg;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(jg||(jg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,t,r,i,s,a,l,u,d,p,y,b=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=y,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,S)=>{this.resolve_=v,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new xm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===jg.NO_ERROR,u=s.getStatus();if(!l||$7(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===jg.ABORT;r(!1,new xm(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new xm(d,s))})},t=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());H7(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=D7();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?sN():O7();a(u)}else{const u=M7();a(u)}};this.canceled_?t(!1,new xm(!1,null,!0)):this.backoffId_=U7(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function K7(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Y7(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Q7(n,e){e&&(n["X-Firebase-GMPID"]=e)}function X7(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function J7(n,e,t,r,i,s,a=!0){const l=W7(n.urlParams),u=n.url+l,d=Object.assign({},n.headers);return Q7(d,e),K7(d,t),Y7(d,s),X7(d,r),new G7(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function eR(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t){this._service=e,t instanceof Ro?this._location=t:this._location=Ro.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cg(e,t)}get root(){const e=new Ro(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eR(this._location.path)}get storage(){return this._service}get parent(){const e=Z7(this._location.path);if(e===null)return null;const t=new Ro(this._location.bucket,e);return new Cg(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw B7(e)}}function ew(n,e){const t=e==null?void 0:e[C7];return t==null?null:Ro.makeFromBucketSpec(t,n)}function tR(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:j_(i,n.app.options.projectId))}class nR{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=iN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R7,this._maxUploadRetryTime=L7,this._requests=new Set,i!=null?this._bucket=Ro.makeFromBucketSpec(i,this._host):this._bucket=ew(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ro.makeFromBucketSpec(this._url,e):this._bucket=ew(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cg(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new z7(sN());{const a=J7(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const tw="@firebase/storage",nw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="storage";function rR(n=Zg(),e){n=ir(n);const r=vp(n,aN).getImmediate({identifier:e}),i=Dy("storage");return i&&iR(r,...i),r}function iR(n,e,t,r={}){tR(n,e,t,r)}function sR(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new nR(t,r,i,e,Eh)}function aR(){xu(new hc(aN,sR,"PUBLIC").setMultipleInstances(!0)),Ka(tw,nw,""),Ka(tw,nw,"esm2017")}aR();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ns(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="us-central1";class lR{constructor(e,t,r,i,s=H2,a=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new oR(e,t,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=H2}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function cR(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}const rw="@firebase/functions",iw="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="auth-internal",hR="app-check-internal",dR="messaging-internal";function fR(n){const e=(t,{instanceIdentifier:r})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider(uR),a=t.getProvider(dR),l=t.getProvider(hR);return new lR(i,s,a,l,r)};xu(new hc(oN,e,"PUBLIC").setMultipleInstances(!0)),Ka(rw,iw,n),Ka(rw,iw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n=Zg(),e=H2){const r=vp(ir(n),oN).getImmediate({identifier:e}),i=Dy("functions");return i&&mR(r,...i),r}function mR(n,e,t){cR(ir(n),e,t)}fR();console.log("Environment variables:",{VITE_FIREBASE_API_KEY:void 0,VITE_FIREBASE_AUTH_DOMAIN:void 0,VITE_FIREBASE_PROJECT_ID:void 0});const gR={apiKey:"AIzaSyBbS4vVTs7Nncdf3VMzW7NhK0nWfpJzOzM",authDomain:"vroomgo-f5638.firebaseapp.com",projectId:"vroomgo-f5638",storageBucket:"vroomgo-f5638.appspot.com",messagingSenderId:"595905357042",appId:"1:595905357042:web:1e365a9bf2f45772d71c6b",measurementId:"G-8Y079ENJNZ"},N0=L_(gR),jo=b3(N0),Lt=p7(N0);rR(N0);pR(N0);const lN=se.createContext(),qo=()=>se.useContext(lN),yR=({children:n})=>{const[e,t]=se.useState(null),[r,i]=se.useState(null),[s,a]=se.useState(!0);se.useEffect(()=>aI(jo,async y=>{if(y){const b=await Ru(Er(Lt,"users",y.uid));if(b.exists()){const v=b.data();t({...y,role:v.role,phone:v.phone}),i(v.role)}else t(y),i("customer")}else t(null),i(null);a(!1)}),[]);const d={user:e,userRole:r,loading:s,isAdmin:()=>r==="admin",isCustomer:()=>r==="customer"};return h.jsx(lN.Provider,{value:d,children:!s&&n})},vR=async(n,e,t,r)=>{try{const s=(await o3(jo,n,e)).user;return await tI(s,{displayName:t}),await rp(Er(Lt,"users",s.uid),{userId:s.uid,name:t,email:n,phone:r,role:"customer",createdAt:new Date().toISOString()}),s}catch(i){throw i}},xR=async(n,e)=>{try{return(await l3(jo,n,e)).user}catch(t){throw t}},cN=async()=>{try{const n=new gl,t=(await A2(jo,n)).user;return(await Ru(Er(Lt,"users",t.uid))).exists()||await rp(Er(Lt,"users",t.uid),{userId:t.uid,name:t.displayName,email:t.email,phone:t.phoneNumber||"",role:"customer",createdAt:new Date().toISOString()}),t}catch(n){throw n}},bR=async()=>{try{await oI(jo)}catch(n){throw n}},wR=async(n,e,t)=>{try{const r=jo.currentUser;if(!r)throw new Error("No user is currently signed in");const i=Th.credential(n,e);await XT(r,i),await nI(r,t)}catch(r){throw r}},uN=({isOpen:n,onClose:e})=>{const[t,r]=se.useState(""),[i,s]=se.useState(""),[a,l]=se.useState(""),[u,d]=se.useState(""),[p,y]=se.useState(""),[b,v]=se.useState(""),[S,A]=se.useState(!1),[T,E]=se.useState(!1),M=kl(),{user:q}=qo();se.useEffect(()=>{n&&(r(""),s(""),l(""),d(""),y(""),v(""),A(!1),E(!1))},[n]),q&&n&&(e(),r(""),s(""),l(""),d(""),y(""));const re=async te=>{if(te.preventDefault(),y(""),v(""),A(!0),T){if(a!==u){y("New passwords do not match"),A(!1);return}if(a.length<6){y("New password must be at least 6 characters long"),A(!1);return}try{await wR(t,i,a),v("Password updated successfully!"),setTimeout(()=>{E(!1),s(""),l(""),d("")},2e3)}catch(L){console.error("Password update error:",L),L.code==="auth/wrong-password"?y("Current password is incorrect"):L.code==="auth/requires-recent-login"?y("Please sign in again before changing your password"):y("Failed to update password: "+L.message)}finally{A(!1)}return}try{await xR(t,i)}catch(L){console.error("Login error:",L),L.code==="auth/invalid-credential"?y("Invalid email or password. Please check your credentials and try again."):L.code==="auth/too-many-requests"?y("Too many failed login attempts. Please try again later."):y("Failed to sign in: "+L.message)}finally{A(!1)}},J=async()=>{y(""),A(!0);try{await cN()}catch(te){console.error("Google sign-in error:",te),y("Failed to sign in with Google: "+te.message)}finally{A(!1)}};return n?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-black/30 z-[9998]"}),h.jsx("div",{className:"fixed inset-0 flex items-start justify-center p-4 z-[9999]",style:{paddingTop:"10vh"},children:h.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300 scale-100 relative overflow-hidden animate-modalSlideDown",style:{maxHeight:"80vh",overflowY:"auto"},children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors duration-200 z-10","aria-label":"Close modal",children:h.jsx(vh,{className:"h-5 w-5"})}),h.jsxs("div",{className:"p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:T?"Reset Password":"Welcome Back"}),h.jsx("p",{className:"text-gray-600",children:T?"Enter your current password and set a new one":"Please sign in to continue"})]}),p&&h.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:p})}),b&&h.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:b})}),h.jsxs("form",{onSubmit:re,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Fd,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"email",type:"email",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Enter your email",value:t,onChange:te=>r(te.target.value)})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:T?"Current Password":"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ug,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"password",type:"password",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:T?"Enter current password":"Enter your password",value:i,onChange:te=>s(te.target.value)})]})]}),T&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(bx,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"newPassword",type:"password",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Enter new password",value:a,onChange:te=>l(te.target.value)})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(bx,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Confirm new password",value:u,onChange:te=>d(te.target.value)})]})]})]}),h.jsx("button",{type:"submit",disabled:S,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300 transition-all duration-200",children:S?h.jsxs("span",{className:"flex items-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),T?"Updating Password...":"Signing in..."]}):T?"Update Password":"Sign in"}),h.jsx("div",{className:"text-center",children:h.jsx("button",{type:"button",onClick:()=>{E(!T),y(""),v(""),l(""),d("")},className:"text-sm text-blue-600 hover:text-blue-500 transition-colors duration-200",children:T?"Back to Login":"Reset Password"})})]}),!T&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),h.jsx("div",{className:"mt-6",children:h.jsxs("button",{type:"button",onClick:J,disabled:S,className:"w-full flex justify-center items-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[h.jsx(b_,{className:"h-5 w-5 text-red-500 mr-2"}),"Sign in with Google"]})})]}),h.jsxs("div",{className:"mt-6 text-center text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),h.jsx("button",{type:"button",onClick:()=>{e(),M("/register")},className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign up"})]})]})]})]})})]}):null},_R=()=>{const[n,e]=se.useState(!1),[t,r]=se.useState(!1),[i,s]=se.useState(!1),a=As();kl();const{user:l,isAdmin:u}=qo(),d=()=>{e(!n)},p=()=>{e(!1)},y=()=>{r(!0)},b=async()=>{try{await bR(),r(!1),s(!0)}catch(M){console.error("Failed to log out:",M)}},v=()=>{r(!1)},S=()=>{s(!1)},A=()=>{s(!0),e(!1)},T=M=>a.pathname===M,E=[{path:"/",label:"Home",icon:h.jsx(Ry,{})},{path:"/cars",label:"Cars",icon:h.jsx(dd,{})},{path:"/bikes",label:"Bikes",icon:h.jsx(sA,{})},{path:"/about",label:"About",icon:h.jsx(w_,{})},{path:"/contact",label:"Contact",icon:h.jsx(Fd,{})}];return h.jsxs("nav",{className:"bg-white/80 backdrop-blur-md shadow-lg sticky top-0 z-50 border-b border-gray-100",children:[h.jsxs("div",{className:"container mx-auto px-4 py-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(An,{to:"/",className:"flex items-center space-x-2 group",onClick:p,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(ba,{className:"text-primary text-2xl"}),h.jsx(mp,{className:"text-accent text-2xl ml-1"})]}),h.jsx("span",{className:"text-xl font-bold text-gray-800",children:"RideRental"})]}),h.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[E.map(M=>h.jsxs(An,{to:M.path,className:`px-4 py-2 rounded-lg transition-colors duration-300 relative group flex items-center space-x-2 ${T(M.path)?"text-primary font-semibold":"text-gray-700 hover:text-primary"}`,children:[h.jsx("span",{className:"text-lg",children:M.icon}),h.jsx("span",{children:M.label}),h.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 bg-primary transform origin-left transition-transform duration-300 ${T(M.path)?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`})]},M.path)),l?h.jsxs(h.Fragment,{children:[h.jsxs(An,{to:"/my-bookings",className:`px-4 py-2 rounded-lg transition-colors duration-300 flex items-center space-x-2 ${T("/my-bookings")?"text-primary font-semibold":"text-gray-700 hover:text-primary"}`,children:[h.jsx(Mo,{className:"text-lg"}),h.jsx("span",{children:"My Bookings"})]}),u()&&h.jsxs(An,{to:"/admin",className:"px-4 py-2 rounded-lg transition-colors duration-300 text-gray-700 hover:text-primary flex items-center space-x-2",children:[h.jsx(y2,{className:"text-lg"}),h.jsx("span",{children:"Admin Dashboard"})]}),h.jsxs("button",{onClick:y,className:"px-4 py-2 rounded-lg bg-primary text-white transition-colors duration-300 hover:bg-primary-dark flex items-center space-x-2",children:[h.jsx(Sd,{className:"text-lg"}),h.jsx("span",{children:"Logout"})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:A,className:"px-4 py-2 rounded-lg transition-colors duration-300 text-gray-700 hover:text-primary flex items-center space-x-2",children:[h.jsx(wx,{className:"text-lg"}),h.jsx("span",{children:"Login"})]}),h.jsxs(An,{to:"/register",className:"px-4 py-2 rounded-lg bg-primary text-white transition-colors duration-300 hover:bg-primary-dark flex items-center space-x-2",children:[h.jsx(_x,{className:"text-lg"}),h.jsx("span",{children:"Sign Up"})]})]})]}),h.jsx("div",{className:"md:hidden",children:h.jsx("button",{onClick:d,className:"text-gray-700 hover:text-primary focus:outline-none","aria-label":"Toggle menu",children:n?h.jsx(vh,{className:"text-2xl"}):h.jsx(iA,{className:"text-2xl"})})})]}),h.jsx("div",{className:`md:hidden transition-all duration-300 ease-in-out ${n?"max-h-screen opacity-100 mt-4":"max-h-0 opacity-0 overflow-hidden"}`,children:h.jsxs("div",{className:"flex flex-col space-y-2 pb-4",children:[E.map(M=>h.jsxs(An,{to:M.path,className:`px-4 py-2 rounded-lg transition-colors duration-300 flex items-center space-x-2 ${T(M.path)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100/50"}`,onClick:p,children:[h.jsx("span",{className:"text-lg",children:M.icon}),h.jsx("span",{children:M.label})]},M.path)),l?h.jsxs(h.Fragment,{children:[h.jsxs(An,{to:"/my-bookings",className:`px-4 py-2 rounded-lg transition-colors duration-300 flex items-center space-x-2 ${T("/my-bookings")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100/50"}`,onClick:p,children:[h.jsx(Mo,{className:"text-lg"}),h.jsx("span",{children:"My Bookings"})]}),u()&&h.jsxs(An,{to:"/admin",className:"px-4 py-2 rounded-lg transition-colors duration-300 text-gray-700 hover:bg-gray-100/50 flex items-center space-x-2",onClick:p,children:[h.jsx(y2,{className:"text-lg"}),h.jsx("span",{children:"Admin Dashboard"})]}),h.jsxs("button",{onClick:()=>{y(),p()},className:"w-full px-4 py-2 rounded-lg bg-primary text-white transition-colors duration-300 hover:bg-primary-dark flex items-center space-x-2",children:[h.jsx(Sd,{className:"text-lg"}),h.jsx("span",{children:"Logout"})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:A,className:"px-4 py-2 rounded-lg transition-colors duration-300 text-gray-700 hover:bg-gray-100/50 flex items-center space-x-2",children:[h.jsx(wx,{className:"text-lg"}),h.jsx("span",{children:"Login"})]}),h.jsxs(An,{to:"/register",className:"px-4 py-2 rounded-lg bg-primary text-white transition-colors duration-300 hover:bg-primary-dark flex items-center space-x-2",onClick:p,children:[h.jsx(_x,{className:"text-lg"}),h.jsx("span",{children:"Sign Up"})]})]})]})})]}),t&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-black/30 z-[9998]"}),h.jsx("div",{className:"fixed inset-0 flex items-start justify-center p-4 z-[9999]",style:{paddingTop:"20vh"},children:h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm mx-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Confirm Logout"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to log out?"}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{onClick:v,className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancel"}),h.jsx("button",{onClick:b,className:"px-4 py-2 rounded-lg bg-primary text-white hover:bg-primary-dark transition-colors duration-200",children:"Logout"})]})]})})]}),h.jsx(uN,{isOpen:i,onClose:S})]})},NR=()=>{const n=new Date().getFullYear();return h.jsx("footer",{className:"bg-gray-800 text-white pt-12 pb-8",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(ba,{className:"text-primary text-2xl"}),h.jsx(mp,{className:"text-accent text-2xl ml-1"}),h.jsx("span",{className:"text-xl font-bold ml-2",children:"RideRental"})]}),h.jsx("p",{className:"text-gray-300 mb-4",children:"Premium car and bike rental service across India. Offering quality vehicles at affordable prices with locations in all major cities."}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:h.jsx(J8,{size:20})}),h.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:h.jsx(tA,{size:20})}),h.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:h.jsx(Z8,{size:20})}),h.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:h.jsx(eA,{size:20})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 border-b border-gray-700 pb-2",children:"Quick Links"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx(An,{to:"/",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:"Home"})}),h.jsx("li",{children:h.jsx(An,{to:"/cars",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:"Cars"})}),h.jsx("li",{children:h.jsx(An,{to:"/bikes",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:"Bikes"})}),h.jsx("li",{children:h.jsx(An,{to:"/about",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:"About Us"})}),h.jsx("li",{children:h.jsx(An,{to:"/contact",className:"text-gray-300 hover:text-primary transition-colors duration-300",children:"Contact Us"})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 border-b border-gray-700 pb-2",children:"Our Services"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{className:"text-gray-300",children:"Car Rentals"}),h.jsx("li",{className:"text-gray-300",children:"Bike Rentals"}),h.jsx("li",{className:"text-gray-300",children:"Long Term Rentals"}),h.jsx("li",{className:"text-gray-300",children:"Airport Pickup"}),h.jsx("li",{className:"text-gray-300",children:"Corporate Rentals"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 border-b border-gray-700 pb-2",children:"Contact Us"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{className:"text-gray-300",children:"42 MG Road, Bangalore 560001"}),h.jsx("li",{className:"text-gray-300",children:"Phone: +91 98765 43210"}),h.jsx("li",{className:"text-gray-300",children:"Email: info@riderental.in"}),h.jsx("li",{className:"text-gray-300",children:"Hours: Mon-Sat 9AM - 8PM"})]})]})]}),h.jsx("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center text-gray-400",children:h.jsxs("p",{children:[" ",n," RideRental India. All rights reserved."]})})]})})},SR=()=>{const n=kl(),[e,t]=se.useState({location:"",vehicleType:"all"}),r=["Visakhapatnam","Vijayawada","Guntur","Nellore","Kurnool","Kakinada","Tirupati","Rajahmundry","Kadapa","Anantapur","Hyderabad","Warangal","Nizamabad","Karimnagar","Khammam","Secunderabad","Suryapet","Nalgonda","Adilabad"],i=a=>{const{name:l,value:u}=a.target;t(d=>({...d,[l]:u}))},s=a=>{if(a.preventDefault(),!r.some(u=>u.toLowerCase()===e.location.trim().toLowerCase())){n("/location-not-served",{state:{location:e.location,validCities:r}});return}n("/cars",{state:{...e},search:`?location=${e.location}&showAll=true`})};return h.jsx("div",{className:"w-full max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:h.jsxs("form",{onSubmit:s,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"relative md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Location"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(fh,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",name:"location",value:e.location,onChange:i,placeholder:"Enter city in AP or Telangana",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0,list:"cities"}),h.jsx("datalist",{id:"cities",children:r.map((a,l)=>h.jsx("option",{value:a},l))})]})]}),h.jsxs("div",{className:"relative md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ba,{className:"h-5 w-5 text-gray-400"})}),h.jsxs("select",{name:"vehicleType",value:e.vehicleType,onChange:i,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[h.jsx("option",{value:"all",children:"All Vehicles"}),h.jsx("option",{value:"car",children:"Cars"}),h.jsx("option",{value:"bike",children:"Bikes"})]})]})]})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{type:"submit",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Search Vehicles"})})]})})},kR=()=>h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:[h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-blob"}),h.jsx("div",{className:"absolute top-0 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-blob animation-delay-2000"}),h.jsx("div",{className:"absolute -bottom-40 left-20 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-blob animation-delay-4000"})]}),h.jsx("div",{className:"relative z-10",children:h.jsxs("div",{className:"container mx-auto px-4 py-24",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-6 animate-gradient animate-slide-in",children:"Find Your Perfect Ride"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed animate-fade-in delay-200",children:"Experience the freedom of the open road with our premium selection of cars and bikes"})]}),h.jsx("div",{className:"max-w-4xl mx-auto transform hover:scale-[1.02] transition-transform duration-300 animate-slide-in delay-300",children:h.jsx("div",{className:"glow-shadow rounded-2xl animate-pulse-glow",children:h.jsx(SR,{})})})]})})]}),h.jsx("div",{className:"py-20",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-4 animate-slide-in",children:"Featured Vehicles"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto animate-fade-in delay-200",children:"Explore our most popular vehicles that customers love"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-lg rounded-2xl overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-neon-blue group animate-slide-in delay-300",children:[h.jsxs("div",{className:"relative h-48",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",alt:"Featured Car",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),h.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-neon-purple",children:"Popular"})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-white group-hover:text-blue-400 transition-colors",children:"Toyota Camry"}),h.jsxs("div",{className:"flex items-center text-yellow-400",children:[h.jsx(Fn,{className:"mr-1"}),h.jsx("span",{children:"4.8"})]})]}),h.jsxs("div",{className:"flex items-center text-gray-400 mb-4",children:[h.jsx(fh,{className:"mr-2"}),h.jsx("span",{children:"Available in Hyderabad"})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"100/hr"}),h.jsxs(An,{to:"/vehicle/toyota-camry",className:"flex items-center text-blue-400 hover:text-blue-300 font-medium group-hover:translate-x-2 transition-transform duration-300",children:["View Details",h.jsx(dm,{className:"ml-2"})]})]})]})]}),h.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-lg rounded-2xl overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-neon-purple group animate-slide-in delay-400",children:[h.jsxs("div",{className:"relative h-48",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1558981403-c5f9899a28bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",alt:"Featured Bike",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),h.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-neon-purple",children:"Popular"})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-white group-hover:text-purple-400 transition-colors",children:"Royal Enfield"}),h.jsxs("div",{className:"flex items-center text-yellow-400",children:[h.jsx(Fn,{className:"mr-1"}),h.jsx("span",{children:"4.9"})]})]}),h.jsxs("div",{className:"flex items-center text-gray-400 mb-4",children:[h.jsx(fh,{className:"mr-2"}),h.jsx("span",{children:"Available in Visakhapatnam"})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600",children:"70/hr"}),h.jsxs(An,{to:"/vehicle/royal-enfield",className:"flex items-center text-purple-400 hover:text-purple-300 font-medium group-hover:translate-x-2 transition-transform duration-300",children:["View Details",h.jsx(dm,{className:"ml-2"})]})]})]})]}),h.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-lg rounded-2xl overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-neon-blue group animate-slide-in delay-500",children:[h.jsxs("div",{className:"relative h-48",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",alt:"Featured Car",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),h.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-neon-blue",children:"Popular"})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-white group-hover:text-blue-400 transition-colors",children:"Honda City"}),h.jsxs("div",{className:"flex items-center text-yellow-400",children:[h.jsx(Fn,{className:"mr-1"}),h.jsx("span",{children:"4.7"})]})]}),h.jsxs("div",{className:"flex items-center text-gray-400 mb-4",children:[h.jsx(fh,{className:"mr-2"}),h.jsx("span",{children:"Available in Vijayawada"})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"85/hr"}),h.jsxs(An,{to:"/vehicle/honda-city",className:"flex items-center text-blue-400 hover:text-blue-300 font-medium group-hover:translate-x-2 transition-transform duration-300",children:["View Details",h.jsx(dm,{className:"ml-2"})]})]})]})]})]})]})}),h.jsx("div",{className:"py-20",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl hover:shadow-neon-blue transition-colors duration-300 group",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mb-6",children:h.jsx(ba,{className:"text-white text-2xl"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-3 group-hover:text-blue-400 transition-colors",children:"Wide Selection"}),h.jsx("p",{className:"text-gray-400",children:"Choose from a variety of cars and bikes to suit your needs and preferences"})]}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl hover:shadow-neon-purple transition-colors duration-300 group",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center mb-6",children:h.jsx(N_,{className:"text-white text-2xl"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-3 group-hover:text-purple-400 transition-colors",children:"Best Prices"}),h.jsx("p",{className:"text-gray-400",children:"Competitive rates with no hidden charges and flexible rental options"})]}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl hover:shadow-neon-pink transition-colors duration-300 group",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-600 to-red-600 rounded-2xl flex items-center justify-center mb-6",children:h.jsx(hA,{className:"text-white text-2xl"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-3 group-hover:text-pink-400 transition-colors",children:"24/7 Support"}),h.jsx("p",{className:"text-gray-400",children:"Round-the-clock customer support for your convenience and peace of mind"})]})]})})}),h.jsx("div",{className:"py-20 relative",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-4",children:"What Our Customers Say"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Hear from our satisfied customers about their experiences"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-6 rounded-2xl hover:shadow-neon-blue transition-colors duration-300",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"RK"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h4",{className:"text-white font-semibold",children:"Rahul Kumar"}),h.jsxs("div",{className:"flex text-yellow-400",children:[h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{})]})]})]}),h.jsx("p",{className:"text-gray-400",children:`"Exceptional service! I rented a Toyota Camry for a business trip and was impressed by the car's condition and the smooth booking process. The staff was very professional and helpful."`}),h.jsx("p",{className:"text-blue-400 mt-4 text-sm",children:"Hyderabad  Business Trip"})]}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-6 rounded-2xl hover:shadow-neon-purple transition-colors duration-300",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"AP"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h4",{className:"text-white font-semibold",children:"Ananya Patel"}),h.jsxs("div",{className:"flex text-yellow-400",children:[h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{})]})]})]}),h.jsx("p",{className:"text-gray-400",children:'"The Royal Enfield I rented was in perfect condition! Had an amazing road trip experience. The pricing was transparent and the 24/7 support gave me peace of mind throughout the journey."'}),h.jsx("p",{className:"text-purple-400 mt-4 text-sm",children:"Visakhapatnam  Road Trip"})]}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-6 rounded-2xl hover:shadow-neon-pink transition-colors duration-300",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-600 to-red-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"SK"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h4",{className:"text-white font-semibold",children:"Suresh Kumar"}),h.jsxs("div",{className:"flex text-yellow-400",children:[h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{})]})]})]}),h.jsx("p",{className:"text-gray-400",children:`"Best rental service I've used! The Honda City was spotless and well-maintained. The pickup and drop-off process was quick and hassle-free. Will definitely use again!"`}),h.jsx("p",{className:"text-pink-400 mt-4 text-sm",children:"Vijayawada  Weekend Getaway"})]}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-6 rounded-2xl hover:shadow-neon-blue transition-colors duration-300",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"MP"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h4",{className:"text-white font-semibold",children:"Meera Prakash"}),h.jsxs("div",{className:"flex text-yellow-400",children:[h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{})]})]})]}),h.jsx("p",{className:"text-gray-400",children:'"As a first-time renter, I was nervous, but the team made it so easy! The bike was in great condition, and their flexible rental options really helped with my budget."'}),h.jsx("p",{className:"text-blue-400 mt-4 text-sm",children:"Hyderabad  Daily Commute"})]}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-6 rounded-2xl hover:shadow-neon-purple transition-colors duration-300",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"VR"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h4",{className:"text-white font-semibold",children:"Vikram Reddy"}),h.jsxs("div",{className:"flex text-yellow-400",children:[h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{}),h.jsx(Fn,{})]})]})]}),h.jsx("p",{className:"text-gray-400",children:'"Outstanding customer service! When I had a last-minute change in plans, they were incredibly accommodating. The vehicle was clean, fuel-efficient, and perfect for my needs."'}),h.jsx("p",{className:"text-purple-400 mt-4 text-sm",children:"Visakhapatnam  Family Trip"})]})]})]})}),h.jsx("div",{className:"py-20 relative overflow-hidden",children:h.jsx("div",{className:"container mx-auto px-4 text-center",children:h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-12 rounded-2xl hover:shadow-neon-blue transition-all duration-300 animate-slide-in",children:[h.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-6 animate-gradient",children:"Ready to Start Your Journey?"}),h.jsx("p",{className:"text-gray-400 mb-8 text-xl animate-fade-in delay-200",children:"Book your perfect vehicle today and experience the freedom of the open road"}),h.jsxs(An,{to:"/cars",className:"inline-flex items-center px-8 py-3 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium hover:scale-105 transition-all duration-300 group animate-pulse-glow",children:["Browse Vehicles",h.jsx(dm,{className:"ml-2 transform group-hover:translate-x-1 transition-transform duration-300"})]})]})})}),h.jsx("style",{jsx:!0,children:`
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
        .animate-gradient {
          background-size: 200%;
          animation: gradient 8s linear infinite;
        }
        .shadow-neon-blue {
          box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }
        .shadow-neon-purple {
          box-shadow: 0 0 20px rgba(147, 51, 234, 0.5);
        }
        .glow-shadow {
          box-shadow: 0 0 30px rgba(59, 130, 246, 0.3);
        }
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        @keyframes gradient {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
      `})]}),hN=({vehicle:n,bookingData:e})=>{const{name:t,type:r,imageUrl:i,price:s,seats:a,transmission:l,fuel:u,rating:d}=n,{location:p,startDate:y,endDate:b}=e||{};console.log("VehicleCard - Vehicle data:",n),console.log("VehicleCard - Vehicle ID:",n.id);const v=`/vehicle/${n.id}${p?`?location=${encodeURIComponent(p)}`:""}${y?`&start=${encodeURIComponent(y)}`:""}${b?`&end=${encodeURIComponent(b)}`:""}`;return console.log("VehicleCard - Generated URL:",v),h.jsxs("div",{className:"group bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl overflow-hidden border border-white/5 hover:border-white/10 transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-1",children:[h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx("img",{src:i||(r==="car"?"/car-placeholder.jpg":"/bike-placeholder.jpg"),alt:t,className:"w-full h-52 object-cover transform transition-transform duration-500 group-hover:scale-110",onError:S=>{S.target.onerror=null,S.target.src=r==="car"?"/car-placeholder.jpg":"/bike-placeholder.jpg"}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent opacity-80"}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:t}),h.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm px-2 py-1 rounded-lg",children:[h.jsx("span",{className:"text-yellow-400 mr-1",children:""}),h.jsx("span",{className:"text-white",children:d})]})]})})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a&&h.jsxs("div",{className:"flex items-center text-gray-300 bg-white/5 rounded-lg p-2",children:[h.jsx(Xg,{className:"mr-2 text-blue-400"}),h.jsxs("span",{children:[a," seats"]})]}),l&&h.jsxs("div",{className:"flex items-center text-gray-300 bg-white/5 rounded-lg p-2",children:[h.jsx(ba,{className:"mr-2 text-green-400"}),h.jsx("span",{children:l})]}),u&&h.jsxs("div",{className:"flex items-center text-gray-300 bg-white/5 rounded-lg p-2",children:[h.jsx(Qg,{className:"mr-2 text-purple-400"}),h.jsx("span",{children:u})]}),h.jsxs("div",{className:"flex items-center text-gray-300 bg-white/5 rounded-lg p-2",children:[h.jsx("span",{className:"text-pink-400 mr-2 font-bold",children:r==="car"?"":""}),h.jsx("span",{className:"capitalize",children:r})]})]}),h.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/5",children:[h.jsxs("div",{className:"text-white",children:[h.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:["",s]}),h.jsx("span",{className:"text-gray-400 ml-1",children:"/hour"})]}),h.jsx(An,{to:v,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:"View Details"})]})]})]})},is=({variant:n="default"})=>{const e={default:h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float"}),h.jsx("div",{className:"absolute top-0 -right-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float-delayed"}),h.jsx("div",{className:"absolute top-1/4 left-10 w-12 h-12 border-2 border-purple-500/30 rounded-lg rotate-45 animate-spin-slow"}),h.jsx("div",{className:"absolute bottom-1/4 right-10 w-12 h-12 border-2 border-pink-500/30 rounded-lg rotate-12 animate-spin-slow-reverse"}),h.jsx("div",{className:"absolute top-1/3 right-1/4 w-4 h-4 bg-purple-400/40 rounded-full animate-float-slow"}),h.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-4 h-4 bg-pink-400/40 rounded-full animate-float-delayed-slow"}),h.jsx("div",{className:"absolute top-1/2 left-20 w-24 h-[1px] bg-gradient-to-r from-purple-500/50 to-transparent rotate-45"}),h.jsx("div",{className:"absolute bottom-1/2 right-20 w-24 h-[1px] bg-gradient-to-l from-pink-500/50 to-transparent -rotate-45"})]}),cars:h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float"}),h.jsx("div",{className:"absolute top-0 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float-delayed"}),h.jsx("div",{className:"absolute top-1/4 left-10 w-16 h-8 border-2 border-blue-500/30 rounded-full animate-bounce-slow"}),h.jsx("div",{className:"absolute bottom-1/4 right-10 w-16 h-8 border-2 border-purple-500/30 rounded-full animate-bounce-slow-delayed"}),h.jsx("div",{className:"absolute top-1/3 right-1/4 w-3 h-3 bg-blue-400/40 rounded-full animate-pulse"}),h.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-3 h-3 bg-purple-400/40 rounded-full animate-pulse-delayed"}),h.jsx("div",{className:"absolute top-1/2 left-20 w-32 h-[2px] bg-gradient-to-r from-blue-500/50 to-transparent"}),h.jsx("div",{className:"absolute bottom-1/2 right-20 w-32 h-[2px] bg-gradient-to-l from-purple-500/50 to-transparent"})]}),bikes:h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float"}),h.jsx("div",{className:"absolute top-0 -right-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float-delayed"}),h.jsx("div",{className:"absolute top-1/4 left-10 w-12 h-12 border-2 border-purple-500/30 rounded-full animate-spin-slow"}),h.jsx("div",{className:"absolute bottom-1/4 right-10 w-12 h-12 border-2 border-pink-500/30 rounded-full animate-spin-slow"}),h.jsx("div",{className:"absolute top-1/3 right-1/4 w-4 h-4 bg-purple-400/40 rounded-full animate-float-slow"}),h.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-4 h-4 bg-pink-400/40 rounded-full animate-float-delayed-slow"}),h.jsx("div",{className:"absolute top-1/2 left-20 w-24 h-[1px] bg-gradient-to-r from-purple-500/50 to-transparent rotate-45"}),h.jsx("div",{className:"absolute bottom-1/2 right-20 w-24 h-[1px] bg-gradient-to-l from-pink-500/50 to-transparent -rotate-45"})]}),about:h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float"}),h.jsx("div",{className:"absolute top-0 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float-delayed"}),h.jsx("div",{className:"absolute top-20 left-1/4 w-16 h-16 border-2 border-blue-500/30 rounded-lg rotate-45 animate-float-slow"}),h.jsx("div",{className:"absolute bottom-20 right-1/4 w-16 h-16 border-2 border-purple-500/30 rounded-lg -rotate-45 animate-float-delayed-slow"}),h.jsx("div",{className:"absolute top-1/3 right-20 w-4 h-4 bg-blue-400/40 rounded-full animate-pulse"}),h.jsx("div",{className:"absolute bottom-1/3 left-20 w-4 h-4 bg-purple-400/40 rounded-full animate-pulse-delayed"}),h.jsx("div",{className:"absolute top-2/3 left-1/4 w-32 h-[2px] bg-gradient-to-r from-blue-500/50 to-transparent rotate-45"}),h.jsx("div",{className:"absolute bottom-2/3 right-1/4 w-32 h-[2px] bg-gradient-to-l from-purple-500/50 to-transparent -rotate-45"})]}),contact:h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float"}),h.jsx("div",{className:"absolute top-0 -right-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-float-delayed"}),h.jsx("div",{className:"absolute top-20 left-20 w-20 h-20 border-2 border-purple-500/30 rounded-full animate-spin-slow"}),h.jsx("div",{className:"absolute bottom-20 right-20 w-20 h-20 border-2 border-pink-500/30 rounded-full animate-spin-slow-reverse"}),h.jsx("div",{className:"absolute top-1/4 right-1/3 w-6 h-6 bg-purple-400/40 rounded-full animate-float-slow"}),h.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-6 h-6 bg-pink-400/40 rounded-full animate-float-delayed-slow"}),h.jsx("div",{className:"absolute top-2/3 left-40 w-40 h-[1px] bg-gradient-to-r from-purple-500/50 to-transparent rotate-45"}),h.jsx("div",{className:"absolute bottom-2/3 right-40 w-40 h-[1px] bg-gradient-to-l from-pink-500/50 to-transparent -rotate-45"})]})};return h.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e[n]})},dN=({type:n="card",count:e=3})=>{const t=()=>h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl overflow-hidden border border-white/5 animate-pulse",children:[h.jsx("div",{className:"h-52 bg-white/5"}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsx("div",{className:"h-6 bg-white/5 rounded-lg w-3/4"}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4].map(i=>h.jsx("div",{className:"h-10 bg-white/5 rounded-lg"},i))}),h.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/5",children:[h.jsx("div",{className:"h-8 bg-white/5 rounded-lg w-1/4"}),h.jsx("div",{className:"h-10 bg-white/5 rounded-lg w-1/3"})]})]})]}),r=()=>h.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl overflow-hidden border border-white/5 animate-pulse p-6",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[h.jsxs("div",{className:"w-full md:w-2/3",children:[h.jsx("div",{className:"h-96 bg-white/5 rounded-xl"}),h.jsxs("div",{className:"mt-6 space-y-4",children:[h.jsx("div",{className:"h-8 bg-white/5 rounded-lg w-1/2"}),h.jsx("div",{className:"h-24 bg-white/5 rounded-lg"})]})]}),h.jsxs("div",{className:"w-full md:w-1/3 space-y-6",children:[h.jsx("div",{className:"h-12 bg-white/5 rounded-lg"}),h.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>h.jsx("div",{className:"h-10 bg-white/5 rounded-lg"},i))}),h.jsx("div",{className:"h-14 bg-white/5 rounded-lg"})]})]})});return h.jsx("div",{className:"grid gap-6",children:Array.from({length:e}).map((i,s)=>h.jsx(Ga.Fragment,{children:n==="card"?t():r()},s))})},AR=({message:n,type:e="info",duration:t=3e3,onClose:r})=>{const[i,s]=se.useState(!0);se.useEffect(()=>{const u=setTimeout(()=>{s(!1),r()},t);return()=>clearTimeout(u)},[t,r]);const a={success:h.jsx(Cy,{className:"text-green-400 text-xl"}),error:h.jsx(lA,{className:"text-red-400 text-xl"}),info:h.jsx(w_,{className:"text-blue-400 text-xl"})},l={success:"bg-green-500/10 border-green-500/20",error:"bg-red-500/10 border-red-500/20",info:"bg-blue-500/10 border-blue-500/20"};return H8.createPortal(h.jsx("div",{className:`fixed bottom-4 right-4 z-50 transform transition-transform duration-300 ${i?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,children:h.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border backdrop-blur-lg ${l[e]}`,children:[a[e],h.jsx("p",{className:"text-white",children:n})]})}),document.body)},fN=se.createContext(null),ER=({children:n})=>{const[e,t]=se.useState([]),r=se.useCallback((s,a="info",l=3e3)=>{const u=Date.now();t(d=>[...d,{id:u,message:s,type:a,duration:l}])},[]),i=se.useCallback(s=>{t(a=>a.filter(l=>l.id!==s))},[]);return h.jsxs(fN.Provider,{value:{showToast:r},children:[n,e.map(s=>h.jsx(AR,{message:s.message,type:s.type,duration:s.duration,onClose:()=>i(s.id)},s.id))]})},Rv=()=>{const n=se.useContext(fN);if(!n)throw new Error("useToast must be used within a ToastProvider");return n},TR=()=>{const{showToast:n}=Rv(),e=As(),t=new URLSearchParams(e.search),[r,i]=se.useState([]),[s,a]=se.useState(!1),[l,u]=se.useState(""),[d,p]=se.useState(""),[y,b]=se.useState(!1),[v,S]=se.useState([0,1e4]),[A,T]=se.useState([]),[E,M]=se.useState([]),[q,re]=se.useState(t.get("location")||""),[J,te]=se.useState(t.get("start")||""),[L,C]=se.useState(t.get("end")||""),[B,z]=se.useState(t.get("showAll")==="true");se.useEffect(()=>{(async()=>{try{a(!0);const ae=Cn(Lt,"vehicles"),ge=ks(ae,Xs("type","==","car")),V=(await Yn(ge)).docs.map(K=>({id:K.id,...K.data()})).sort((K,ee)=>K.name.localeCompare(ee.name));i(V),console.log("Loaded cars:",V)}catch(ae){console.error("Error loading cars:",ae),u("Failed to load cars. Please try again later."),n("Failed to load cars. Please try again later.","error")}finally{a(!1)}})()},[]);const j=Array.from(new Set(r.map(oe=>oe.transmission))),P=Array.from(new Set(r.map(oe=>oe.fuel)));se.useEffect(()=>{const oe=new URLSearchParams(e.search);re(oe.get("location")||""),te(oe.get("start")||""),C(oe.get("end")||""),z(oe.get("showAll")==="true"),oe.get("location")&&p(oe.get("location")||"")},[e.search]);const O=oe=>{A.includes(oe)?T(A.filter(ae=>ae!==oe)):T([...A,oe])},ne=oe=>{E.includes(oe)?M(E.filter(ae=>ae!==oe)):M([...E,oe])},de=()=>{S([0,1e4]),T([]),M([]),p("")},ye=r.filter(oe=>{const ae=oe.name.toLowerCase().includes(d.toLowerCase())||q&&q.toLowerCase().includes(d.toLowerCase()),ge=oe.price>=v[0]&&oe.price<=v[1],me=A.length===0||oe.transmission&&A.includes(oe.transmission),Z=E.length===0||oe.fuel&&E.includes(oe.fuel);return ae&&ge&&me&&Z});return s?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 p-8",children:[h.jsx(is,{variant:"cars"}),h.jsxs("div",{className:"container mx-auto",children:[h.jsx("div",{className:"text-center mb-12",children:h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:"Loading Cars"})}),h.jsx(dN,{type:"card",count:6})]})]}):l?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:[h.jsx(is,{variant:"cars"}),h.jsx("div",{className:"bg-red-500/10 backdrop-blur-lg p-6 rounded-xl border border-red-500/20",children:h.jsx("p",{className:"text-red-500",children:l})})]}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-white",children:[h.jsx(is,{variant:"cars"}),s&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),h.jsx("p",{className:"mt-4 text-lg",children:"Loading cars..."})]})}),l&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:h.jsx("div",{className:"bg-red-500/10 p-6 rounded-lg backdrop-blur-sm border border-red-500/20",children:h.jsx("p",{className:"text-red-400",children:l})})}),h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:"Rent a Car in Andhra & Telangana"}),h.jsx("p",{className:"text-gray-400 text-lg",children:"Choose from our wide selection of cars for your journey"})]}),h.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-lg p-4 mb-8 border border-white/10",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"relative",children:[h.jsx(yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search by car name or location...",value:d,onChange:oe=>p(oe.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 rounded-lg border border-white/10 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),h.jsxs("button",{onClick:()=>b(!y),className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg transition-colors",children:[h.jsx(Yg,{}),"Filters"]})]})}),y&&h.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-lg p-6 mb-8 border border-white/10",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Price Range ()"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("input",{type:"range",min:"0",max:"10000",step:"500",value:v[1],onChange:oe=>S([v[0],parseInt(oe.target.value)]),className:"w-full"}),h.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[h.jsxs("span",{children:["",v[0]]}),h.jsxs("span",{children:["",v[1]]})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transmission"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(oe=>h.jsx("button",{onClick:()=>O(oe),className:`px-3 py-1 rounded-full text-sm ${A.includes(oe)?"bg-blue-500 text-white":"bg-white/5 hover:bg-white/10"}`,children:oe},oe))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fuel Type"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(oe=>h.jsx("button",{onClick:()=>ne(oe),className:`px-3 py-1 rounded-full text-sm ${E.includes(oe)?"bg-blue-500 text-white":"bg-white/5 hover:bg-white/10"}`,children:oe},oe))})]})]}),h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsx("button",{onClick:de,className:"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 rounded-lg transition-colors",children:"Reset Filters"})})]}),(d||v[1]<1e4||A.length>0||E.length>0)&&h.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-lg p-4 mb-8 border border-white/10",children:h.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[h.jsx("span",{className:"text-gray-400",children:"Showing results for:"}),d&&h.jsxs("span",{className:"flex items-center gap-2 bg-blue-500/10 px-3 py-1 rounded-full",children:[h.jsx(yh,{className:"text-blue-400"}),d]}),v[1]<1e4&&h.jsxs("span",{className:"flex items-center gap-2 bg-blue-500/10 px-3 py-1 rounded-full",children:[h.jsx(Lf,{className:"text-blue-400"}),"Up to ",v[1]]}),A.length>0&&h.jsxs("span",{className:"flex items-center gap-2 bg-blue-500/10 px-3 py-1 rounded-full",children:[h.jsx(y2,{className:"text-blue-400"}),A.join(", ")]}),E.length>0&&h.jsxs("span",{className:"flex items-center gap-2 bg-blue-500/10 px-3 py-1 rounded-full",children:[h.jsx(Qg,{className:"text-blue-400"}),E.join(", ")]})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ye.map(oe=>h.jsx(hN,{vehicle:oe},oe.id))}),ye.length===0&&!s&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No vehicles found"}),h.jsx("p",{className:"text-gray-400 mb-4",children:"Try adjusting your search or filters"}),h.jsx("button",{onClick:de,className:"px-4 py-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg transition-colors",children:"Reset Filters"})]})]})]})},IR=()=>{const{showToast:n}=Rv(),e=As(),t=new URLSearchParams(e.search),[r,i]=se.useState([]),[s,a]=se.useState(!1),[l,u]=se.useState(""),[d,p]=se.useState(""),[y,b]=se.useState(!1),[v,S]=se.useState([0,5e3]),[A,T]=se.useState([]),[E,M]=se.useState([]),[q,re]=se.useState(t.get("location")||""),[J,te]=se.useState(t.get("start")||""),[L,C]=se.useState(t.get("end")||""),[B,z]=se.useState(t.get("showAll")==="true");se.useEffect(()=>{(async()=>{try{a(!0);const ae=Cn(Lt,"vehicles"),ge=ks(ae,Xs("type","==","bike")),V=(await Yn(ge)).docs.map(K=>({id:K.id,...K.data()})).sort((K,ee)=>K.name.localeCompare(ee.name));i(V),console.log("Loaded bikes:",V)}catch(ae){console.error("Error loading bikes:",ae),u("Failed to load bikes. Please try again later."),n("Failed to load bikes. Please try again later.","error")}finally{a(!1)}})()},[]);const j=Array.from(new Set(r.map(oe=>oe.brand))),P=Array.from(new Set(r.map(oe=>oe.fuel))),O=oe=>{A.includes(oe)?T(A.filter(ae=>ae!==oe)):T([...A,oe])},ne=oe=>{E.includes(oe)?M(E.filter(ae=>ae!==oe)):M([...E,oe])},de=()=>{S([0,5e3]),T([]),M([]),p("")},ye=r.filter(oe=>{const ae=oe.name.toLowerCase().includes(d.toLowerCase())||q&&q.toLowerCase().includes(d.toLowerCase()),ge=oe.price>=v[0]&&oe.price<=v[1],me=A.length===0||A.includes(oe.brand),Z=E.length===0||E.includes(oe.fuel);return ae&&ge&&me&&Z});return s?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 p-8",children:[h.jsx(is,{variant:"bikes"}),h.jsxs("div",{className:"container mx-auto",children:[h.jsx("div",{className:"text-center mb-12",children:h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:"Loading Bikes"})}),h.jsx(dN,{type:"card",count:6})]})]}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-white",children:[h.jsx(is,{variant:"bikes"}),s&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),h.jsx("p",{className:"mt-4 text-lg",children:"Loading bikes..."})]})}),l&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:h.jsx("div",{className:"bg-red-500/10 p-6 rounded-lg backdrop-blur-sm border border-red-500/20",children:h.jsx("p",{className:"text-red-400",children:l})})}),h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:"Rent a Bike in Andhra & Telangana"}),h.jsx("p",{className:"text-gray-400 text-lg",children:"Choose from our wide selection of bikes for your journey"})]}),h.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-lg p-4 mb-8 border border-white/10",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"relative",children:[h.jsx(yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search by bike name or location...",value:d,onChange:oe=>p(oe.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 rounded-lg border border-white/10 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),h.jsxs("button",{onClick:()=>b(!y),className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg transition-colors",children:[h.jsx(Yg,{}),"Filters"]})]})}),y&&h.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-lg p-6 mb-8 border border-white/10",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Price Range ()"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("input",{type:"range",min:"0",max:"5000",step:"100",value:v[1],onChange:oe=>S([v[0],parseInt(oe.target.value)]),className:"w-full"}),h.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[h.jsxs("span",{children:["",v[0]]}),h.jsxs("span",{children:["",v[1]]})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Brand"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(oe=>h.jsx("button",{onClick:()=>O(oe),className:`px-3 py-1 rounded-full text-sm ${A.includes(oe)?"bg-blue-500 text-white":"bg-white/5 hover:bg-white/10"}`,children:oe},oe))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fuel Type"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(oe=>h.jsx("button",{onClick:()=>ne(oe),className:`px-3 py-1 rounded-full text-sm ${E.includes(oe)?"bg-blue-500 text-white":"bg-white/5 hover:bg-white/10"}`,children:oe},oe))})]})]}),h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsx("button",{onClick:de,className:"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 rounded-lg transition-colors",children:"Reset Filters"})})]}),(d||v[1]<5e3||A.length>0||E.length>0)&&h.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-lg p-4 mb-8 border border-white/10",children:h.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[h.jsx("span",{className:"text-gray-400",children:"Showing results for:"}),d&&h.jsxs("span",{className:"flex items-center gap-2 bg-blue-500/10 px-3 py-1 rounded-full",children:[h.jsx(yh,{className:"text-blue-400"}),d]}),v[1]<5e3&&h.jsxs("span",{className:"flex items-center gap-2 bg-blue-500/10 px-3 py-1 rounded-full",children:[h.jsx(Lf,{className:"text-blue-400"}),"Up to ",v[1]]}),A.length>0&&h.jsxs("span",{className:"flex items-center gap-2 bg-blue-500/10 px-3 py-1 rounded-full",children:[h.jsx(mp,{className:"text-blue-400"}),A.join(", ")]}),E.length>0&&h.jsxs("span",{className:"flex items-center gap-2 bg-blue-500/10 px-3 py-1 rounded-full",children:[h.jsx(Qg,{className:"text-blue-400"}),E.join(", ")]})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ye.map(oe=>h.jsx(hN,{vehicle:oe},oe.id))}),ye.length===0&&!s&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No bikes found"}),h.jsx("p",{className:"text-gray-400 mb-4",children:"Try adjusting your search or filters"}),h.jsx("button",{onClick:de,className:"px-4 py-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg transition-colors",children:"Reset Filters"})]})]})]})},PR=()=>{const n=[{icon:h.jsx(ba,{className:"w-6 h-6"}),title:"Premium Vehicles",description:"Access to a wide range of well-maintained cars and bikes from leading manufacturers."},{icon:h.jsx(N_,{className:"w-6 h-6"}),title:"Safe & Secure",description:"All vehicles are regularly serviced and sanitized for your safety and peace of mind."},{icon:h.jsx(Ah,{className:"w-6 h-6"}),title:"24/7 Support",description:"Round-the-clock customer support to assist you with any queries or concerns."},{icon:h.jsx(fA,{className:"w-6 h-6"}),title:"Regional Coverage",description:"Extensive network of pickup and drop locations across Andhra Pradesh and Telangana."}],e=[{value:"1000+",label:"Happy Customers"},{value:"160+",label:"Total Vehicles"},{value:"20+",label:"Cities"},{value:"4.8/5",label:"Customer Rating"}];return h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx(is,{variant:"about"}),h.jsxs("div",{className:"container mx-auto px-4 py-16 relative z-10",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-6",children:"About RentWheels"}),h.jsx("p",{className:"text-gray-400 text-lg max-w-3xl mx-auto",children:"Your trusted partner for hassle-free vehicle rentals in Andhra Pradesh and Telangana. We provide premium cars and bikes with transparent pricing and exceptional service."})]}),h.jsx("div",{className:"max-w-4xl mx-auto mb-20",children:h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-700/30 transform hover:scale-105 transition-all duration-300",children:[h.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-4",children:"Our Mission"}),h.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"To revolutionize the vehicle rental experience in Andhra Pradesh and Telangana by providing high-quality vehicles, transparent pricing, and exceptional customer service. We aim to make mobility accessible, convenient, and enjoyable for everyone in our service regions."})]})}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-20",children:e.map((t,r)=>h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-6 rounded-2xl border border-gray-700/30 text-center transform hover:scale-105 transition-all duration-300",children:[h.jsx("div",{className:"text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-2",children:t.value}),h.jsx("div",{className:"text-gray-400",children:t.label})]},r))}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:n.map((t,r)=>h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-700/30 transform hover:scale-105 transition-all duration-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:t.icon}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),h.jsx("p",{className:"text-gray-400",children:t.description})]})]})},r))}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-700/30 transform hover:scale-105 transition-all duration-300",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx(ba,{className:"w-8 h-8 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600"}),h.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Cars (100+ Fleet)"})]}),h.jsx("p",{className:"text-gray-400 mb-4",children:"Choose from our fleet of 100+ well-maintained cars. From economical hatchbacks to luxury sedans, we offer a diverse range to suit every need and budget across Andhra Pradesh and Telangana."}),h.jsxs("ul",{className:"text-gray-400 space-y-2",children:[h.jsx("li",{children:" Hatchbacks & Sedans"}),h.jsx("li",{children:" Premium & Luxury Cars"}),h.jsx("li",{children:" SUVs & MUVs"}),h.jsx("li",{children:" Electric Vehicles"})]})]}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-700/30 transform hover:scale-105 transition-all duration-300",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx(mp,{className:"w-8 h-8 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600"}),h.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Bikes (60+ Fleet)"})]}),h.jsx("p",{className:"text-gray-400 mb-4",children:"Explore our collection of 60+ bikes perfect for your journeys across the Telugu states. From daily commuters to powerful cruisers, find your ideal two-wheeler."}),h.jsxs("ul",{className:"text-gray-400 space-y-2",children:[h.jsx("li",{children:" Commuter Bikes"}),h.jsx("li",{children:" Sports Bikes"}),h.jsx("li",{children:" Cruiser Bikes"}),h.jsx("li",{children:" Electric Scooters"})]})]})]})]})]})})},jR=()=>{const[n,e]=se.useState({name:"",email:"",phone:"",message:""}),t=s=>{e({...n,[s.target.name]:s.target.value})},r=s=>{s.preventDefault(),console.log("Form submitted:",n)},i=[{icon:h.jsx(Ly,{className:"w-5 h-5"}),title:"Phone",details:"+91 9876543210",link:"tel:+919876543210"},{icon:h.jsx(nA,{className:"w-5 h-5"}),title:"WhatsApp",details:"+91 9876543210",link:"https://wa.me/919876543210"},{icon:h.jsx(Fd,{className:"w-5 h-5"}),title:"Email",details:"support@rentwheels.com",link:"mailto:support@rentwheels.com"},{icon:h.jsx(Ah,{className:"w-5 h-5"}),title:"Working Hours",details:"24/7 Service",link:null}];return h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx(is,{variant:"contact"}),h.jsxs("div",{className:"container mx-auto px-4 py-16 relative z-10",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 mb-4",children:"Contact Us"}),h.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Have questions? We're here to help. Reach out to us through any of the following channels or fill out the contact form below."})]}),h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-700/30 transform hover:scale-105 transition-all duration-300",children:[h.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Get in Touch"}),h.jsx("div",{className:"space-y-6",children:i.map((s,a)=>h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600",children:s.icon}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-medium",children:s.title}),s.link?h.jsx("a",{href:s.link,className:"text-gray-400 hover:text-purple-400 transition-colors",target:s.title==="WhatsApp"?"_blank":void 0,rel:s.title==="WhatsApp"?"noopener noreferrer":void 0,children:s.details}):h.jsx("p",{className:"text-gray-400",children:s.details})]})]},a))})]}),h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-700/30 transform hover:scale-105 transition-all duration-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600",children:h.jsx(fh,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-medium mb-2",children:"Office Location"}),h.jsxs("p",{className:"text-gray-400",children:["123 Main Street",h.jsx("br",{}),"Hyderabad, Telangana 500001",h.jsx("br",{}),"India"]})]})]})})]}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-700/30 transform hover:scale-105 transition-all duration-300",children:[h.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Send us a Message"}),h.jsxs("form",{onSubmit:r,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-gray-400 mb-2",children:"Name"}),h.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:t,className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-gray-400 mb-2",children:"Email"}),h.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:t,className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"phone",className:"block text-gray-400 mb-2",children:"Phone"}),h.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:t,className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-gray-400 mb-2",children:"Message"}),h.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:t,rows:"4",className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),h.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 font-medium",children:"Send Message"})]})]})]})})]})]})})},CR=()=>{const{id:n}=Ay(),e=kl(),[t,r]=se.useState(null),[i,s]=se.useState(!0),[a,l]=se.useState(null);return se.useEffect(()=>{(async()=>{try{s(!0);const d=Er(Lt,"vehicles",n),p=await Ru(d);p.exists()?r({id:p.id,...p.data()}):l("Vehicle not found")}catch(d){console.error("Error fetching vehicle:",d),l("Failed to fetch vehicle details")}finally{s(!1)}})()},[n]),i?h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})})}):a||!t?h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsxs("div",{className:"container mx-auto px-4 text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:a||"Vehicle not found"}),h.jsx(An,{to:"/",className:"text-blue-600 hover:text-blue-700",children:"Return to Home"})]})}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:[h.jsx("div",{className:"relative overflow-hidden",children:h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-blob"}),h.jsx("div",{className:"absolute top-0 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-blob animation-delay-2000"}),h.jsx("div",{className:"absolute -bottom-40 left-20 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-[100px] opacity-50 animate-blob animation-delay-4000"})]})}),h.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[h.jsx("div",{className:"mb-6",children:h.jsxs(An,{to:"/",className:"inline-flex items-center text-blue-400 hover:text-blue-300 transition-colors group",children:[h.jsx("svg",{className:"w-5 h-5 mr-2 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Vehicles"]})}),h.jsx("div",{className:"bg-gray-800/50 backdrop-blur-lg rounded-2xl overflow-hidden border border-gray-700/50 shadow-neon-blue",children:h.jsxs("div",{className:"md:flex",children:[h.jsxs("div",{className:"md:w-3/5 relative group",children:[h.jsx("div",{className:"aspect-w-16 aspect-h-9 overflow-hidden",children:h.jsx("img",{src:t.image||(t.type==="car"?"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80":"https://images.unsplash.com/photo-1558981403-c5f9899a28bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"),alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})}),h.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-neon-purple",children:t.type==="car"?"Car":"Bike"})]}),h.jsx("div",{className:"md:w-2/5 p-8 bg-gray-800/30",children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:t.name}),h.jsxs("div",{className:"flex items-center text-yellow-400",children:[h.jsx(Fn,{className:"mr-1"}),h.jsx("span",{className:"font-semibold",children:t.rating})]})]}),h.jsxs("div",{className:"flex items-center text-gray-400 mb-6",children:[h.jsx(fh,{className:"text-blue-400 mr-2"}),h.jsx("span",{children:t.location||"Multiple locations"})]})]}),h.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-xl mb-6 flex-grow border border-gray-700/50",children:[h.jsx("h2",{className:"text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-4",children:"Vehicle Specifications"}),h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.seats&&h.jsxs("div",{className:"flex items-center bg-gray-800/50 p-3 rounded-lg border border-gray-700/50 hover:border-blue-500/50 transition-colors",children:[h.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg mr-3",children:h.jsx(Xg,{className:"text-blue-400 text-lg"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-gray-400",children:"Seating"}),h.jsxs("div",{className:"font-medium text-gray-200",children:[t.seats," Seats"]})]})]}),t.transmission&&h.jsxs("div",{className:"flex items-center bg-gray-800/50 p-3 rounded-lg border border-gray-700/50 hover:border-purple-500/50 transition-colors",children:[h.jsx("div",{className:"bg-purple-900/30 p-2 rounded-lg mr-3",children:h.jsx(ba,{className:"text-purple-400 text-lg"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-gray-400",children:"Transmission"}),h.jsx("div",{className:"font-medium text-gray-200",children:t.transmission})]})]}),t.fuelType&&h.jsxs("div",{className:"flex items-center bg-gray-800/50 p-3 rounded-lg border border-gray-700/50 hover:border-pink-500/50 transition-colors",children:[h.jsx("div",{className:"bg-pink-900/30 p-2 rounded-lg mr-3",children:h.jsx(Qg,{className:"text-pink-400 text-lg"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-gray-400",children:"Fuel Type"}),h.jsx("div",{className:"font-medium text-gray-200",children:t.fuelType})]})]}),t.availability&&h.jsxs("div",{className:"flex items-center bg-gray-800/50 p-3 rounded-lg border border-gray-700/50 hover:border-green-500/50 transition-colors",children:[h.jsx("div",{className:"bg-green-900/30 p-2 rounded-lg mr-3",children:h.jsx(Ah,{className:"text-green-400 text-lg"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-gray-400",children:"Availability"}),h.jsx("div",{className:"font-medium text-gray-200",children:t.availability})]})]})]})]}),h.jsx("div",{className:"mt-auto",children:h.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-xl border border-gray-700/50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-gray-400 text-sm",children:"Price per day"}),h.jsxs("div",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mt-1",children:["",t.price]})]}),h.jsx("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl transform transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-900 shadow-neon-purple hover:shadow-neon-blue",onClick:()=>e(`/booking/${t.id}`),children:"Book Now"})]}),h.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"* Price includes basic insurance and taxes"})]})})]})})]})})]})]})},W2=[{name:"Maruti Alto",brand:"Maruti",model:"Alto",category:"Basic",fuel:"Petrol",transmission:"Manual",seats:"5",price:"900",hourlyRate:"250",rating:"4.2"},{name:"Hyundai Santro",brand:"Hyundai",model:"Santro",category:"Basic",fuel:"Petrol",transmission:"Manual",seats:"5",price:"950",hourlyRate:"250",rating:"4.3"},{name:"Tata Tiago",brand:"Tata",model:"Tiago",category:"Basic",fuel:"Petrol",transmission:"Manual",seats:"5",price:"1000",hourlyRate:"250",rating:"4.4"},{name:"Hyundai i20",brand:"Hyundai",model:"i20",category:"Moderate",fuel:"Petrol",transmission:"Automatic",seats:"5",price:"1400",hourlyRate:"400",rating:"4.6"},{name:"Tata Nexon",brand:"Tata",model:"Nexon",category:"Moderate",fuel:"Petrol",transmission:"Automatic",seats:"5",price:"1600",hourlyRate:"400",rating:"4.5"},{name:"Honda Amaze",brand:"Honda",model:"Amaze",category:"Moderate",fuel:"Diesel",transmission:"Manual",seats:"5",price:"1500",hourlyRate:"400",rating:"4.4"},{name:"Toyota Fortuner",brand:"Toyota",model:"Fortuner",category:"Luxury",fuel:"Diesel",transmission:"Automatic",seats:"7",price:"3500",hourlyRate:"600",rating:"4.8"},{name:"BMW X1",brand:"BMW",model:"X1",category:"Luxury",fuel:"Petrol",transmission:"Automatic",seats:"5",price:"5000",hourlyRate:"600",rating:"4.9"},{name:"Audi Q3",brand:"Audi",model:"Q3",category:"Luxury",fuel:"Petrol",transmission:"Automatic",seats:"5",price:"5200",hourlyRate:"600",rating:"4.8"}],$2=[{name:"TVS Sport",brand:"TVS",model:"Sport",category:"Basic",fuel:"Petrol",price:"300",hourlyRate:"20",rating:"4.1",availabilityStatus:"TRUE"},{name:"Hero Splendor",brand:"Hero",model:"Splendor",category:"Basic",fuel:"Petrol",price:"350",hourlyRate:"25",rating:"4.2",availabilityStatus:"TRUE"},{name:"Yamaha FZ",brand:"Yamaha",model:"FZ",category:"Moderate",fuel:"Petrol",price:"550",hourlyRate:"40",rating:"4.4",availabilityStatus:"TRUE"},{name:"Royal Enfield Himalayan",brand:"Royal Enfield",model:"Himalayan",category:"Luxury",fuel:"Petrol",price:"900",hourlyRate:"60",rating:"4.7",availabilityStatus:"TRUE"}],RR={"Maruti Alto":"/public/assets/maruti-alto.jpg","Hyundai Santro":"/public/assets/hyundai-santro.jpg","Tata Tiago":"/public/assets/tata-tiago.jpg","Hyundai i20":"/public/assets/hyundai-i20.jpg","Tata Nexon":"/public/assets/tata-nexon.jpg","Honda Amaze":"/public/assets/honda-amaze.jpg","Toyota Fortuner":"/public/assets/toyota-fortuner.jpg","BMW X1":"/public/assets/bmw-x1.jpg","Audi Q3":"/public/assets/audi-q3.jpg",default:"/public/assets/default-car.jpg"},LR={"TVS Sport":"/public/assets/tvs-sport.jpg","Hero Splendor":"/public/assets/hero-splendor.jpg","Yamaha FZ":"/public/assets/yamaha-fz.jpg","Royal Enfield Himalayan":"/public/assets/royal-enfield-himalayan.jpg",default:"/public/assets/default-bike.jpg"};function Lv(n){return decodeURIComponent(n)}function pN(n,e){const t=Lv(n),r=e==="car"?RR:LR;return r[t]||r.default}const Tf=W2.map((n,e)=>({id:`car-${e+1}`,name:Lv(n.name),type:"car",image:pN(n.name,"car"),price:parseInt(n.price),rating:parseFloat(n.rating),seats:parseInt(n.seats),transmission:n.transmission,fuel:n.fuel,brand:n.brand,model:n.model,category:n.category,hourlyRate:parseInt(n.hourlyRate)})),DR=$2.map((n,e)=>({id:`bike-${e+1}`,name:Lv(n.name),type:"bike",image:pN(n.name,"bike"),price:parseInt(n.price),rating:parseFloat(n.rating),brand:n.brand,model:n.model,category:n.category,hourlyRate:parseInt(n.hourlyRate),fuel:n.fuel,availabilityStatus:n.availabilityStatus==="TRUE"})),G2="vehicles",MR=async(n=null)=>{try{let e;return n?e=ks(Cn(Lt,G2),Xs("type","==",n),Xs("availabilityStatus","==",!0)):e=ks(Cn(Lt,G2),Xs("availabilityStatus","==",!0)),(await Yn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching available vehicles:",e),e}},S0=async n=>{try{if(!n)throw console.error("getVehicleById called with no vehicleId"),new Error("Vehicle ID is required");console.log("Getting vehicle document with ID:",n);const e=Er(Lt,G2,n),t=await Ru(e);if(t.exists()){const r={id:n,...t.data()};return console.log("Vehicle found:",r),r}if(n.startsWith("car-")){const r=parseInt(n.split("-")[1]);if(r&&r<=Tf.length){const i=Tf[r-1];return console.log("Returning default car:",i),i}}return console.log("No vehicle found, returning default vehicle (Toyota Camry)"),Tf[0]}catch(e){return console.error("Error in getVehicleById:",e),Tf[0]}},Lu="bookings",OR=async()=>{try{console.log("Checking if bookings collection exists...");const e=!(await Yn(ks(Cn(Lt,Lu),Z6(1)))).empty;return console.log("Bookings collection exists:",e),e}catch(n){return console.error("Error checking bookings collection:",n),!1}},FR=async n=>{try{return(await Cv(Cn(Lt,Lu),{...n,status:"pending",paymentStatus:"pending",createdAt:new Date().toISOString()})).id}catch(e){throw e}},VR=async n=>{try{if(!n)throw new Error("User ID is required");console.log("Fetching bookings for user:",n);const e=ks(Cn(Lt,Lu),Xs("userId","==",n),J6("createdAt","desc")),t=await Yn(e);return console.log("Raw query results:",t.docs.map(r=>({id:r.id,...r.data()}))),t.docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching user bookings:",e),e}},mN=async n=>{try{const e=await Ru(Er(Lt,Lu,n));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw e}},gN=async(n,e,t)=>{try{const r=ks(Cn(Lt,Lu),Xs("vehicleId","==",n),Xs("status","in",["pending","confirmed"]),Xs("startDate","<=",t),Xs("endDate",">=",e));return(await Yn(r)).empty}catch(r){throw r}},BR=async n=>{try{console.log("Cancelling booking with ID:",n);const e=Er(Lt,Lu,n),t=await Ru(e);if(!t.exists())throw new Error("Booking not found");const r=t.data();if(r.status==="cancelled")throw new Error("Booking is already cancelled");if(new Date(r.startDate)<new Date)throw new Error("Cannot cancel a booking that has already started");return await vc(e,{status:"cancelled",updatedAt:new Date().toISOString(),cancelledAt:new Date().toISOString()}),console.log("Booking cancelled successfully"),!0}catch(e){throw console.error("Error cancelling booking:",e),e}},zR=async(n,e,t)=>{try{console.log("Rescheduling booking with ID:",n),console.log("New start date:",e),console.log("New end date:",t);const r=Er(Lt,Lu,n),i=await Ru(r);if(!i.exists())throw new Error("Booking not found");const s=i.data();if(s.status==="cancelled")throw new Error("Cannot reschedule a cancelled booking");const a=new Date(s.startDate),l=new Date;if(a<l)throw new Error("Cannot reschedule a booking that has already started");const u=new Date(e),d=new Date(t);if(isNaN(u.getTime())||isNaN(d.getTime()))throw new Error("Invalid date format");if(u>=d)throw new Error("End date must be after start date");if(u<l)throw new Error("New start date cannot be in the past");if(!await gN(s.vehicleId,e,t))throw new Error("Vehicle is not available for the selected dates");const y=Math.ceil((d-u)/(1e3*60*60)),v=s.totalPrice/Math.ceil((new Date(s.endDate)-new Date(s.startDate))/(1e3*60*60))*y;return await vc(r,{startDate:e,endDate:t,totalPrice:v,status:"pending",updatedAt:new Date().toISOString(),rescheduledAt:new Date().toISOString()}),console.log("Booking rescheduled successfully"),{newStartDate:e,newEndDate:t,newTotalPrice:v}}catch(r){throw console.error("Error rescheduling booking:",r),r}},UR=async()=>{try{console.log("Starting comprehensive booking status check...");const n=new Date,e=n.toISOString(),t=ks(Cn(Lt,Lu),Xs("status","not-in",["cancelled"])),r=await Yn(t);console.log(`Found ${r.size} bookings to check`);const i=r.docs.map(async l=>{const u={id:l.id,...l.data()},d=new Date(u.startDate),p=new Date(u.endDate),y={};let b=!1;return console.log(`Checking booking ${u.id}:`,{status:u.status,paymentStatus:u.paymentStatus,startDate:u.startDate,endDate:u.endDate,currentTime:e}),u.status==="completed"&&u.paymentStatus==="pending"&&(y.status="pending",b=!0,console.log(`Fixing inconsistent completed but unpaid booking ${u.id}`)),u.paymentStatus==="pending"&&d<=n&&(y.status="cancelled",y.paymentStatus="cancelled",y.updatedAt=e,y.cancelledAt=e,y.cancellationReason="Auto-cancelled: Payment not received before start time",b=!0,console.log(`Cancelling unpaid booking ${u.id} that has passed start time`)),u.paymentStatus==="paid"&&p<=n&&u.status!=="completed"&&(y.status="completed",y.updatedAt=e,b=!0,console.log(`Marking paid and finished booking ${u.id} as completed`)),b?(console.log(`Updating booking ${u.id} with:`,y),await vc(l.ref,y),{...u,...y}):null}),a=(await Promise.all(i)).filter(l=>l!==null);return console.log(`Updated ${a.length} bookings out of ${r.size} checked`),console.log("Updated bookings:",a),a}catch(n){throw console.error("Error checking and fixing booking statuses:",n),n}},qR=({city:n,onValidLocation:e,onInvalidLocation:t})=>{const r={"Andhra Pradesh":["Visakhapatnam","Vijayawada","Guntur","Nellore","Kurnool","Kadapa","Tirupati","Kakinada","Rajahmundry","Anantapur","Eluru","Machilipatnam"],Telangana:["Hyderabad","Warangal","Nizamabad","Karimnagar","Ramagundam","Khammam","Mahbubnagar","Nalgonda","Adilabad","Suryapet"]},i=s=>{const a=s.trim().toLowerCase();for(const l in r)if(r[l].some(u=>u.toLowerCase()===a))return!0;return!1};return Ga.useEffect(()=>{n&&(i(n)?e(n):t())},[n,e,t]),null},HR=()=>{const{id:n}=Ay(),e=kl(),t=As(),{user:r}=qo(),i=new URLSearchParams(t.search),[s,a]=se.useState(!1),l=(P,O)=>{if(!P||!O)return 0;const ne=new Date(P),de=new Date(O);return Math.max(1,Math.ceil((de-ne)/(1e3*60*60)))},u=(P,O,ne)=>!P||!O||!ne?0:l(P,O)*ne,d=P=>{if(!P)return"";if(P.includes("T"))return P;try{const O=new Date(P);return isNaN(O.getTime())?"":O.toISOString().substring(0,16)}catch(O){return console.error("Error formatting date:",O),""}},p=P=>{const O=[`${P} Central Mall`,`${P} Railway Station`,`${P} Bus Terminal`,`${P} Airport`,`${P} City Center`];return O[Math.floor(Math.random()*O.length)]},y=()=>{const P=new Date;return P.setSeconds(0),P.toISOString().substring(0,16)},[b,v]=se.useState(null),[S,A]=se.useState(!0),[T,E]=se.useState(""),[M,q]=se.useState({startDate:d(i.get("start")||""),endDate:d(i.get("end")||""),selectedCity:i.get("location")||"",pickupLocation:"",firstName:"",lastName:"",email:"",phone:"",totalPrice:0});if(se.useEffect(()=>{const P=async()=>{try{console.log("Fetching vehicle with ID:",n);const O=await S0(n);if(console.log("Fetched vehicle data:",O),!O){console.error("Vehicle not found in database"),E("Vehicle not found");return}if(v(O),M.startDate&&M.endDate){const ne=u(M.startDate,M.endDate,O.hourlyRate);console.log("Calculated initial price:",ne),q(de=>({...de,totalPrice:ne}))}}catch(O){console.error("Error in fetchVehicle:",O),E("Error loading vehicle details: "+O.message)}finally{A(!1)}};n?(console.log("Starting vehicle fetch for ID:",n),P()):(console.error("No vehicle ID provided"),E("No vehicle ID provided"),A(!1))},[n]),se.useEffect(()=>{M.selectedCity&&q(P=>({...P,pickupLocation:p(M.selectedCity)}))},[M.selectedCity]),se.useEffect(()=>{b&&q(P=>({...P,totalPrice:u(P.startDate,P.endDate,b.hourlyRate)}))},[M.startDate,M.endDate,b]),S)return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:[h.jsx(is,{variant:"default"}),h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600"})]});if(T)return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:[h.jsx(is,{variant:"default"}),h.jsx("div",{className:"bg-red-500/10 backdrop-blur-lg p-6 rounded-xl border border-red-500/20",children:h.jsx("p",{className:"text-red-500",children:T})})]});if(!b)return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:[h.jsx(is,{variant:"default"}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-700/30 text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Vehicle Not Found"}),h.jsx("p",{className:"text-gray-400 mb-8",children:"The vehicle you're looking for doesn't exist or has been removed."}),h.jsx(An,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-300",children:"Back to Home"})]})]});const{name:re,type:J,image:te,price:L,hourlyRate:C}=b,B=P=>{const{name:O,value:ne}=P.target;if(O==="startDate"||O==="endDate")try{const de=new Date(ne);isNaN(de.getTime())?console.error("Invalid date format:",ne):q(ye=>({...ye,[O]:ne}))}catch(de){console.error("Error parsing date:",de)}else q(de=>({...de,[O]:ne}))},z=P=>{P||e("/location-not-served")},j=async P=>{if(P.preventDefault(),E(""),["firstName","lastName","email","phone","startDate","endDate"].filter(de=>!M[de]).length>0){E("Please fill in all required fields");return}if(!r){a(!0);return}A(!0);try{console.log("Starting booking process..."),console.log("Checking availability for vehicle:",n),console.log("Start date:",M.startDate),console.log("End date:",M.endDate);const de=await gN(n,M.startDate,M.endDate);if(console.log("Vehicle availability:",de),!de){E("Vehicle is not available for selected dates"),A(!1);return}console.log("Creating booking with user ID:",r.uid);const ye={userId:r.uid,vehicleId:n,startDate:M.startDate,endDate:M.endDate,totalPrice:M.totalPrice,status:"pending",paymentStatus:"pending",customerDetails:{firstName:M.firstName,lastName:M.lastName,email:M.email,phone:M.phone},createdAt:new Date().toISOString()};console.log("Full booking details:",ye);const oe=await FR(ye);console.log("Booking created successfully with ID:",oe),e("/booking-success",{state:{bookingId:oe,vehicleName:b.name,startDate:M.startDate,endDate:M.endDate,totalPrice:M.totalPrice,customerName:`${M.firstName} ${M.lastName}`}})}catch(de){console.error("Detailed booking error:",de),E("Failed to create booking: "+de.message)}finally{A(!1)}};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:[h.jsx(is,{variant:"default"}),h.jsxs("div",{className:"container mx-auto px-4 py-16 relative z-10",children:[h.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-pink-400 hover:text-pink-300 mb-8 transition-colors",children:[h.jsx(wf,{className:"mr-2"})," Back to Vehicle Details"]}),T&&h.jsx("div",{className:"bg-red-500/10 backdrop-blur-lg p-6 rounded-xl border border-red-500/20 mb-8",children:h.jsx("p",{className:"text-red-500",children:T})}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 overflow-hidden transform hover:scale-[1.01] transition-all duration-300",children:[h.jsxs("div",{className:"p-8 border-b border-gray-700/30",children:[h.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600",children:["Book ",b.name]}),h.jsxs("p",{className:"text-gray-400 mt-2 flex items-center",children:[h.jsx(Lf,{className:"mr-1"}),b.hourlyRate,"/hour"]}),!r&&h.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"You can fill in the details now and login at the final step."})]}),h.jsxs("form",{onSubmit:j,className:"p-8 space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date and Time"}),h.jsxs("div",{className:"relative",children:[h.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"datetime-local",name:"startDate",value:d(M.startDate),onChange:B,min:y(),className:"block w-full pl-10 pr-3 py-3 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date and Time"}),h.jsxs("div",{className:"relative",children:[h.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"datetime-local",name:"endDate",value:d(M.endDate),onChange:B,min:d(M.startDate)||y(),className:"block w-full pl-10 pr-3 py-3 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300",required:!0})]})]})]}),M.startDate&&M.endDate&&h.jsx("div",{className:"bg-pink-500/10 backdrop-blur-lg p-6 rounded-xl border border-pink-500/20 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Duration"}),h.jsxs("p",{className:"text-lg font-medium text-white flex items-center",children:[h.jsx(Ah,{className:"mr-2 text-pink-400"}),l(M.startDate,M.endDate)," hours"]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Rate"}),h.jsxs("p",{className:"text-lg font-medium text-white flex items-center",children:[h.jsx(Lf,{className:"mr-1 text-pink-400"}),b.hourlyRate,"/hour"]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Amount"}),h.jsxs("p",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600 flex items-center",children:[h.jsx(Lf,{className:"mr-1"}),M.totalPrice]})]})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-white",children:"Personal Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name"}),h.jsx("input",{type:"text",name:"firstName",value:M.firstName,onChange:B,className:"block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name"}),h.jsx("input",{type:"text",name:"lastName",value:M.lastName,onChange:B,className:"block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),h.jsx("input",{type:"email",name:"email",value:M.email,onChange:B,className:"block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone"}),h.jsx("input",{type:"tel",name:"phone",value:M.phone,onChange:B,className:"block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300",required:!0})]})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-pink-600 to-purple-600 text-white py-4 px-6 rounded-xl hover:from-pink-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:bg-gray-600 transition-all duration-300 transform hover:scale-[1.02]",disabled:S||!M.startDate||!M.endDate,children:h.jsx("div",{className:"flex items-center justify-center gap-2",children:S?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):r?h.jsxs(h.Fragment,{children:[h.jsx(g2,{className:"text-lg"}),h.jsx("span",{children:"Confirm Booking"})]}):h.jsxs(h.Fragment,{children:[h.jsx(pp,{className:"text-lg"}),h.jsx("span",{children:"Continue to Login"})]})})})]})]}),h.jsx(qR,{city:M.selectedCity,onValidLocation:()=>{},onInvalidLocation:z})]}),h.jsx(uN,{isOpen:s,onClose:()=>a(!1)})]})},WR=()=>{const e=As().state||{};return h.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4 py-12",children:h.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx(Cy,{className:"text-green-500 text-6xl"})}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Booking Confirmed!"}),h.jsx("p",{className:"text-gray-600 mb-8",children:"Thank you for choosing our service. Your booking has been successfully processed."}),e.bookingId&&h.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-gray-500",children:"Booking Reference"}),h.jsx("p",{className:"text-xl font-bold",children:e.bookingId})]}),h.jsxs("div",{className:"space-y-3 text-left",children:[e.vehicleName&&h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-sm",children:"Vehicle"}),h.jsx("p",{className:"font-medium",children:e.vehicleName})]}),e.startDate&&e.endDate&&h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-sm",children:"Booking Period"}),h.jsxs("p",{className:"font-medium",children:[new Date(e.startDate).toLocaleString()," - ",new Date(e.endDate).toLocaleString()]})]}),e.customerName&&h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-sm",children:"Customer"}),h.jsx("p",{className:"font-medium",children:e.customerName})]}),e.totalPrice&&h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-sm",children:"Total Amount"}),h.jsxs("p",{className:"font-medium text-green-600",children:["",e.totalPrice]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[e.bookingId&&h.jsxs(An,{to:`/payment/${e.bookingId}`,className:"block w-full bg-green-600 text-white py-3 px-6 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center justify-center",children:[h.jsx(pp,{className:"mr-2"}),"Pay Now"]}),h.jsxs(An,{to:"/my-bookings",className:"block w-full bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 transition-colors duration-300 flex items-center justify-center",children:[h.jsx(gA,{className:"mr-2"}),"View My Bookings"]}),h.jsxs(An,{to:"/",className:"block w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-md hover:bg-gray-200 transition-colors duration-300 flex items-center justify-center",children:[h.jsx(Ry,{className:"mr-2"}),"Return to Home"]}),h.jsxs(An,{to:"/cars",className:"block w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-md hover:bg-gray-200 transition-colors duration-300 flex items-center justify-center",children:[h.jsx(dA,{className:"mr-2"}),"Browse More Vehicles"]})]})]})})},$R=15*60*1e3,GR=new gl,KR=new ic;class YR{constructor(){this.auth=b3(),this.setupTokenRefresh()}setupTokenRefresh(){setInterval(async()=>{const e=this.auth.currentUser;if(e){const t=await e.getIdToken(!0);localStorage.setItem("authToken",t)}},$R)}async signUpWithEmail(e,t){try{const r=await o3(jo,e,t);return await this.sendVerificationEmail(r.user),r}catch(r){throw this.handleAuthError(r)}}async signInWithEmail(e,t){try{const r=await l3(jo,e,t);return await this.updateAuthToken(r.user),r}catch(r){throw this.handleAuthError(r)}}async signInWithGoogle(){try{const e=await A2(jo,GR);return await this.updateAuthToken(e.user),e}catch(e){throw this.handleAuthError(e)}}async signInWithFacebook(){try{const e=await A2(jo,KR);return await this.updateAuthToken(e.user),e}catch(e){throw this.handleAuthError(e)}}async sendVerificationEmail(e){try{await ZT(e)}catch(t){throw this.handleAuthError(t)}}async resetPassword(e){try{await JT(jo,e)}catch(t){throw this.handleAuthError(t)}}async updateAuthToken(e){const t=await e.getIdToken();localStorage.setItem("authToken",t)}async verifyRecaptcha(e){try{return console.log("Verifying reCAPTCHA token..."),e?(console.log("reCAPTCHA verification successful"),!0):(console.log("reCAPTCHA verification failed: No token"),!1)}catch(t){return console.error("reCAPTCHA verification failed:",t),!1}}handleAuthError(e){console.error("Auth error:",e);let t="An error occurred during authentication.";switch(e.code){case"auth/email-already-in-use":t="This email is already registered.";break;case"auth/invalid-email":t="Invalid email address.";break;case"auth/operation-not-allowed":t="This authentication method is not enabled.";break;case"auth/weak-password":t="Password is too weak.";break;case"auth/user-disabled":t="This account has been disabled.";break;case"auth/user-not-found":t="No account found with this email.";break;case"auth/wrong-password":t="Incorrect password.";break;case"auth/popup-closed-by-user":t="Sign in popup was closed before completion.";break}return new Error(t)}}const B1=new YR;var z1={exports:{}},U1,sw;function QR(){if(sw)return U1;sw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return U1=n,U1}var q1,aw;function XR(){if(aw)return q1;aw=1;var n=QR();function e(){}function t(){}return t.resetWarningCache=e,q1=function(){function r(a,l,u,d,p,y){if(y!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},q1}var ow;function JR(){return ow||(ow=1,z1.exports=XR()()),z1.exports}var ZR=JR();const Gs=Wg(ZR);var eL=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function K2(){return K2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},K2.apply(this,arguments)}function tL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function bm(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Y2(n,e)}function Y2(n,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y2(n,e)}var k0=function(n){nL(e,n);function e(){var r;return r=n.call(this)||this,r.handleExpired=r.handleExpired.bind(bm(r)),r.handleErrored=r.handleErrored.bind(bm(r)),r.handleChange=r.handleChange.bind(bm(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(bm(r)),r}var t=e.prototype;return t.getCaptchaFunction=function(i){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[i]:this.props.grecaptcha[i]:null},t.getValue=function(){var i=this.getCaptchaFunction("getResponse");return i&&this._widgetId!==void 0?i(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var i=this.getCaptchaFunction("execute");if(i&&this._widgetId!==void 0)return i(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var i=this;return new Promise(function(s,a){i.executionResolve=s,i.executionReject=a,i.execute()})},t.reset=function(){var i=this.getCaptchaFunction("reset");i&&this._widgetId!==void 0&&i(this._widgetId)},t.forceReset=function(){var i=this.getCaptchaFunction("reset");i&&i()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(i){this.props.onChange&&this.props.onChange(i),this.executionResolve&&(this.executionResolve(i),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var i=this.getCaptchaFunction("render");if(i&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=i(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(i){this.captcha=i},t.render=function(){var i=this.props;i.sitekey,i.onChange,i.theme,i.type,i.tabindex,i.onExpired,i.onErrored,i.size,i.stoken,i.grecaptcha,i.badge,i.hl,i.isolated;var s=tL(i,eL);return se.createElement("div",K2({},s,{ref:this.handleRecaptchaRef}))},e}(se.Component);k0.displayName="ReCAPTCHA";k0.propTypes={sitekey:Gs.string.isRequired,onChange:Gs.func,grecaptcha:Gs.object,theme:Gs.oneOf(["dark","light"]),type:Gs.oneOf(["image","audio"]),tabindex:Gs.number,onExpired:Gs.func,onErrored:Gs.func,size:Gs.oneOf(["compact","normal","invisible"]),stoken:Gs.string,hl:Gs.string,badge:Gs.oneOf(["bottomright","bottomleft","inline"]),isolated:Gs.bool};k0.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var H1={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function rL(){if(lw)return jn;lw=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,T=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,M=n?Symbol.for("react.scope"):60119;function q(J){if(typeof J=="object"&&J!==null){var te=J.$$typeof;switch(te){case e:switch(J=J.type,J){case u:case d:case r:case s:case i:case y:return J;default:switch(J=J&&J.$$typeof,J){case l:case p:case S:case v:case a:return J;default:return te}}case t:return te}}}function re(J){return q(J)===d}return jn.AsyncMode=u,jn.ConcurrentMode=d,jn.ContextConsumer=l,jn.ContextProvider=a,jn.Element=e,jn.ForwardRef=p,jn.Fragment=r,jn.Lazy=S,jn.Memo=v,jn.Portal=t,jn.Profiler=s,jn.StrictMode=i,jn.Suspense=y,jn.isAsyncMode=function(J){return re(J)||q(J)===u},jn.isConcurrentMode=re,jn.isContextConsumer=function(J){return q(J)===l},jn.isContextProvider=function(J){return q(J)===a},jn.isElement=function(J){return typeof J=="object"&&J!==null&&J.$$typeof===e},jn.isForwardRef=function(J){return q(J)===p},jn.isFragment=function(J){return q(J)===r},jn.isLazy=function(J){return q(J)===S},jn.isMemo=function(J){return q(J)===v},jn.isPortal=function(J){return q(J)===t},jn.isProfiler=function(J){return q(J)===s},jn.isStrictMode=function(J){return q(J)===i},jn.isSuspense=function(J){return q(J)===y},jn.isValidElementType=function(J){return typeof J=="string"||typeof J=="function"||J===r||J===d||J===s||J===i||J===y||J===b||typeof J=="object"&&J!==null&&(J.$$typeof===S||J.$$typeof===v||J.$$typeof===a||J.$$typeof===l||J.$$typeof===p||J.$$typeof===T||J.$$typeof===E||J.$$typeof===M||J.$$typeof===A)},jn.typeOf=q,jn}var cw;function iL(){return cw||(cw=1,H1.exports=rL()),H1.exports}var W1,uw;function sL(){if(uw)return W1;uw=1;var n=iL(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function a(S){return n.isMemo(S)?i:s[S.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,b=Object.prototype;function v(S,A,T){if(typeof A!="string"){if(b){var E=y(A);E&&E!==b&&v(S,E,T)}var M=u(A);d&&(M=M.concat(d(A)));for(var q=a(S),re=a(A),J=0;J<M.length;++J){var te=M[J];if(!t[te]&&!(T&&T[te])&&!(re&&re[te])&&!(q&&q[te])){var L=p(A,te);try{l(S,te,L)}catch{}}}}return S}return W1=v,W1}var aL=sL();const oL=Wg(aL);function Q2(){return Q2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Q2.apply(this,arguments)}function lL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function cL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Eo={},uL=0;function hL(n,e){return e=e||{},function(r){var i=r.displayName||r.name||"Component",s=function(l){cL(u,l);function u(p,y){var b;return b=l.call(this,p,y)||this,b.state={},b.__scriptURL="",b}var d=u.prototype;return d.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+uL++),this.__scriptLoaderID},d.setupScriptURL=function(){return this.__scriptURL=typeof n=="function"?n():n,this.__scriptURL},d.asyncScriptLoaderHandleLoad=function(y){var b=this;this.setState(y,function(){return b.props.asyncScriptOnLoad&&b.props.asyncScriptOnLoad(b.state)})},d.asyncScriptLoaderTriggerOnScriptLoaded=function(){var y=Eo[this.__scriptURL];if(!y||!y.loaded)throw new Error("Script is not loaded.");for(var b in y.observers)y.observers[b](y);delete window[e.callbackName]},d.componentDidMount=function(){var y=this,b=this.setupScriptURL(),v=this.asyncScriptLoaderGetScriptLoaderID(),S=e,A=S.globalName,T=S.callbackName,E=S.scriptId;if(A&&typeof window[A]<"u"&&(Eo[b]={loaded:!0,observers:{}}),Eo[b]){var M=Eo[b];if(M&&(M.loaded||M.errored)){this.asyncScriptLoaderHandleLoad(M);return}M.observers[v]=function(L){return y.asyncScriptLoaderHandleLoad(L)};return}var q={};q[v]=function(L){return y.asyncScriptLoaderHandleLoad(L)},Eo[b]={loaded:!1,observers:q};var re=document.createElement("script");re.src=b,re.async=!0;for(var J in e.attributes)re.setAttribute(J,e.attributes[J]);E&&(re.id=E);var te=function(C){if(Eo[b]){var B=Eo[b],z=B.observers;for(var j in z)C(z[j])&&delete z[j]}};T&&typeof window<"u"&&(window[T]=function(){return y.asyncScriptLoaderTriggerOnScriptLoaded()}),re.onload=function(){var L=Eo[b];L&&(L.loaded=!0,te(function(C){return T?!1:(C(L),!0)}))},re.onerror=function(){var L=Eo[b];L&&(L.errored=!0,te(function(C){return C(L),!0}))},document.body.appendChild(re)},d.componentWillUnmount=function(){var y=this.__scriptURL;if(e.removeOnUnmount===!0)for(var b=document.getElementsByTagName("script"),v=0;v<b.length;v+=1)b[v].src.indexOf(y)>-1&&b[v].parentNode&&b[v].parentNode.removeChild(b[v]);var S=Eo[y];S&&(delete S.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Eo[y])},d.render=function(){var y=e.globalName,b=this.props;b.asyncScriptOnLoad;var v=b.forwardedRef,S=lL(b,["asyncScriptOnLoad","forwardedRef"]);return y&&typeof window<"u"&&(S[y]=typeof window[y]<"u"?window[y]:void 0),S.ref=v,se.createElement(r,S)},u}(se.Component),a=se.forwardRef(function(l,u){return se.createElement(s,Q2({},l,{forwardedRef:u}))});return a.displayName="AsyncScriptLoader("+i+")",a.propTypes={asyncScriptOnLoad:Gs.func},oL(a,r)}}var X2="onloadcallback",dL="grecaptcha";function J2(){return typeof window<"u"&&window.recaptchaOptions||{}}function fL(){var n=J2(),e=n.useRecaptchaNet?"recaptcha.net":"www.google.com";return n.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+X2+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+X2+"&render=explicit"}const pL=hL(fL,{callbackName:X2,globalName:dL,attributes:J2().nonce?{nonce:J2().nonce}:{}})(k0),mL=({onChange:n})=>{console.log("ReCAPTCHA Site Key:",void 0);const e=t=>{console.log("ReCAPTCHA token received:",t?"Valid token received":"No token"),n(t)};return h.jsx("div",{className:"flex justify-center my-4",children:h.jsx(pL,{sitekey:void 0,onChange:e,theme:"dark",onError:()=>console.error("ReCAPTCHA Error occurred"),onExpired:()=>console.log("ReCAPTCHA Expired")})})},gL=()=>{const[n,e]=se.useState(""),[t,r]=se.useState(""),[i,s]=se.useState(""),[a,l]=se.useState(""),[u,d]=se.useState(!1),[p,y]=se.useState(null),b=kl(),v=As(),{user:S}=qo(),{showToast:A}=Rv();se.useEffect(()=>{var E;(E=v.state)!=null&&E.message&&l(v.state.message)},[v]),se.useEffect(()=>{var E;if(S){const M=((E=v.state)==null?void 0:E.from)||"/";b(M,{replace:!0})}},[S,b,v]);const T=async E=>{if(E.preventDefault(),s(""),!p){A("Please complete the reCAPTCHA verification","error");return}d(!0);try{if(!await B1.verifyRecaptcha(p))throw new Error("reCAPTCHA verification failed");const q=await B1.signInWithEmail(n,t);if(!q.user.emailVerified){await B1.sendVerificationEmail(q.user),A("Please verify your email address. A new verification email has been sent.","info");return}A("Successfully logged in!","success")}catch(M){console.error("Login error:",M),A(M.message,"error"),s(M.message)}finally{d(!1)}};return S?null:h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Don't have an account?"," ",h.jsx(An,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign up now"})]})]}),a&&h.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-600 px-4 py-3 rounded-lg relative",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:a})}),i&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg relative",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:i})}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:T,children:[h.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Fd,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter your email",value:n,onChange:E=>e(E.target.value)})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ug,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter your password",value:t,onChange:E=>r(E.target.value)})]})]})]}),h.jsx(mL,{onChange:y}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300 transition-all duration-200",children:u?h.jsxs("span",{className:"flex items-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),h.jsx("div",{className:"mt-6",children:h.jsxs("button",{onClick:handleGoogleSignIn,disabled:u,className:"w-full flex justify-center items-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[h.jsx(FaGoogle,{className:"h-5 w-5 text-red-500 mr-2"}),"Sign in with Google"]})})]})]})})},yL=()=>{const n=kl(),[e,t]=se.useState({email:"",password:"",confirmPassword:"",name:"",phone:""}),[r,i]=se.useState(""),[s,a]=se.useState(!1),l=p=>{const{name:y,value:b}=p.target;t(v=>({...v,[y]:b}))},u=async p=>{if(p.preventDefault(),i(""),a(!0),e.password!==e.confirmPassword){i("Passwords do not match"),a(!1);return}if(e.password.length<6){i("Password must be at least 6 characters long"),a(!1);return}try{await vR(e.email,e.password,e.name,e.phone),n("/")}catch(y){console.error("Registration error:",y),i(y.message.includes("auth/email-already-in-use")?"This email is already registered. Please use a different email or try logging in.":y.message)}finally{a(!1)}},d=async()=>{i(""),a(!0);try{await cN(),n("/")}catch(p){console.error("Google sign-up error:",p),i("Failed to sign up with Google: "+p.message)}finally{a(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create your account"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Already have an account?"," ",h.jsx(An,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign in"})]})]}),r&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg relative",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:r})}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[h.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Sd,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter your full name",value:e.name,onChange:l})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Fd,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter your email",value:e.email,onChange:l})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ly,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter your phone number",value:e.phone,onChange:l})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ug,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Create a password",value:e.password,onChange:l})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ug,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Confirm your password",value:e.confirmPassword,onChange:l})]})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300 transition-all duration-200",children:s?h.jsxs("span",{className:"flex items-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"})})]}),h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or sign up with"})})]}),h.jsx("div",{className:"mt-6",children:h.jsxs("button",{onClick:d,disabled:s,className:"w-full flex justify-center items-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[h.jsx(b_,{className:"h-5 w-5 text-red-500 mr-2"}),"Sign up with Google"]})})]})]})})},vL="rzp_test_4WFgF986wjVwyO",xL=()=>new Promise(n=>{const e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.onload=()=>{n(!0)},e.onerror=()=>{n(!1)},document.body.appendChild(e)}),bL=async(n,e)=>{if(!await xL())throw new Error("Failed to load Razorpay checkout script");if(!window.Razorpay)throw new Error("Razorpay not available");if(!(n!=null&&n.id)||!(n!=null&&n.totalPrice))throw new Error("Invalid booking information");if(!(e!=null&&e.uid)||!(e!=null&&e.email))throw new Error("User information required");return new Promise((r,i)=>{var u;const s=Math.round(n.totalPrice*100),a={key:vL,amount:s,currency:"INR",name:"Ride Rental",description:`Booking for ${((u=n.vehicle)==null?void 0:u.name)||"Vehicle"}`,image:"https://cdn-icons-png.flaticon.com/512/5648/5648197.png",order_id:"",handler:async function(d){try{const p=await wL(d,n.id);r(p)}catch(p){i(p)}},prefill:{name:e.displayName||"Customer",email:e.email||"",contact:e.phone||""},notes:{bookingId:n.id,vehicleId:n.vehicleId,startDate:n.startDate,endDate:n.endDate},theme:{color:"#3B82F6"}},l=new window.Razorpay(a);l.open(),l.on("payment.failed",function(d){i(new Error("Payment failed: "+d.error.description))})})},wL=async(n,e)=>{try{console.log("Payment successful!",n),await _L(e,n.razorpay_payment_id,"paid");const t=await mN(e);let r=null;if(t&&t.vehicleId)try{r=await S0(t.vehicleId)}catch(i){console.warn("Could not fetch vehicle details for receipt",i)}return{success:!0,paymentDetails:{paymentId:n.razorpay_payment_id,orderId:n.razorpay_order_id,signature:n.razorpay_signature,bookingId:e,status:"paid"},booking:t,vehicle:r}}catch(t){throw console.error("Error processing payment success:",t),t}},hw=(n,e)=>{var p,y,b;if(!n||!e)throw new Error("Booking and payment details are required");const t=new Date(n.startDate),r=new Date(n.endDate),i=Math.ceil((r-t)/(1e3*60*60)),s=n.totalPrice||0,l=s*.18,u=s+l;return{receiptNumber:`RCPT-${Date.now()}${Math.random().toString(36).substr(2,4)}`,date:new Date().toISOString(),status:"Paid",customer:{name:(p=n.customerDetails)!=null&&p.firstName?`${n.customerDetails.firstName} ${n.customerDetails.lastName||""}`:"Customer",email:((y=n.customerDetails)==null?void 0:y.email)||"N/A"},booking:{id:n.id,vehicle:((b=n.vehicle)==null?void 0:b.name)||"Vehicle",startDate:t.toISOString(),endDate:r.toISOString(),duration:`${i} hours`},payment:{subtotal:s,tax:l,total:u,method:"Razorpay",id:e.paymentId},company:{name:"Ride Rental",email:"support@riderental.com",phone:"+91 1234567890",address:"123 Main Street, City, State, India"}}},_L=async(n,e,t="paid")=>{try{const r=Er(Lt,"bookings",n);if(!(await Ru(r)).exists())throw new Error(`Booking ${n} not found`);const s={paymentStatus:t,paymentId:e,paymentDate:new Date().toISOString()};return t==="paid"&&(s.status="confirmed"),await vc(r,s),console.log(`Payment status updated to ${t} for booking ${n}`),!0}catch(r){throw console.error("Error updating payment status:",r),r}},NL=({booking:n,onPaymentSuccess:e,onPaymentError:t})=>{const[r,i]=se.useState(!1),[s,a]=se.useState(""),{user:l}=qo(),u=async()=>{try{i(!0),a("");const d=await bL(n,l);d&&d.success&&(console.log("Payment completed successfully:",d),e&&e(d))}catch(d){console.error("Payment error:",d),a(d.message||"Failed to process payment"),t&&t(d)}finally{i(!1)}};return h.jsxs("div",{children:[s&&h.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:h.jsx("p",{children:s})}),h.jsx("button",{onClick:u,disabled:r,className:`flex items-center justify-center w-full px-4 py-2 text-white font-medium rounded-md
          ${r?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}
          transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:r?h.jsxs(h.Fragment,{children:[h.jsx(mA,{className:"animate-spin mr-2"}),"Processing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(pp,{className:"mr-2"}),"Pay Now ",n.totalPrice.toFixed(2)]})})]})},SL=({isOpen:n,onClose:e,booking:t})=>{var s,a;if(!n||!t)return null;const r=l=>new Date(l).toLocaleString("en-IN",{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),i=l=>l?`${Number(l).toFixed(2)}`:"N/A";return t.customerName||`${t.firstName||""} ${t.lastName||""}`.trim(),t.customerEmail||t.email,t.customerPhone||t.phone,h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(vh,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.paymentStatus==="paid"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:t.paymentStatus==="paid"?"Paid":"Unpaid"}),h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="cancelled"?"bg-red-100 text-red-800":t.status==="confirmed"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),h.jsxs("p",{className:"text-sm text-gray-500",children:["Booking ID: ",t.id]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-start",children:[h.jsx(dd,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Vehicle"}),h.jsx("p",{className:"font-medium",children:((s=t.vehicle)==null?void 0:s.name)||"Vehicle unavailable"})]})]}),t.vehicle&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-start",children:[h.jsx(dd,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Type"}),h.jsx("p",{className:"font-medium",children:t.vehicle.type})]})]}),h.jsxs("div",{className:"flex items-start",children:[h.jsx(dd,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Transmission"}),h.jsx("p",{className:"font-medium",children:t.vehicle.transmission})]})]}),h.jsxs("div",{className:"flex items-start",children:[h.jsx(dd,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Fuel Type"}),h.jsx("p",{className:"font-medium",children:t.vehicle.fuel})]})]})]})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Period"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-start",children:[h.jsx(Mo,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"From"}),h.jsx("p",{className:"font-medium",children:r(t.startDate)})]})]}),h.jsxs("div",{className:"flex items-start",children:[h.jsx(Mo,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"To"}),h.jsx("p",{className:"font-medium",children:r(t.endDate)})]})]}),t.pickupLocation&&h.jsxs("div",{className:"flex items-start col-span-2",children:[h.jsx(fh,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Pickup Location"}),h.jsx("p",{className:"font-medium",children:t.pickupLocation})]})]})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-start",children:[h.jsx(Sd,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),h.jsx("p",{className:"font-medium",children:t.customerName||`${t.firstName||""} ${t.lastName||""}`.trim()||"N/A"})]})]}),h.jsxs("div",{className:"flex items-start",children:[h.jsx(Fd,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),h.jsx("p",{className:"font-medium",children:t.customerEmail||t.email||"N/A"})]})]}),h.jsxs("div",{className:"flex items-start",children:[h.jsx(Ly,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),h.jsx("p",{className:"font-medium",children:t.customerPhone||t.phone||"N/A"})]})]})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-start",children:[h.jsx(ph,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),h.jsx("p",{className:"font-medium",children:i(t.totalPrice)})]})]}),((a=t.vehicle)==null?void 0:a.hourlyRate)&&h.jsxs("div",{className:"flex items-start",children:[h.jsx(ph,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Rate"}),h.jsxs("p",{className:"font-medium",children:[i(t.vehicle.hourlyRate),"/hour"]})]})]}),t.paymentId&&h.jsxs("div",{className:"flex items-start col-span-2",children:[h.jsx(ph,{className:"text-gray-400 mt-1 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Payment ID"}),h.jsx("p",{className:"font-medium",children:t.paymentId})]})]})]})]}),t.status==="cancelled"&&t.cancellationReason&&h.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-4",children:"Cancellation Details"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-sm text-red-600",children:["Reason: ",t.cancellationReason]}),t.cancellationDate&&h.jsxs("p",{className:"text-sm text-red-600",children:["Cancelled on: ",r(t.cancellationDate)]})]})]})]})]})})},kL="modulepreload",AL=function(n){return"/"+n},dw={},Z2=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(t.map(d=>{if(d=AL(d),d in dw)return;dw[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":kL,p||(b.as="script"),b.crossOrigin="",b.href=d,u&&b.setAttribute("nonce",u),document.head.appendChild(b),p)return new Promise((v,S)=>{b.addEventListener("load",v),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function zn(n){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(n)}var rs=Uint8Array,xa=Uint16Array,Dv=Int32Array,A0=new rs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E0=new rs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ey=new rs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yN=function(n,e){for(var t=new xa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Dv(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},vN=yN(A0,2),xN=vN.b,ty=vN.r;xN[28]=258,ty[258]=28;var bN=yN(E0,0),EL=bN.b,fw=bN.r,ny=new xa(32768);for(var rr=0;rr<32768;++rr){var nu=(rr&43690)>>1|(rr&21845)<<1;nu=(nu&52428)>>2|(nu&13107)<<2,nu=(nu&61680)>>4|(nu&3855)<<4,ny[rr]=((nu&65280)>>8|(nu&255)<<8)>>1}var wl=function(n,e,t){for(var r=n.length,i=0,s=new xa(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new xa(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(t){l=new xa(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var d=i<<4|n[i],p=e-n[i],y=a[n[i]-1]++<<p,b=y|(1<<p)-1;y<=b;++y)l[ny[y]>>u]=d}else for(l=new xa(r),i=0;i<r;++i)n[i]&&(l[i]=ny[a[n[i]-1]++]>>15-n[i]);return l},Au=new rs(288);for(var rr=0;rr<144;++rr)Au[rr]=8;for(var rr=144;rr<256;++rr)Au[rr]=9;for(var rr=256;rr<280;++rr)Au[rr]=7;for(var rr=280;rr<288;++rr)Au[rr]=8;var ip=new rs(32);for(var rr=0;rr<32;++rr)ip[rr]=5;var TL=wl(Au,9,0),IL=wl(Au,9,1),PL=wl(ip,5,0),jL=wl(ip,5,1),$1=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},To=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},G1=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Mv=function(n){return(n+7)/8|0},wN=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new rs(n.subarray(e,t))},CL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Po=function(n,e,t){var r=new Error(e||CL[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Po),!t)throw r;return r},RL=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new rs(0);var a=!t,l=a||e.i!=2,u=e.i;a&&(t=new rs(i*3));var d=function($e){var tt=t.length;if($e>tt){var et=new rs(Math.max(tt*2,$e));et.set(t),t=et}},p=e.f||0,y=e.p||0,b=e.b||0,v=e.l,S=e.d,A=e.m,T=e.n,E=i*8;do{if(!v){p=To(n,y,1);var M=To(n,y+1,3);if(y+=3,M)if(M==1)v=IL,S=jL,A=9,T=5;else if(M==2){var te=To(n,y,31)+257,L=To(n,y+10,15)+4,C=te+To(n,y+5,31)+1;y+=14;for(var B=new rs(C),z=new rs(19),j=0;j<L;++j)z[ey[j]]=To(n,y+j*3,7);y+=L*3;for(var P=$1(z),O=(1<<P)-1,ne=wl(z,P,1),j=0;j<C;){var de=ne[To(n,y,O)];y+=de&15;var q=de>>4;if(q<16)B[j++]=q;else{var ye=0,oe=0;for(q==16?(oe=3+To(n,y,3),y+=2,ye=B[j-1]):q==17?(oe=3+To(n,y,7),y+=3):q==18&&(oe=11+To(n,y,127),y+=7);oe--;)B[j++]=ye}}var ae=B.subarray(0,te),ge=B.subarray(te);A=$1(ae),T=$1(ge),v=wl(ae,A,1),S=wl(ge,T,1)}else Po(1);else{var q=Mv(y)+4,re=n[q-4]|n[q-3]<<8,J=q+re;if(J>i){u&&Po(0);break}l&&d(b+re),t.set(n.subarray(q,J),b),e.b=b+=re,e.p=y=J*8,e.f=p;continue}if(y>E){u&&Po(0);break}}l&&d(b+131072);for(var me=(1<<A)-1,Z=(1<<T)-1,V=y;;V=y){var ye=v[G1(n,y)&me],K=ye>>4;if(y+=ye&15,y>E){u&&Po(0);break}if(ye||Po(2),K<256)t[b++]=K;else if(K==256){V=y,v=null;break}else{var ee=K-254;if(K>264){var j=K-257,ce=A0[j];ee=To(n,y,(1<<ce)-1)+xN[j],y+=ce}var fe=S[G1(n,y)&Z],Se=fe>>4;fe||Po(3),y+=fe&15;var ge=EL[Se];if(Se>3){var ce=E0[Se];ge+=G1(n,y)&(1<<ce)-1,y+=ce}if(y>E){u&&Po(0);break}l&&d(b+131072);var _e=b+ee;if(b<ge){var Ne=s-ge,Me=Math.min(ge,_e);for(Ne+b<0&&Po(3);b<Me;++b)t[b]=r[Ne+b]}for(;b<_e;++b)t[b]=t[b-ge]}}e.l=v,e.p=V,e.b=b,e.f=p,v&&(p=1,e.m=A,e.d=S,e.n=T)}while(!p);return b!=t.length&&a?wN(t,0,b):t.subarray(0,b)},Zl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},df=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},K1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:NN,l:0};if(i==1){var a=new rs(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(J,te){return J.f-te.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],d=0,p=1,y=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};p!=i-1;)l=t[t[d].f<t[y].f?d++:y++],u=t[d!=p&&t[d].f<t[y].f?d++:y++],t[p++]={s:-1,f:l.f+u.f,l,r:u};for(var b=s[0].s,r=1;r<i;++r)s[r].s>b&&(b=s[r].s);var v=new xa(b+1),S=ry(t[p-1],v,0);if(S>e){var r=0,A=0,T=S-e,E=1<<T;for(s.sort(function(te,L){return v[L.s]-v[te.s]||te.f-L.f});r<i;++r){var M=s[r].s;if(v[M]>e)A+=E-(1<<S-v[M]),v[M]=e;else break}for(A>>=T;A>0;){var q=s[r].s;v[q]<e?A-=1<<e-v[q]++-1:++r}for(;r>=0&&A;--r){var re=s[r].s;v[re]==e&&(--v[re],++A)}S=e}return{t:new rs(v),l:S}},ry=function(n,e,t){return n.s==-1?Math.max(ry(n.l,e,t+1),ry(n.r,e,t+1)):e[n.s]=t},pw=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new xa(++e),r=0,i=n[0],s=1,a=function(u){t[r++]=u},l=1;l<=e;++l)if(n[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[l]}return{c:t.subarray(0,r),n:e}},ff=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},_N=function(n,e,t){var r=t.length,i=Mv(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},mw=function(n,e,t,r,i,s,a,l,u,d,p){Zl(e,p++,t),++i[256];for(var y=K1(i,15),b=y.t,v=y.l,S=K1(s,15),A=S.t,T=S.l,E=pw(b),M=E.c,q=E.n,re=pw(A),J=re.c,te=re.n,L=new xa(19),C=0;C<M.length;++C)++L[M[C]&31];for(var C=0;C<J.length;++C)++L[J[C]&31];for(var B=K1(L,7),z=B.t,j=B.l,P=19;P>4&&!z[ey[P-1]];--P);var O=d+5<<3,ne=ff(i,Au)+ff(s,ip)+a,de=ff(i,b)+ff(s,A)+a+14+3*P+ff(L,z)+2*L[16]+3*L[17]+7*L[18];if(u>=0&&O<=ne&&O<=de)return _N(e,p,n.subarray(u,u+d));var ye,oe,ae,ge;if(Zl(e,p,1+(de<ne)),p+=2,de<ne){ye=wl(b,v,0),oe=b,ae=wl(A,T,0),ge=A;var me=wl(z,j,0);Zl(e,p,q-257),Zl(e,p+5,te-1),Zl(e,p+10,P-4),p+=14;for(var C=0;C<P;++C)Zl(e,p+3*C,z[ey[C]]);p+=3*P;for(var Z=[M,J],V=0;V<2;++V)for(var K=Z[V],C=0;C<K.length;++C){var ee=K[C]&31;Zl(e,p,me[ee]),p+=z[ee],ee>15&&(Zl(e,p,K[C]>>5&127),p+=K[C]>>12)}}else ye=TL,oe=Au,ae=PL,ge=ip;for(var C=0;C<l;++C){var ce=r[C];if(ce>255){var ee=ce>>18&31;df(e,p,ye[ee+257]),p+=oe[ee+257],ee>7&&(Zl(e,p,ce>>23&31),p+=A0[ee]);var fe=ce&31;df(e,p,ae[fe]),p+=ge[fe],fe>3&&(df(e,p,ce>>5&8191),p+=E0[fe])}else df(e,p,ye[ce]),p+=oe[ce]}return df(e,p,ye[256]),p+oe[256]},LL=new Dv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NN=new rs(0),DL=function(n,e,t,r,i,s){var a=s.z||n.length,l=new rs(r+a+5*(1+Math.ceil(a/7e3))+i),u=l.subarray(r,l.length-i),d=s.l,p=(s.r||0)&7;if(e){p&&(u[0]=s.r>>3);for(var y=LL[e-1],b=y>>13,v=y&8191,S=(1<<t)-1,A=s.p||new xa(32768),T=s.h||new xa(S+1),E=Math.ceil(t/3),M=2*E,q=function(bt){return(n[bt]^n[bt+1]<<E^n[bt+2]<<M)&S},re=new Dv(25e3),J=new xa(288),te=new xa(32),L=0,C=0,B=s.i||0,z=0,j=s.w||0,P=0;B+2<a;++B){var O=q(B),ne=B&32767,de=T[O];if(A[ne]=de,T[O]=ne,j<=B){var ye=a-B;if((L>7e3||z>24576)&&(ye>423||!d)){p=mw(n,u,0,re,J,te,C,z,P,B-P,p),z=L=C=0,P=B;for(var oe=0;oe<286;++oe)J[oe]=0;for(var oe=0;oe<30;++oe)te[oe]=0}var ae=2,ge=0,me=v,Z=ne-de&32767;if(ye>2&&O==q(B-Z))for(var V=Math.min(b,ye)-1,K=Math.min(32767,B),ee=Math.min(258,ye);Z<=K&&--me&&ne!=de;){if(n[B+ae]==n[B+ae-Z]){for(var ce=0;ce<ee&&n[B+ce]==n[B+ce-Z];++ce);if(ce>ae){if(ae=ce,ge=Z,ce>V)break;for(var fe=Math.min(Z,ce-2),Se=0,oe=0;oe<fe;++oe){var _e=B-Z+oe&32767,Ne=A[_e],Me=_e-Ne&32767;Me>Se&&(Se=Me,de=_e)}}}ne=de,de=A[ne],Z+=ne-de&32767}if(ge){re[z++]=268435456|ty[ae]<<18|fw[ge];var $e=ty[ae]&31,tt=fw[ge]&31;C+=A0[$e]+E0[tt],++J[257+$e],++te[tt],j=B+ae,++L}else re[z++]=n[B],++J[n[B]]}}for(B=Math.max(B,j);B<a;++B)re[z++]=n[B],++J[n[B]];p=mw(n,u,d,re,J,te,C,z,P,B-P,p),d||(s.r=p&7|u[p/8|0]<<3,p-=7,s.h=T,s.p=A,s.i=B,s.w=j)}else{for(var B=s.w||0;B<a+d;B+=65535){var et=B+65535;et>=a&&(u[p/8|0]=d,et=a),p=_N(u,p+1,n.subarray(B,et))}s.i=a}return wN(l,0,r+Mv(p)+i)},SN=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},ML=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new rs(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return DL(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},kN=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},OL=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=SN();i.p(e.dictionary),kN(n,2,i.d())}},FL=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Po(6,"invalid zlib data"),(n[1]>>5&1)==1&&Po(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function iy(n,e){e||(e={});var t=SN();t.p(n);var r=ML(n,e,e.dictionary?6:2,4);return OL(r,e),kN(r,r.length-4,t.d()),r}function VL(n,e){return RL(n.subarray(FL(n),-4),{i:2},e,e)}var BL=typeof TextDecoder<"u"&&new TextDecoder,zL=0;try{BL.decode(NN,{stream:!0}),zL=1}catch{}var Mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Y1(){Mt.console&&typeof Mt.console.log=="function"&&Mt.console.log.apply(Mt.console,arguments)}var $n={log:Y1,warn:function(n){Mt.console&&(typeof Mt.console.warn=="function"?Mt.console.warn.apply(Mt.console,arguments):Y1.call(null,arguments))},error:function(n){Mt.console&&(typeof Mt.console.error=="function"?Mt.console.error.apply(Mt.console,arguments):Y1(n))}};function Q1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){sh(r.response,e,t)},r.onerror=function(){$n.error("could not download file")},r.send()}function gw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function wm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Bf,sy,sh=Mt.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Mt.URL||Mt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?gw(i.href)?Q1(n,e,t):wm(i,i.target="_blank"):wm(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){wm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(gw(n))Q1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){wm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:zn(s)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Q1(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Mt.HTMLElement)||Mt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},l.readAsDataURL(n)}else{var u=Mt.URL||Mt.webkitURL,d=u.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function AN(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function X1(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Yi(t,r,i,s,e[0],7,-680876936),s=Yi(s,t,r,i,e[1],12,-389564586),i=Yi(i,s,t,r,e[2],17,606105819),r=Yi(r,i,s,t,e[3],22,-1044525330),t=Yi(t,r,i,s,e[4],7,-176418897),s=Yi(s,t,r,i,e[5],12,1200080426),i=Yi(i,s,t,r,e[6],17,-1473231341),r=Yi(r,i,s,t,e[7],22,-45705983),t=Yi(t,r,i,s,e[8],7,1770035416),s=Yi(s,t,r,i,e[9],12,-1958414417),i=Yi(i,s,t,r,e[10],17,-42063),r=Yi(r,i,s,t,e[11],22,-1990404162),t=Yi(t,r,i,s,e[12],7,1804603682),s=Yi(s,t,r,i,e[13],12,-40341101),i=Yi(i,s,t,r,e[14],17,-1502002290),t=Qi(t,r=Yi(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Qi(s,t,r,i,e[6],9,-1069501632),i=Qi(i,s,t,r,e[11],14,643717713),r=Qi(r,i,s,t,e[0],20,-373897302),t=Qi(t,r,i,s,e[5],5,-701558691),s=Qi(s,t,r,i,e[10],9,38016083),i=Qi(i,s,t,r,e[15],14,-660478335),r=Qi(r,i,s,t,e[4],20,-405537848),t=Qi(t,r,i,s,e[9],5,568446438),s=Qi(s,t,r,i,e[14],9,-1019803690),i=Qi(i,s,t,r,e[3],14,-187363961),r=Qi(r,i,s,t,e[8],20,1163531501),t=Qi(t,r,i,s,e[13],5,-1444681467),s=Qi(s,t,r,i,e[2],9,-51403784),i=Qi(i,s,t,r,e[7],14,1735328473),t=Xi(t,r=Qi(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Xi(s,t,r,i,e[8],11,-2022574463),i=Xi(i,s,t,r,e[11],16,1839030562),r=Xi(r,i,s,t,e[14],23,-35309556),t=Xi(t,r,i,s,e[1],4,-1530992060),s=Xi(s,t,r,i,e[4],11,1272893353),i=Xi(i,s,t,r,e[7],16,-155497632),r=Xi(r,i,s,t,e[10],23,-1094730640),t=Xi(t,r,i,s,e[13],4,681279174),s=Xi(s,t,r,i,e[0],11,-358537222),i=Xi(i,s,t,r,e[3],16,-722521979),r=Xi(r,i,s,t,e[6],23,76029189),t=Xi(t,r,i,s,e[9],4,-640364487),s=Xi(s,t,r,i,e[12],11,-421815835),i=Xi(i,s,t,r,e[15],16,530742520),t=Ji(t,r=Xi(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ji(s,t,r,i,e[7],10,1126891415),i=Ji(i,s,t,r,e[14],15,-1416354905),r=Ji(r,i,s,t,e[5],21,-57434055),t=Ji(t,r,i,s,e[12],6,1700485571),s=Ji(s,t,r,i,e[3],10,-1894986606),i=Ji(i,s,t,r,e[10],15,-1051523),r=Ji(r,i,s,t,e[1],21,-2054922799),t=Ji(t,r,i,s,e[8],6,1873313359),s=Ji(s,t,r,i,e[15],10,-30611744),i=Ji(i,s,t,r,e[6],15,-1560198380),r=Ji(r,i,s,t,e[13],21,1309151649),t=Ji(t,r,i,s,e[4],6,-145523070),s=Ji(s,t,r,i,e[11],10,-1120210379),i=Ji(i,s,t,r,e[2],15,718787259),r=Ji(r,i,s,t,e[9],21,-343485551),n[0]=uu(t,n[0]),n[1]=uu(r,n[1]),n[2]=uu(i,n[2]),n[3]=uu(s,n[3])}function T0(n,e,t,r,i,s){return e=uu(uu(e,n),uu(r,s)),uu(e<<i|e>>>32-i,t)}function Yi(n,e,t,r,i,s,a){return T0(e&t|~e&r,n,e,i,s,a)}function Qi(n,e,t,r,i,s,a){return T0(e&r|t&~r,n,e,i,s,a)}function Xi(n,e,t,r,i,s,a){return T0(e^t^r,n,e,i,s,a)}function Ji(n,e,t,r,i,s,a){return T0(t^(e|~r),n,e,i,s,a)}function EN(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)X1(r,UL(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(X1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,X1(r,i),r}function UL(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Bf=Mt.atob.bind(Mt),sy=Mt.btoa.bind(Mt);var yw="0123456789abcdef".split("");function qL(n){for(var e="",t=0;t<4;t++)e+=yw[n>>8*t+4&15]+yw[n>>8*t&15];return e}function HL(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function ay(n){return EN(n).map(HL).join("")}var WL=function(n){for(var e=0;e<n.length;e++)n[e]=qL(n[e]);return n.join("")}(EN("hello"))!="5d41402abc4b2a76b9719d911017c592";function uu(n,e){if(WL){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function oy(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var p=l[u];d=(d+p+a.charCodeAt(u))%256,l[u]=l[d],l[d]=p}t=n,r=l}else l=r;var y=e.length,b=0,v=0,S="";for(u=0;u<y;u++)v=(v+(p=l[b=(b+1)%256]))%256,l[b]=l[v],l[v]=p,a=l[(l[b]+l[v])%256],S+=String.fromCharCode(e.charCodeAt(u)^a);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vw={print:4,modify:8,copy:16,"annot-forms":32};function ud(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(l){if(vw.perm!==void 0)throw new Error("Invalid permission: "+l);i+=vw[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=ay(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=oy(this.encryptionKey,this.padding)}function hd(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function xw(n){if(zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(l){Mt.console&&$n.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rg(n){if(!(this instanceof Rg))return new Rg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function TN(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function ch(n,e,t,r,i){if(!(this instanceof ch))return new ch(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,TN.call(this,r,i)}function fd(n,e,t,r,i){if(!(this instanceof fd))return new fd(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,TN.call(this,r,i)}function Dt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,u=16,d="S",p=null;zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),d=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,b={},v={internal:{},__private__:{}};v.__private__.PubSub=xw;var S="1.3",A=v.__private__.getPdfVersion=function(){return S};v.__private__.setPdfVersion=function(_){S=_};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return T};var E=v.__private__.getPageFormat=function(_){return T[_]};i=i||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},q=M.COMPAT;function re(){this.saveGraphicsState(),ue(new ct(at,0,0,-at,0,ai()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),d="n",q=M.ADVANCED}function J(){this.restoreGraphicsState(),d="S",q=M.COMPAT}var te=v.__private__.combineFontStyleAndFontWeight=function(_,H){if(_=="bold"&&H=="normal"||_=="bold"&&H==400||_=="normal"&&H=="italic"||_=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(_=H==400||H==="normal"?_==="italic"?"italic":"normal":H!=700&&H!=="bold"||_!=="normal"?(H==700?"bold":H)+""+_:"bold"),_};v.advancedAPI=function(_){var H=q===M.COMPAT;return H&&re.call(this),typeof _!="function"||(_(this),H&&J.call(this)),this},v.compatAPI=function(_){var H=q===M.ADVANCED;return H&&J.call(this),typeof _!="function"||(_(this),H&&re.call(this)),this},v.isAdvancedAPI=function(){return q===M.ADVANCED};var L,C=function(_){if(q!==M.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=v.roundToPrecision=v.__private__.roundToPrecision=function(_,H){var le=e||H;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};L=v.hpf=v.__private__.hpf=typeof u=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,u)}:u==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,16)};var z=v.f2=v.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return B(_,2)},j=v.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return B(_,3)},P=v.scale=v.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return q===M.COMPAT?_*at:q===M.ADVANCED?_:void 0},O=function(_){return q===M.COMPAT?ai()-_:q===M.ADVANCED?_:void 0},ne=function(_){return P(O(_))};v.__private__.setPrecision=v.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var de,ye="00000000000000000000000000000000",oe=v.__private__.getFileId=function(){return ye},ae=v.__private__.setFileId=function(_){return ye=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(ln=new ud(p.userPermissions,p.userPassword,p.ownerPassword,ye)),ye};v.setFileId=function(_){return ae(_),this},v.getFileId=function(){return oe()};var ge=v.__private__.convertDateToPDFDate=function(_){var H=_.getTimezoneOffset(),le=H<0?"+":"-",pe=Math.floor(Math.abs(H/60)),Te=Math.abs(H%60),Fe=[le,ee(pe),"'",ee(Te),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),Fe].join("")},me=v.__private__.convertPDFDateToDate=function(_){var H=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,pe=parseInt(_.substr(8,2),10),Te=parseInt(_.substr(10,2),10),Fe=parseInt(_.substr(12,2),10),We=parseInt(_.substr(14,2),10);return new Date(H,le,pe,Te,Fe,We,0)},Z=v.__private__.setCreationDate=function(_){var H;if(_===void 0&&(_=new Date),_ instanceof Date)H=ge(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=_}return de=H},V=v.__private__.getCreationDate=function(_){var H=de;return _==="jsDate"&&(H=me(de)),H};v.setCreationDate=function(_){return Z(_),this},v.getCreationDate=function(_){return V(_)};var K,ee=v.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ce=v.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},fe=0,Se=[],_e=[],Ne=0,Me=[],$e=[],tt=!1,et=_e,bt=function(){fe=0,Ne=0,_e=[],Se=[],Me=[],ea=qn(),ni=qn()};v.__private__.setCustomOutputDestination=function(_){tt=!0,et=_};var Oe=function(_){tt||(et=_)};v.__private__.resetCustomOutputDestination=function(){tt=!1,et=_e};var ue=v.__private__.out=function(_){return _=_.toString(),Ne+=_.length+1,et.push(_),et},Ct=v.__private__.write=function(_){return ue(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ft=v.__private__.getArrayBuffer=function(_){for(var H=_.length,le=new ArrayBuffer(H),pe=new Uint8Array(le);H--;)pe[H]=_.charCodeAt(H);return le},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Qe};var Je=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(_){return Je=q===M.ADVANCED?_/at:_,this};var nt,st=v.__private__.getFontSize=v.getFontSize=function(){return q===M.COMPAT?Je:Je*at},yt=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(_){return yt=_,this},v.__private__.getR2L=v.getR2L=function(){return yt};var Rt,Bt=v.__private__.setZoomMode=function(_){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))nt=_;else if(isNaN(_)){if(H.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');nt=_}else nt=parseInt(_,10)};v.__private__.getZoomMode=function(){return nt};var wt,Tt=v.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Rt=_};v.__private__.getPageMode=function(){return Rt};var Xt=v.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');wt=_};v.__private__.getLayoutMode=function(){return wt},v.__private__.setDisplayMode=v.setDisplayMode=function(_,H,le){return Bt(_),Xt(H),Tt(le),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(_){if(Object.keys(It).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[_]},v.__private__.getDocumentProperties=function(){return It},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(_){for(var H in It)It.hasOwnProperty(H)&&_[H]&&(It[H]=_[H]);return this},v.__private__.setDocumentProperty=function(_,H){if(Object.keys(It).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[_]=H};var Ut,at,sr,Jt,gi,dn={},En={},Li=[],Zt={},Es={},Ln={},ar={},Or=null,Dn=0,St=[],nn=new xw(v),os=n.hotfixes||[],fr={},Fr={},Di=[],ct=function _(H,le,pe,Te,Fe,We){if(!(this instanceof _))return new _(H,le,pe,Te,Fe,We);isNaN(H)&&(H=1),isNaN(le)&&(le=0),isNaN(pe)&&(pe=0),isNaN(Te)&&(Te=1),isNaN(Fe)&&(Fe=0),isNaN(We)&&(We=0),this._matrix=[H,le,pe,Te,Fe,We]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(_)},ct.prototype.multiply=function(_){var H=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,pe=_.shx*this.sx+_.sy*this.shx,Te=_.shx*this.shy+_.sy*this.sy,Fe=_.tx*this.sx+_.ty*this.shx+this.tx,We=_.tx*this.shy+_.ty*this.sy+this.ty;return new ct(H,le,pe,Te,Fe,We)},ct.prototype.decompose=function(){var _=this.sx,H=this.shy,le=this.shx,pe=this.sy,Te=this.tx,Fe=this.ty,We=Math.sqrt(_*_+H*H),rt=(_/=We)*le+(H/=We)*pe;le-=_*rt,pe-=H*rt;var g=Math.sqrt(le*le+pe*pe);return rt/=g,_*(pe/=g)<H*(le/=g)&&(_=-_,H=-H,rt=-rt,We=-We),{scale:new ct(We,0,0,g,0,0),translate:new ct(1,0,0,1,Te,Fe),rotate:new ct(_,H,-H,_,0,0),skew:new ct(1,0,rt,1,0,0)}},ct.prototype.toString=function(_){return this.join(" ")},ct.prototype.inversed=function(){var _=this.sx,H=this.shy,le=this.shx,pe=this.sy,Te=this.tx,Fe=this.ty,We=1/(_*pe-H*le),rt=pe*We,g=-H*We,I=-le*We,F=_*We;return new ct(rt,g,I,F,-rt*Te-I*Fe,-g*Te-F*Fe)},ct.prototype.applyToPoint=function(_){var H=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new fs(H,le)},ct.prototype.applyToRectangle=function(_){var H=this.applyToPoint(_),le=this.applyToPoint(new fs(_.x+_.w,_.y+_.h));return new ca(H.x,H.y,le.x-H.x,le.y-H.y)},ct.prototype.clone=function(){var _=this.sx,H=this.shy,le=this.shx,pe=this.sy,Te=this.tx,Fe=this.ty;return new ct(_,H,le,pe,Te,Fe)},v.Matrix=ct;var ti=v.matrixMult=function(_,H){return H.multiply(_)},vr=new ct(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=vr;var xr=function(_,H){if(!Es[_]){var le=(H instanceof ch?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);H.id=le,Es[_]=le,Zt[le]=H,nn.publish("addPattern",H)}};v.ShadingPattern=ch,v.TilingPattern=fd,v.addShadingPattern=function(_,H){return C("addShadingPattern()"),xr(_,H),this},v.beginTilingPattern=function(_){C("beginTilingPattern()"),Jo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},v.endTilingPattern=function(_,H){C("endTilingPattern()"),H.stream=$e[K].join(`
`),xr(_,H),nn.publish("endTilingPattern",H),Di.pop().restore()};var Un=v.__private__.newObject=function(){var _=qn();return Qn(_,!0),_},qn=v.__private__.newObjectDeferred=function(){return fe++,Se[fe]=function(){return Ne},fe},Qn=function(_,H){return H=typeof H=="boolean"&&H,Se[_]=Ne,H&&ue(_+" 0 obj"),_},wa=v.__private__.newAdditionalObject=function(){var _={objId:qn(),content:""};return Me.push(_),_},ea=qn(),ni=qn(),Mi=v.__private__.decodeColorString=function(_){var H=_.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var le=parseFloat(H[0]);H=[le,le,le,"r"]}for(var pe="#",Te=0;Te<3;Te++)pe+=("0"+Math.floor(255*parseFloat(H[Te])).toString(16)).slice(-2);return pe},pr=v.__private__.encodeColorString=function(_){var H;typeof _=="string"&&(_={ch1:_});var le=_.ch1,pe=_.ch2,Te=_.ch3,Fe=_.ch4,We=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var rt=new AN(le);if(rt.ok)le=rt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var g=parseInt(le.substr(1),16);le=g>>16&255,pe=g>>8&255,Te=255&g}if(pe===void 0||Fe===void 0&&le===pe&&pe===Te)if(typeof le=="string")H=le+" "+We[0];else switch(_.precision){case 2:H=z(le/255)+" "+We[0];break;case 3:default:H=j(le/255)+" "+We[0]}else if(Fe===void 0||zn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return H=["1.","1.","1.",We[1]].join(" ");if(typeof le=="string")H=[le,pe,Te,We[1]].join(" ");else switch(_.precision){case 2:H=[z(le/255),z(pe/255),z(Te/255),We[1]].join(" ");break;default:case 3:H=[j(le/255),j(pe/255),j(Te/255),We[1]].join(" ")}}else if(typeof le=="string")H=[le,pe,Te,Fe,We[2]].join(" ");else switch(_.precision){case 2:H=[z(le),z(pe),z(Te),z(Fe),We[2]].join(" ");break;case 3:default:H=[j(le),j(pe),j(Te),j(Fe),We[2]].join(" ")}return H},ri=v.__private__.getFilters=function(){return a},or=v.__private__.putStream=function(_){var H=(_=_||{}).data||"",le=_.filters||ri(),pe=_.alreadyAppliedFilters||[],Te=_.addLength1||!1,Fe=H.length,We=_.objectId,rt=function(qt){return qt};if(p!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(rt=ln.encryptor(We,0));var g={};le===!0&&(le=["FlateEncode"]);var I=_.additionalKeyValues||[],F=(g=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(H,le):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(g.data.length!==0&&(I.push({key:"Length",value:g.data.length}),Te===!0&&I.push({key:"Length1",value:Fe})),F.length!=0)if(F.split("/").length-1==1)I.push({key:"Filter",value:F});else{I.push({key:"Filter",value:"["+F+"]"});for(var Q=0;Q<I.length;Q+=1)if(I[Q].key==="DecodeParms"){for(var Ae=[],Ce=0;Ce<g.reverseChain.split("/").length-1;Ce+=1)Ae.push("null");Ae.push(I[Q].value),I[Q].value="["+Ae.join(" ")+"]"}}ue("<<");for(var Ge=0;Ge<I.length;Ge++)ue("/"+I[Ge].key+" "+I[Ge].value);ue(">>"),g.data.length!==0&&(ue("stream"),ue(rt(g.data)),ue("endstream"))},ls=v.__private__.putPage=function(_){var H=_.number,le=_.data,pe=_.objId,Te=_.contentsObjId;Qn(pe,!0),ue("<</Type /Page"),ue("/Parent "+_.rootDictionaryObjId+" 0 R"),ue("/Resources "+_.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(L(_.mediaBox.bottomLeftX))+" "+parseFloat(L(_.mediaBox.bottomLeftY))+" "+L(_.mediaBox.topRightX)+" "+L(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ue("/CropBox ["+L(_.cropBox.bottomLeftX)+" "+L(_.cropBox.bottomLeftY)+" "+L(_.cropBox.topRightX)+" "+L(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ue("/BleedBox ["+L(_.bleedBox.bottomLeftX)+" "+L(_.bleedBox.bottomLeftY)+" "+L(_.bleedBox.topRightX)+" "+L(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ue("/TrimBox ["+L(_.trimBox.bottomLeftX)+" "+L(_.trimBox.bottomLeftY)+" "+L(_.trimBox.topRightX)+" "+L(_.trimBox.topRightY)+"]"),_.artBox!==null&&ue("/ArtBox ["+L(_.artBox.bottomLeftX)+" "+L(_.artBox.bottomLeftY)+" "+L(_.artBox.topRightX)+" "+L(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ue("/UserUnit "+_.userUnit),nn.publish("putPage",{objId:pe,pageContext:St[H],pageNumber:H,page:le}),ue("/Contents "+Te+" 0 R"),ue(">>"),ue("endobj");var Fe=le.join(`
`);return q===M.ADVANCED&&(Fe+=`
Q`),Qn(Te,!0),or({data:Fe,filters:ri(),objectId:Te}),ue("endobj"),pe},ta=v.__private__.putPages=function(){var _,H,le=[];for(_=1;_<=Dn;_++)St[_].objId=qn(),St[_].contentsObjId=qn();for(_=1;_<=Dn;_++)le.push(ls({number:_,data:$e[_],objId:St[_].objId,contentsObjId:St[_].contentsObjId,mediaBox:St[_].mediaBox,cropBox:St[_].cropBox,bleedBox:St[_].bleedBox,trimBox:St[_].trimBox,artBox:St[_].artBox,userUnit:St[_].userUnit,rootDictionaryObjId:ea,resourceDictionaryObjId:ni}));Qn(ea,!0),ue("<</Type /Pages");var pe="/Kids [";for(H=0;H<Dn;H++)pe+=le[H]+" 0 R ";ue(pe+"]"),ue("/Count "+Dn),ue(">>"),ue("endobj"),nn.publish("postPutPages")},na=function(_){nn.publish("putFont",{font:_,out:ue,newObject:Un,putStream:or}),_.isAlreadyPutted!==!0&&(_.objectNumber=Un(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+hd(_.postScriptName)),ue("/Subtype /Type1"),typeof _.encoding=="string"&&ue("/Encoding /"+_.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},ra=function(){for(var _ in dn)dn.hasOwnProperty(_)&&(y===!1||y===!0&&b.hasOwnProperty(_))&&na(dn[_])},_a=function(_){_.objectNumber=Un();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[L(_.x),L(_.y),L(_.x+_.width),L(_.y+_.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);or({data:le,additionalKeyValues:H,objectId:_.objectNumber}),ue("endobj")},Za=function(){for(var _ in fr)fr.hasOwnProperty(_)&&_a(fr[_])},xc=function(_,H){var le,pe=[],Te=1/(H-1);for(le=0;le<1;le+=Te)pe.push(le);if(pe.push(1),_[0].offset!=0){var Fe={offset:0,color:_[0].color};_.unshift(Fe)}if(_[_.length-1].offset!=1){var We={offset:1,color:_[_.length-1].color};_.push(We)}for(var rt="",g=0,I=0;I<pe.length;I++){for(le=pe[I];le>_[g+1].offset;)g++;var F=_[g].offset,Q=(le-F)/(_[g+1].offset-F),Ae=_[g].color,Ce=_[g+1].color;rt+=ce(Math.round((1-Q)*Ae[0]+Q*Ce[0]).toString(16))+ce(Math.round((1-Q)*Ae[1]+Q*Ce[1]).toString(16))+ce(Math.round((1-Q)*Ae[2]+Q*Ce[2]).toString(16))}return rt.trim()},Tn=function(_,H){H||(H=21);var le=Un(),pe=xc(_.colors,H),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+H+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),or({data:pe,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),ue("endobj"),_.objectNumber=Un(),ue("<< /ShadingType "+_.type),ue("/ColorSpace /DeviceRGB");var Fe="/Coords ["+L(parseFloat(_.coords[0]))+" "+L(parseFloat(_.coords[1]))+" ";_.type===2?Fe+=L(parseFloat(_.coords[2]))+" "+L(parseFloat(_.coords[3])):Fe+=L(parseFloat(_.coords[2]))+" "+L(parseFloat(_.coords[3]))+" "+L(parseFloat(_.coords[4]))+" "+L(parseFloat(_.coords[5])),ue(Fe+="]"),_.matrix&&ue("/Matrix ["+_.matrix.toString()+"]"),ue("/Function "+le+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},bc=function(_,H){var le=qn(),pe=Un();H.push({resourcesOid:le,objectOid:pe}),_.objectNumber=pe;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+_.boundingBox.map(L).join(" ")+"]"}),Te.push({key:"XStep",value:L(_.xStep)}),Te.push({key:"YStep",value:L(_.yStep)}),Te.push({key:"Resources",value:le+" 0 R"}),_.matrix&&Te.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),or({data:_.stream,additionalKeyValues:Te,objectId:_.objectNumber}),ue("endobj")},Ts=function(_){var H;for(H in Zt)Zt.hasOwnProperty(H)&&(Zt[H]instanceof ch?Tn(Zt[H]):Zt[H]instanceof fd&&bc(Zt[H],_))},ia=function(_){for(var H in _.objectNumber=Un(),ue("<<"),_)switch(H){case"opacity":ue("/ca "+z(_[H]));break;case"stroke-opacity":ue("/CA "+z(_[H]))}ue(">>"),ue("endobj")},Oi=function(){var _;for(_ in Ln)Ln.hasOwnProperty(_)&&ia(Ln[_])},eo=function(){for(var _ in ue("/XObject <<"),fr)fr.hasOwnProperty(_)&&fr[_].objectNumber>=0&&ue("/"+_+" "+fr[_].objectNumber+" 0 R");nn.publish("putXobjectDict"),ue(">>")},wc=function(){ln.oid=Un(),ue("<<"),ue("/Filter /Standard"),ue("/V "+ln.v),ue("/R "+ln.r),ue("/U <"+ln.toHexString(ln.U)+">"),ue("/O <"+ln.toHexString(ln.O)+">"),ue("/P "+ln.P),ue(">>"),ue("endobj")},Na=function(){for(var _ in ue("/Font <<"),dn)dn.hasOwnProperty(_)&&(y===!1||y===!0&&b.hasOwnProperty(_))&&ue("/"+_+" "+dn[_].objectNumber+" 0 R");ue(">>")},yi=function(){if(Object.keys(Zt).length>0){for(var _ in ue("/Shading <<"),Zt)Zt.hasOwnProperty(_)&&Zt[_]instanceof ch&&Zt[_].objectNumber>=0&&ue("/"+_+" "+Zt[_].objectNumber+" 0 R");nn.publish("putShadingPatternDict"),ue(">>")}},to=function(_){if(Object.keys(Zt).length>0){for(var H in ue("/Pattern <<"),Zt)Zt.hasOwnProperty(H)&&Zt[H]instanceof v.TilingPattern&&Zt[H].objectNumber>=0&&Zt[H].objectNumber<_&&ue("/"+H+" "+Zt[H].objectNumber+" 0 R");nn.publish("putTilingPatternDict"),ue(">>")}},qr=function(){if(Object.keys(Ln).length>0){var _;for(_ in ue("/ExtGState <<"),Ln)Ln.hasOwnProperty(_)&&Ln[_].objectNumber>=0&&ue("/"+_+" "+Ln[_].objectNumber+" 0 R");nn.publish("putGStateDict"),ue(">>")}},Hn=function(_){Qn(_.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Na(),yi(),to(_.objectOid),qr(),eo(),ue(">>"),ue("endobj")},Il=function(){var _=[];ra(),Oi(),Za(),Ts(_),nn.publish("putResources"),_.forEach(Hn),Hn({resourcesOid:ni,objectOid:Number.MAX_SAFE_INTEGER}),nn.publish("postPutResources")},Pl=function(){nn.publish("putAdditionalObjects");for(var _=0;_<Me.length;_++){var H=Me[_];Qn(H.objId,!0),ue(H.content),ue("endobj")}nn.publish("postPutAdditionalObjects")},no=function(_){En[_.fontName]=En[_.fontName]||{},En[_.fontName][_.fontStyle]=_.id},Sa=function(_,H,le,pe,Te){var Fe={id:"F"+(Object.keys(dn).length+1).toString(10),postScriptName:_,fontName:H,fontStyle:le,encoding:pe,isStandardFont:Te||!1,metadata:{}};return nn.publish("addFont",{font:Fe,instance:this}),dn[Fe.id]=Fe,no(Fe),Fe.id},ka=function(_){for(var H=0,le=Qe.length;H<le;H++){var pe=Sa.call(this,_[H][0],_[H][1],_[H][2],Qe[H][3],!0);y===!1&&(b[pe]=!0);var Te=_[H][0].split("-");no({id:pe,fontName:Te[0],fontStyle:Te[1]||""})}nn.publish("addFonts",{fonts:dn,dictionary:En})},Hr=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(pe){var H=pe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var le="Error in function "+H.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Mt.console)throw new Error(le);Mt.console.error(le,pe),Mt.alert&&alert(le)}},_.foo.bar=_,_.foo},Go=function(_,H){var le,pe,Te,Fe,We,rt,g,I,F;if(Te=(H=H||{}).sourceEncoding||"Unicode",We=H.outputEncoding,(H.autoencode||We)&&dn[Ut].metadata&&dn[Ut].metadata[Te]&&dn[Ut].metadata[Te].encoding&&(Fe=dn[Ut].metadata[Te].encoding,!We&&dn[Ut].encoding&&(We=dn[Ut].encoding),!We&&Fe.codePages&&(We=Fe.codePages[0]),typeof We=="string"&&(We=Fe[We]),We)){for(g=!1,rt=[],le=0,pe=_.length;le<pe;le++)(I=We[_.charCodeAt(le)])?rt.push(String.fromCharCode(I)):rt.push(_[le]),rt[le].charCodeAt(0)>>8&&(g=!0);_=rt.join("")}for(le=_.length;g===void 0&&le!==0;)_.charCodeAt(le-1)>>8&&(g=!0),le--;if(!g)return _;for(rt=H.noBOM?[]:[254,255],le=0,pe=_.length;le<pe;le++){if((F=(I=_.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(F),rt.push(I-(F<<8))}return String.fromCharCode.apply(void 0,rt)},lr=v.__private__.pdfEscape=v.pdfEscape=function(_,H){return Go(_,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wr=v.__private__.beginPage=function(_){$e[++Dn]=[],St[Dn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},sa(Dn),Oe($e[K])},Aa=function(_,H){var le,pe,Te;switch(t=H||t,typeof _=="string"&&(le=E(_.toLowerCase()),Array.isArray(le)&&(pe=le[0],Te=le[1])),Array.isArray(_)&&(pe=_[0]*at,Te=_[1]*at),isNaN(pe)&&(pe=i[0],Te=i[1]),(pe>14400||Te>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Te=Math.min(14400,Te)),i=[pe,Te],t.substr(0,1)){case"l":Te>pe&&(i=[Te,pe]);break;case"p":pe>Te&&(i=[Te,pe])}Wr(i),ja(Cl),ue(br),Ll!==0&&ue(Ll+" J"),Ca!==0&&ue(Ca+" j"),nn.publish("addPage",{pageNumber:Dn})},Ea=function(_){_>0&&_<=Dn&&($e.splice(_,1),St.splice(_,1),Dn--,K>Dn&&(K=Dn),this.setPage(K))},sa=function(_){_>0&&_<=Dn&&(K=_)},wn=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return $e.length-1},aa=function(_,H,le){var pe,Te=void 0;return le=le||{},_=_!==void 0?_:dn[Ut].fontName,H=H!==void 0?H:dn[Ut].fontStyle,pe=_.toLowerCase(),En[pe]!==void 0&&En[pe][H]!==void 0?Te=En[pe][H]:En[_]!==void 0&&En[_][H]!==void 0?Te=En[_][H]:le.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+_+"', '"+H+"'. Refer to getFontList() for available fonts."),Te||le.noFallback||(Te=En.times[H])==null&&(Te=En.times.normal),Te},Yt=v.__private__.putInfo=function(){var _=Un(),H=function(pe){return pe};for(var le in p!==null&&(H=ln.encryptor(_,0)),ue("<<"),ue("/Producer ("+lr(H("jsPDF "+Dt.version))+")"),It)It.hasOwnProperty(le)&&It[le]&&ue("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+lr(H(It[le]))+")");ue("/CreationDate ("+lr(H(de))+")"),ue(">>"),ue("endobj")},Is=v.__private__.putCatalog=function(_){var H=(_=_||{}).rootDictionaryObjId||ea;switch(Un(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+H+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+nt;le.substr(le.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+z(nt)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Rt&&ue("/PageMode /"+Rt),nn.publish("putCatalog"),ue(">>"),ue("endobj")},_c=v.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(fe+1)),ue("/Root "+fe+" 0 R"),ue("/Info "+(fe-1)+" 0 R"),p!==null&&ue("/Encrypt "+ln.oid+" 0 R"),ue("/ID [ <"+ye+"> <"+ye+"> ]"),ue(">>")},Ko=v.__private__.putHeader=function(){ue("%PDF-"+S),ue("%")},Nc=v.__private__.putXRef=function(){var _="0000000000";ue("xref"),ue("0 "+(fe+1)),ue("0000000000 65535 f ");for(var H=1;H<=fe;H++)typeof Se[H]=="function"?ue((_+Se[H]()).slice(-10)+" 00000 n "):Se[H]!==void 0?ue((_+Se[H]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Ps=v.__private__.buildDocument=function(){bt(),Oe(_e),nn.publish("buildDocument"),Ko(),ta(),Pl(),Il(),p!==null&&wc(),Yt(),Is();var _=Ne;return Nc(),_c(),ue("startxref"),ue(""+_),ue("%%EOF"),Oe($e[K]),_e.join(`
`)},ro=v.__private__.getBlob=function(_){return new Blob([ft(_)],{type:"application/pdf"})},Ta=v.output=v.__private__.output=Hr(function(_,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",_){case void 0:return Ps();case"save":v.save(H.filename);break;case"arraybuffer":return ft(Ps());case"blob":return ro(Ps());case"bloburi":case"bloburl":if(Mt.URL!==void 0&&typeof Mt.URL.createObjectURL=="function")return Mt.URL&&Mt.URL.createObjectURL(ro(Ps()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",pe=Ps();try{le=sy(pe)}catch{le=sy(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+H.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Te=H.pdfObjectUrl,Fe="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",rt=Mt.open();return rt!==null&&rt.document.write(We),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var g='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',I=Mt.open();if(I!==null){I.document.write(g);var F=this;I.document.documentElement.querySelector("#pdfViewer").onload=function(){I.document.title=H.filename,I.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(F.output("bloburl"))}}return I}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Q='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Ae=Mt.open();if(Ae!==null&&(Ae.document.write(Q),Ae.document.title=H.filename),Ae||typeof safari>"u")return Ae;break;case"datauri":case"dataurl":return Mt.document.location.href=this.output("datauristring",H);default:return null}}),cs=function(_){return Array.isArray(os)===!0&&os.indexOf(_)>-1};switch(r){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=cs("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);at=r}var ln=null;Z(),ae();var us=function(_){return p!==null?ln.encryptor(_,0):function(H){return H}},Fi=v.__private__.getPageInfo=v.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[_].objId,pageNumber:_,pageContext:St[_]}},kt=v.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in St)if(St[H].objId===_)break;return Fi(H)},Vi=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:St[K].objId,pageNumber:K,pageContext:St[K]}};v.addPage=function(){return Aa.apply(this,arguments),this},v.setPage=function(){return sa.apply(this,arguments),Oe.call(this,$e[K]),this},v.insertPage=function(_){return this.addPage(),this.movePage(K,_),this},v.movePage=function(_,H){var le,pe;if(_>H){le=$e[_],pe=St[_];for(var Te=_;Te>H;Te--)$e[Te]=$e[Te-1],St[Te]=St[Te-1];$e[H]=le,St[H]=pe,this.setPage(H)}else if(_<H){le=$e[_],pe=St[_];for(var Fe=_;Fe<H;Fe++)$e[Fe]=$e[Fe+1],St[Fe]=St[Fe+1];$e[H]=le,St[H]=pe,this.setPage(H)}return this},v.deletePage=function(){return Ea.apply(this,arguments),this},v.__private__.text=v.text=function(_,H,le,pe,Te){var Fe,We,rt,g,I,F,Q,Ae,Ce,Ge=(pe=pe||{}).scope||this;if(typeof _=="number"&&typeof H=="number"&&(typeof le=="string"||Array.isArray(le))){var qt=le;le=H,H=_,_=qt}if(arguments[3]instanceof ct?(C("The transform parameter of text() with a Matrix value"),Ce=Te):(rt=arguments[4],g=arguments[5],zn(Q=arguments[3])==="object"&&Q!==null||(typeof rt=="string"&&(g=rt,rt=null),typeof Q=="string"&&(g=Q,Q=null),typeof Q=="number"&&(rt=Q,Q=null),pe={flags:Q,angle:rt,align:g})),isNaN(H)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Ge;var en="",Ht=!1,gn=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:mn,_n=Ge.internal.scaleFactor;function bi(Mn){return Mn=Mn.split("	").join(Array(pe.TabLen||9).join(" ")),lr(Mn,Q)}function Kr(Mn){for(var Nn,hr=Mn.concat(),wr=[],Ma=hr.length;Ma--;)typeof(Nn=hr.shift())=="string"?wr.push(Nn):Array.isArray(Mn)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?wr.push(Nn[0]):wr.push([Nn[0],Nn[1],Nn[2]]);return wr}function ha(Mn,Nn){var hr;if(typeof Mn=="string")hr=Nn(Mn)[0];else if(Array.isArray(Mn)){for(var wr,Ma,Dc=Mn.concat(),zl=[],Ou=Dc.length;Ou--;)typeof(wr=Dc.shift())=="string"?zl.push(Nn(wr)[0]):Array.isArray(wr)&&typeof wr[0]=="string"&&(Ma=Nn(wr[0],wr[1],wr[2]),zl.push([Ma[0],Ma[1],Ma[2]]));hr=zl}return hr}var da=!1,Ac=!0;if(typeof _=="string")da=!0;else if(Array.isArray(_)){var Ec=_.concat();We=[];for(var Dl,ur=Ec.length;ur--;)(typeof(Dl=Ec.shift())!="string"||Array.isArray(Dl)&&typeof Dl[0]!="string")&&(Ac=!1);da=Ac}if(da===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Tc=Je/Ge.internal.scaleFactor,Ic=Tc*(gn-1);switch(pe.baseline){case"bottom":le-=Ic;break;case"top":le+=Tc-Ic;break;case"hanging":le+=Tc-2*Ic;break;case"middle":le+=Tc/2-Ic}if((F=pe.maxWidth||0)>0&&(typeof _=="string"?_=Ge.splitTextToSize(_,F):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Mn,Nn){return Mn.concat(Ge.splitTextToSize(Nn,F))},[]))),Fe={text:_,x:H,y:le,options:pe,mutex:{pdfEscape:lr,activeFontKey:Ut,fonts:dn,activeFontSize:Je}},nn.publish("preProcessText",Fe),_=Fe.text,rt=(pe=Fe.options).angle,!(Ce instanceof ct)&&rt&&typeof rt=="number"){rt*=Math.PI/180,pe.rotationDirection===0&&(rt=-rt),q===M.ADVANCED&&(rt=-rt);var Pc=Math.cos(rt),jc=Math.sin(rt);Ce=new ct(Pc,jc,-jc,Pc,0,0)}else rt&&rt instanceof ct&&(Ce=rt);q!==M.ADVANCED||Ce||(Ce=vr),(I=pe.charSpace||la)!==void 0&&(en+=L(P(I))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ae=pe.horizontalScale)!==void 0&&(en+=L(100*Ae)+` Tz
`),pe.lang;var wi=-1,Ml=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,oo=Ge.internal.getCurrentPageInfo().pageContext;switch(Ml){case 0:case!1:case"fill":wi=0;break;case 1:case!0:case"stroke":wi=1;break;case 2:case"fillThenStroke":wi=2;break;case 3:case"invisible":wi=3;break;case 4:case"fillAndAddForClipping":wi=4;break;case 5:case"strokeAndAddPathForClipping":wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wi=6;break;case 7:case"addToPathForClipping":wi=7}var Lh=oo.usedRenderingMode!==void 0?oo.usedRenderingMode:-1;wi!==-1?en+=wi+` Tr
`:Lh!==-1&&(en+=`0 Tr
`),wi!==-1&&(oo.usedRenderingMode=wi),g=pe.align||"left";var _i,Cc=Je*gn,Du=Ge.internal.pageSize.getWidth(),Rc=dn[Ut];I=pe.charSpace||la,F=pe.maxWidth||0,Q=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var La=[],tl=function(Mn){return Ge.getStringUnitWidth(Mn,{font:Rc,charSpace:I,fontSize:Je,doKerning:!1})*Je/_n};if(Object.prototype.toString.call(_)==="[object Array]"){var Ni;We=Kr(_),g!=="left"&&(_i=We.map(tl));var oi,nl=0;if(g==="right"){H-=_i[0],_=[],ur=We.length;for(var lo=0;lo<ur;lo++)lo===0?(oi=xi(H),Ni=cr(le)):(oi=P(nl-_i[lo]),Ni=-Cc),_.push([We[lo],oi,Ni]),nl=_i[lo]}else if(g==="center"){H-=_i[0]/2,_=[],ur=We.length;for(var co=0;co<ur;co++)co===0?(oi=xi(H),Ni=cr(le)):(oi=P((nl-_i[co])/2),Ni=-Cc),_.push([We[co],oi,Ni]),nl=_i[co]}else if(g==="left"){_=[],ur=We.length;for(var Lc=0;Lc<ur;Lc++)_.push(We[Lc])}else if(g==="justify"&&Rc.encoding==="Identity-H"){_=[],ur=We.length,F=F!==0?F:Du;for(var uo=0,fn=0;fn<ur;fn++)if(Ni=fn===0?cr(le):-Cc,oi=fn===0?xi(H):uo,fn<ur-1){var ho=P((F-_i[fn])/(We[fn].split(" ").length-1)),li=We[fn].split(" ");_.push([li[0]+" ",oi,Ni]),uo=0;for(var ps=1;ps<li.length;ps++){var Ol=(tl(li[ps-1]+" "+li[ps])-tl(li[ps]))*_n+ho;ps==li.length-1?_.push([li[ps],Ol,0]):_.push([li[ps]+" ",Ol,0]),uo-=Ol}}else _.push([We[fn],oi,Ni]);_.push(["",uo,0])}else{if(g!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],ur=We.length,F=F!==0?F:Du,fn=0;fn<ur;fn++)Ni=fn===0?cr(le):-Cc,oi=fn===0?xi(H):0,fn<ur-1?La.push(L(P((F-_i[fn])/(We[fn].split(" ").length-1)))):La.push(0),_.push([We[fn],oi,Ni])}}var Mu=typeof pe.R2L=="boolean"?pe.R2L:yt;Mu===!0&&(_=ha(_,function(Mn,Nn,hr){return[Mn.split("").reverse().join(""),Nn,hr]})),Fe={text:_,x:H,y:le,options:pe,mutex:{pdfEscape:lr,activeFontKey:Ut,fonts:dn,activeFontSize:Je}},nn.publish("postProcessText",Fe),_=Fe.text,Ht=Fe.mutex.isHex||!1;var Fl=dn[Ut].encoding;Fl!=="WinAnsiEncoding"&&Fl!=="StandardEncoding"||(_=ha(_,function(Mn,Nn,hr){return[bi(Mn),Nn,hr]})),We=Kr(_),_=[];for(var Vl,Bl,ms,fo=0,Da=1,po=Array.isArray(We[0])?Da:fo,mo="",rl=function(Mn,Nn,hr){var wr="";return hr instanceof ct?(hr=typeof pe.angle=="number"?ti(hr,new ct(1,0,0,1,Mn,Nn)):ti(new ct(1,0,0,1,Mn,Nn),hr),q===M.ADVANCED&&(hr=ti(new ct(1,0,0,-1,0,0),hr)),wr=hr.join(" ")+` Tm
`):wr=L(Mn)+" "+L(Nn)+` Td
`,wr},Yr=0;Yr<We.length;Yr++){switch(mo="",po){case Da:ms=(Ht?"<":"(")+We[Yr][0]+(Ht?">":")"),Vl=parseFloat(We[Yr][1]),Bl=parseFloat(We[Yr][2]);break;case fo:ms=(Ht?"<":"(")+We[Yr]+(Ht?">":")"),Vl=xi(H),Bl=cr(le)}La!==void 0&&La[Yr]!==void 0&&(mo=La[Yr]+` Tw
`),Yr===0?_.push(mo+rl(Vl,Bl,Ce)+ms):po===fo?_.push(mo+ms):po===Da&&_.push(mo+rl(Vl,Bl,Ce)+ms)}_=po===fo?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Bi=`BT
/`;return Bi+=Ut+" "+Je+` Tf
`,Bi+=L(Je*gn)+` TL
`,Bi+=Xn+`
`,Bi+=en,Bi+=_,ue(Bi+="ET"),b[Ut]=!0,Ge};var js=v.__private__.clip=v.clip=function(_){return ue(_==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return js("evenodd")},v.__private__.discardPath=v.discardPath=function(){return ue("n"),this};var Cs=v.__private__.isValidStyle=function(_){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(H=!0),H};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(_){return Cs(_)&&(d=_),this};var jl=v.__private__.getStyle=v.getStyle=function(_){var H=d;switch(_){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=_}return H},$r=v.close=function(){return ue("h"),this};v.stroke=function(){return ue("S"),this},v.fill=function(_){return Yo("f",_),this},v.fillEvenOdd=function(_){return Yo("f*",_),this},v.fillStroke=function(_){return Yo("B",_),this},v.fillStrokeEvenOdd=function(_){return Yo("B*",_),this};var Yo=function(_,H){zn(H)==="object"?io(H,_):ue(_)},Qo=function(_){_===null||q===M.ADVANCED&&_===void 0||(_=jl(_),ue(_))};function oa(_,H,le,pe,Te){var Fe=new fd(H||this.boundingBox,le||this.xStep,pe||this.yStep,this.gState,Te||this.matrix);Fe.stream=this.stream;var We=_+"$$"+this.cloneIndex+++"$$";return xr(We,Fe),Fe}var io=function(_,H){var le=Es[_.key],pe=Zt[le];if(pe instanceof ch)ue("q"),ue(Sc(H)),pe.gState&&v.setGState(pe.gState),ue(_.matrix.toString()+" cm"),ue("/"+le+" sh"),ue("Q");else if(pe instanceof fd){var Te=new ct(1,0,0,-1,0,ai());_.matrix&&(Te=Te.multiply(_.matrix||vr),le=oa.call(pe,_.key,_.boundingBox,_.xStep,_.yStep,Te).id),ue("q"),ue("/Pattern cs"),ue("/"+le+" scn"),pe.gState&&v.setGState(pe.gState),ue(H),ue("Q")}},Sc=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},vi=v.moveTo=function(_,H){return ue(L(P(_))+" "+L(ne(H))+" m"),this},Gr=v.lineTo=function(_,H){return ue(L(P(_))+" "+L(ne(H))+" l"),this},ii=v.curveTo=function(_,H,le,pe,Te,Fe){return ue([L(P(_)),L(ne(H)),L(P(le)),L(ne(pe)),L(P(Te)),L(ne(Fe)),"c"].join(" ")),this};v.__private__.line=v.line=function(_,H,le,pe,Te){if(isNaN(_)||isNaN(H)||isNaN(le)||isNaN(pe)||!Cs(Te))throw new Error("Invalid arguments passed to jsPDF.line");return q===M.COMPAT?this.lines([[le-_,pe-H]],_,H,[1,1],Te||"S"):this.lines([[le-_,pe-H]],_,H,[1,1]).stroke()},v.__private__.lines=v.lines=function(_,H,le,pe,Te,Fe){var We,rt,g,I,F,Q,Ae,Ce,Ge,qt,en,Ht;if(typeof _=="number"&&(Ht=le,le=H,H=_,_=Ht),pe=pe||[1,1],Fe=Fe||!1,isNaN(H)||isNaN(le)||!Array.isArray(_)||!Array.isArray(pe)||!Cs(Te)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vi(H,le),We=pe[0],rt=pe[1],I=_.length,qt=H,en=le,g=0;g<I;g++)(F=_[g]).length===2?(qt=F[0]*We+qt,en=F[1]*rt+en,Gr(qt,en)):(Q=F[0]*We+qt,Ae=F[1]*rt+en,Ce=F[2]*We+qt,Ge=F[3]*rt+en,qt=F[4]*We+qt,en=F[5]*rt+en,ii(Q,Ae,Ce,Ge,qt,en));return Fe&&$r(),Qo(Te),this},v.path=function(_){for(var H=0;H<_.length;H++){var le=_[H],pe=le.c;switch(le.op){case"m":vi(pe[0],pe[1]);break;case"l":Gr(pe[0],pe[1]);break;case"c":ii.apply(this,pe);break;case"h":$r()}}return this},v.__private__.rect=v.rect=function(_,H,le,pe,Te){if(isNaN(_)||isNaN(H)||isNaN(le)||isNaN(pe)||!Cs(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return q===M.COMPAT&&(pe=-pe),ue([L(P(_)),L(ne(H)),L(P(le)),L(P(pe)),"re"].join(" ")),Qo(Te),this},v.__private__.triangle=v.triangle=function(_,H,le,pe,Te,Fe,We){if(isNaN(_)||isNaN(H)||isNaN(le)||isNaN(pe)||isNaN(Te)||isNaN(Fe)||!Cs(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,pe-H],[Te-le,Fe-pe],[_-Te,H-Fe]],_,H,[1,1],We,!0),this},v.__private__.roundedRect=v.roundedRect=function(_,H,le,pe,Te,Fe,We){if(isNaN(_)||isNaN(H)||isNaN(le)||isNaN(pe)||isNaN(Te)||isNaN(Fe)||!Cs(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*le),Fe=Math.min(Fe,.5*pe),this.lines([[le-2*Te,0],[Te*rt,0,Te,Fe-Fe*rt,Te,Fe],[0,pe-2*Fe],[0,Fe*rt,-Te*rt,Fe,-Te,Fe],[2*Te-le,0],[-Te*rt,0,-Te,-Fe*rt,-Te,-Fe],[0,2*Fe-pe],[0,-Fe*rt,Te*rt,-Fe,Te,-Fe]],_+Te,H,[1,1],We,!0),this},v.__private__.ellipse=v.ellipse=function(_,H,le,pe,Te){if(isNaN(_)||isNaN(H)||isNaN(le)||isNaN(pe)||!Cs(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*le,We=4/3*(Math.SQRT2-1)*pe;return vi(_+le,H),ii(_+le,H-We,_+Fe,H-pe,_,H-pe),ii(_-Fe,H-pe,_-le,H-We,_-le,H),ii(_-le,H+We,_-Fe,H+pe,_,H+pe),ii(_+Fe,H+pe,_+le,H+We,_+le,H),Qo(Te),this},v.__private__.circle=v.circle=function(_,H,le,pe){if(isNaN(_)||isNaN(H)||isNaN(le)||!Cs(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,H,le,le,pe)},v.setFont=function(_,H,le){return le&&(H=te(H,le)),Ut=aa(_,H,{disableWarning:!1}),this};var Ia=v.__private__.getFont=v.getFont=function(){return dn[aa.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var _,H,le={};for(_ in En)if(En.hasOwnProperty(_))for(H in le[_]=[],En[_])En[_].hasOwnProperty(H)&&le[_].push(H);return le},v.addFont=function(_,H,le,pe,Te){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(le=te(le,pe)),Te=Te||"Identity-H",Sa.call(this,_,H,le,Te)};var mn,Cl=n.lineWidth||.200025,Pa=v.__private__.getLineWidth=v.getLineWidth=function(){return Cl},ja=v.__private__.setLineWidth=v.setLineWidth=function(_){return Cl=_,ue(L(P(_))+" w"),this};v.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(_,H){if(_=_||[],H=H||0,isNaN(H)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return L(P(le))}).join(" "),H=L(P(H)),ue("["+_+"] "+H+" d"),this};var so=v.__private__.getLineHeight=v.getLineHeight=function(){return Je*mn};v.__private__.getLineHeight=v.getLineHeight=function(){return Je*mn};var Xo=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(mn=_),this},si=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return mn};Xo(n.lineHeight);var xi=v.__private__.getHorizontalCoordinate=function(_){return P(_)},cr=v.__private__.getVerticalCoordinate=function(_){return q===M.ADVANCED?_:St[K].mediaBox.topRightY-St[K].mediaBox.bottomLeftY-P(_)},Rl=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(_){return L(xi(_))},hs=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(_){return L(cr(_))},br=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Mi(br)},v.__private__.setStrokeColor=v.setDrawColor=function(_,H,le,pe){return br=pr({ch1:_,ch2:H,ch3:le,ch4:pe,pdfColorType:"draw",precision:2}),ue(br),this};var ao=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Mi(ao)},v.__private__.setFillColor=v.setFillColor=function(_,H,le,pe){return ao=pr({ch1:_,ch2:H,ch3:le,ch4:pe,pdfColorType:"fill",precision:2}),ue(ao),this};var Xn=n.textColor||"0 g",ds=v.__private__.getTextColor=v.getTextColor=function(){return Mi(Xn)};v.__private__.setTextColor=v.setTextColor=function(_,H,le,pe){return Xn=pr({ch1:_,ch2:H,ch3:le,ch4:pe,pdfColorType:"text",precision:3}),this};var la=n.charSpace,Rs=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(la||0)};v.__private__.setCharSpace=v.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return la=_,this};var Ll=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(_){var H=v.CapJoinStyles[_];if(H===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ll=H,ue(H+" J"),this};var Ca=0;v.__private__.setLineJoin=v.setLineJoin=function(_){var H=v.CapJoinStyles[_];if(H===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ca=H,ue(H+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(L(P(_))+" M"),this},v.GState=Rg,v.setGState=function(_){(_=typeof _=="string"?Ln[ar[_]]:Ls(null,_)).equals(Or)||(ue("/"+_.id+" gs"),Or=_)};var Ls=function(_,H){if(!_||!ar[_]){var le=!1;for(var pe in Ln)if(Ln.hasOwnProperty(pe)&&Ln[pe].equals(H)){le=!0;break}if(le)H=Ln[pe];else{var Te="GS"+(Object.keys(Ln).length+1).toString(10);Ln[Te]=H,H.id=Te}return _&&(ar[_]=H.id),nn.publish("addGState",H),H}};v.addGState=function(_,H){return Ls(_,H),this},v.saveGraphicsState=function(){return ue("q"),Li.push({key:Ut,size:Je,color:Xn}),this},v.restoreGraphicsState=function(){ue("Q");var _=Li.pop();return Ut=_.key,Je=_.size,Xn=_.color,Or=null,this},v.setCurrentTransformationMatrix=function(_){return ue(_.toString()+" cm"),this},v.comment=function(_){return ue("#"+_),this};var fs=function(_,H){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Fe){isNaN(Fe)||(le=parseFloat(Fe))}});var pe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Fe){isNaN(Fe)||(pe=parseFloat(Fe))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Fe){Te=Fe.toString()}}),this},ca=function(_,H,le,pe){fs.call(this,_,H),this.type="rect";var Te=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(We){isNaN(We)||(Te=parseFloat(We))}});var Fe=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(We){isNaN(We)||(Fe=parseFloat(We))}}),this},Ra=function(){this.page=Dn,this.currentPage=K,this.pages=$e.slice(0),this.pagesContext=St.slice(0),this.x=sr,this.y=Jt,this.matrix=gi,this.width=Ds(K),this.height=ai(K),this.outputDestination=et,this.id="",this.objectNumber=-1};Ra.prototype.restore=function(){Dn=this.page,K=this.currentPage,St=this.pagesContext,$e=this.pages,sr=this.x,Jt=this.y,gi=this.matrix,Zo(K,this.width),el(K,this.height),et=this.outputDestination};var Jo=function(_,H,le,pe,Te){Di.push(new Ra),Dn=K=0,$e=[],sr=_,Jt=H,gi=Te,Wr([le,pe])},kc=function(_){if(Fr[_])Di.pop().restore();else{var H=new Ra,le="Xo"+(Object.keys(fr).length+1).toString(10);H.id=le,Fr[_]=le,fr[le]=H,nn.publish("addFormObject",H),Di.pop().restore()}};for(var ua in v.beginFormObject=function(_,H,le,pe,Te){return Jo(_,H,le,pe,Te),this},v.endFormObject=function(_){return kc(_),this},v.doFormObject=function(_,H){var le=fr[Fr[_]];return ue("q"),ue(H.toString()+" cm"),ue("/"+le.id+" Do"),ue("Q"),this},v.getFormObject=function(_){var H=fr[Fr[_]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},v.save=function(_,H){return _=_||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(sh(ro(Ps()),_),typeof sh.unload=="function"&&Mt.setTimeout&&setTimeout(sh.unload,911),this):new Promise(function(le,pe){try{var Te=sh(ro(Ps()),_);typeof sh.unload=="function"&&Mt.setTimeout&&setTimeout(sh.unload,911),le(Te)}catch(Fe){pe(Fe.message)}})},Dt.API)Dt.API.hasOwnProperty(ua)&&(ua==="events"&&Dt.API.events.length?function(_,H){var le,pe,Te;for(Te=H.length-1;Te!==-1;Te--)le=H[Te][0],pe=H[Te][1],_.subscribe.apply(_,[le].concat(typeof pe=="function"?[pe]:pe))}(nn,Dt.API.events):v[ua]=Dt.API[ua]);var Ds=v.getPageWidth=function(_){return(St[_=_||K].mediaBox.topRightX-St[_].mediaBox.bottomLeftX)/at},Zo=v.setPageWidth=function(_,H){St[_].mediaBox.topRightX=H*at+St[_].mediaBox.bottomLeftX},ai=v.getPageHeight=function(_){return(St[_=_||K].mediaBox.topRightY-St[_].mediaBox.bottomLeftY)/at},el=v.setPageHeight=function(_,H){St[_].mediaBox.topRightY=H*at+St[_].mediaBox.bottomLeftY};return v.internal={pdfEscape:lr,getStyle:jl,getFont:Ia,getFontSize:st,getCharSpace:Rs,getTextColor:ds,getLineHeight:so,getLineHeightFactor:si,getLineWidth:Pa,write:Ct,getHorizontalCoordinate:xi,getVerticalCoordinate:cr,getCoordinateString:Rl,getVerticalCoordinateString:hs,collections:{},newObject:Un,newAdditionalObject:wa,newObjectDeferred:qn,newObjectDeferredBegin:Qn,getFilters:ri,putStream:or,events:nn,scaleFactor:at,pageSize:{getWidth:function(){return Ds(K)},setWidth:function(_){Zo(K,_)},getHeight:function(){return ai(K)},setHeight:function(_){el(K,_)}},encryptionOptions:p,encryption:ln,getEncryptor:us,output:Ta,getNumberOfPages:wn,pages:$e,out:ue,f2:z,f3:j,getPageInfo:Fi,getPageInfoByObjId:kt,getCurrentPageInfo:Vi,getPDFVersion:A,Point:fs,Rectangle:ca,Matrix:ct,hasHotfix:cs},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Ds(K)},set:function(_){Zo(K,_)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return ai(K)},set:function(_){el(K,_)},enumerable:!0,configurable:!0}),ka.call(v,Qe),Ut="F1",Aa(i,t),nn.publish("initialized"),v}ud.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},ud.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ud.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},ud.prototype.processOwnerPassword=function(n,e){return oy(ay(e).substr(0,5),n)},ud.prototype.encryptor=function(n,e){var t=ay(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return oy(t,r)}},Rg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||zn(n)!==zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Dt.API={events:[]},Dt.version="3.0.1";var kr=Dt.API,Ov=1,Ch=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},td=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(n){return n.toFixed(2)},ru=function(n){return n.toFixed(5)};kr.__acroform__={};var Zs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},bw=function(n){return n*Ov},dl=function(n){var e=new PN,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number($t(r)),Number($t(t))],e},$L=kr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},GL=kr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},KL=kr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Rr=kr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KL(n,e-1)},Lr=kr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $L(n,e-1)},Dr=kr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GL(n,e-1)},YL=kr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],l=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(s+l)||0,u.upperRight_X=t(i+a)||0,u.upperRight_Y=r(s)||0,[Number($t(u.lowerLeft_X)),Number($t(u.lowerLeft_Y)),Number($t(u.upperRight_X)),Number($t(u.upperRight_Y))]},QL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=ly(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+$t(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=dl(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},ly=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=t,a=gt.internal.getHeight(n)||0;a=a<0?-a:a;var l=gt.internal.getWidth(n)||0;l=l<0?-l:l;var u=function(j,P,O){if(j+1<i.length){var ne=P+" "+i[j+1][0];return _m(ne,n,O).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var d,p,y=_m("3",n,s).height,b=n.multiline?a-s:(a-y)/2,v=b+=2,S=0,A=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+_m(e,n,s=12).width+", FieldWidth:"+l+`
`;break}for(var E="",M=0,q=0;q<i.length;q++)if(i.hasOwnProperty(q)){var re=!1;if(i[q].length!==1&&T!==i[q].length-1){if((y+2)*(M+2)+2>a)continue e;E+=i[q][T],re=!0,A=q,q--}else{E=(E+=i[q][T]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var J=parseInt(q),te=u(J,E,s),L=q>=i.length-1;if(te&&!L){E+=" ",T=0;continue}if(te||L){if(L)A=J;else if(n.multiline&&(y+2)*(M+2)+2>a)continue e}else{if(!n.multiline||(y+2)*(M+2)+2>a)continue e;A=J}}for(var C="",B=S;B<=A;B++){var z=i[B];if(n.multiline){if(B===A){C+=z[T]+" ",T=(T+1)%z.length;continue}if(B===S){C+=z[z.length-1]+" ";continue}}C+=z[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,p=_m(C,n,s).width,n.textAlign){case"right":d=l-p-2;break;case"center":d=(l-p)/2;break;case"left":default:d=2}e+=$t(d)+" "+$t(v)+` Td
`,e+="("+Ch(C)+`) Tj
`,e+=-$t(d)+` 0 Td
`,v=-(s+2),p=0,S=re?A:A+1,M++,E=""}break}return r.text=e,r.fontSize=s,r},_m=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},XL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JL=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},ZL=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),zn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},e9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ho.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(XL)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ov=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new jN,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&JL(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],u=[],d=l.Rect;if(l.Rect&&(l.Rect=YL(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=gt.createDefaultAppearanceStream(l),zn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=QL(l);u.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var y="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var v=l.appearanceStreamContent[b];if(y+="/"+b+" ",y+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var a in v)if(v.hasOwnProperty(a)){var S=v[a];typeof S=="function"&&(S=S.call(i,l)),y+="/"+a+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=v)=="function"&&(S=S.call(i,l)),y+="/"+a+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}s&&ZL(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},IN=kr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),zn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Ch(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},J1=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Ch(r(n))+")"},yl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};yl.prototype.toString=function(){return this.objId+" 0 R"},yl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},yl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:IN(i,this.objId,this.scope)}):i instanceof yl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var PN=function(){yl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Zs(PN,yl);var jN=function(){yl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Ch(t(n))+")"}},set:function(t){n=t}})};Zs(jN,yl);var Ho=function n(){yl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rr(e,3)},set:function(E){E?this.F=Lr(e,3):this.F=Dr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Lg)return;s="FieldObject"+n.FieldNum++}var E=function(M){return M};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Ch(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Ov:d},set:function(E){d=E}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(E){p=E}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Lg||this instanceof mh))return J1(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=E}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof mi?b:J1(b,this.objId,this.scope)},set:function(E){E=E.toString(),b=this instanceof mi?E:E.substr(0,1)==="("?td(E.substr(1,E.length-2)):td(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi?td(b.substr(1,b.length-1)):b},set:function(E){E=E.toString(),b=this instanceof mi?"/"+E:E}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof mi?v:J1(v,this.objId,this.scope)},set:function(E){E=E.toString(),v=this instanceof mi?E:E.substr(0,1)==="("?td(E.substr(1,E.length-2)):td(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi?td(v.substr(1,v.length-1)):v},set:function(E){E=E.toString(),v=this instanceof mi?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(E){E=!!E,A=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(E){S=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,1)},set:function(E){E?this.Ff=Lr(this.Ff,1):this.Ff=Dr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,2)},set:function(E){E?this.Ff=Lr(this.Ff,2):this.Ff=Dr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,3)},set:function(E){E?this.Ff=Lr(this.Ff,3):this.Ff=Dr(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');T=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(T){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};Zs(Ho,yl);var vd=function(){Ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return IN(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,a,l){l||(l=1);for(var u,d=[];u=a.exec(s);)d.push(u[l]);return d}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,18)},set:function(t){t?this.Ff=Lr(this.Ff,18):this.Ff=Dr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Lr(this.Ff,19):this.Ff=Dr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,20)},set:function(t){t?(this.Ff=Lr(this.Ff,20),e.sort()):this.Ff=Dr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,22)},set:function(t){t?this.Ff=Lr(this.Ff,22):this.Ff=Dr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(t){t?this.Ff=Lr(this.Ff,23):this.Ff=Dr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,27)},set:function(t){t?this.Ff=Lr(this.Ff,27):this.Ff=Dr(this.Ff,27)}}),this.hasAppearanceStream=!1};Zs(vd,Ho);var xd=function(){vd.call(this),this.fontName="helvetica",this.combo=!1};Zs(xd,vd);var bd=function(){xd.call(this),this.combo=!0};Zs(bd,xd);var Jm=function(){bd.call(this),this.edit=!0};Zs(Jm,bd);var mi=function(){Ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,15)},set:function(t){t?this.Ff=Lr(this.Ff,15):this.Ff=Dr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,16)},set:function(t){t?this.Ff=Lr(this.Ff,16):this.Ff=Dr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,17)},set:function(t){t?this.Ff=Lr(this.Ff,17):this.Ff=Dr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(t){t?this.Ff=Lr(this.Ff,26):this.Ff=Dr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ch(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Zs(mi,Ho);var Zm=function(){mi.call(this),this.pushButton=!0};Zs(Zm,mi);var wd=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Zs(wd,mi);var Lg=function(){var n,e;Ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Ch(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){zn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zs(Lg,Ho),wd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},wd.prototype.createOption=function(n){var e=new Lg;return e.Parent=this,e.optionName=n,this.Kids.push(e),t9.call(this.scope,e),e};var eg=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Zs(eg,mi);var mh=function(){Ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,13)},set:function(e){e?this.Ff=Lr(this.Ff,13):this.Ff=Dr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,21)},set:function(e){e?this.Ff=Lr(this.Ff,21):this.Ff=Dr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(e){e?this.Ff=Lr(this.Ff,23):this.Ff=Dr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,24)},set:function(e){e?this.Ff=Lr(this.Ff,24):this.Ff=Dr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,25)},set:function(e){e?this.Ff=Lr(this.Ff,25):this.Ff=Dr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(e){e?this.Ff=Lr(this.Ff,26):this.Ff=Dr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zs(mh,Ho);var tg=function(){mh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,14)},set:function(n){n?this.Ff=Lr(this.Ff,14):this.Ff=Dr(this.Ff,14)}}),this.password=!0};Zs(tg,mh);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=ly(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+$t(gt.internal.getWidth(n))+" "+$t(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+$t(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=dl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=gt.internal.getHeight(n),a=gt.internal.getWidth(n),l=ly(n,n.caption);return i.push("1 g"),i.push("0 0 "+$t(a)+" "+$t(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+$t(a-1)+" "+$t(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+$t(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(gt.internal.getWidth(n))+" "+$t(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=gt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ru(gt.internal.getWidth(n)/2)+" "+ru(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5)),a=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ru(gt.internal.getWidth(n)/2)+" "+ru(gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ru(gt.internal.getWidth(n)/2)+" "+ru(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ru(gt.internal.getWidth(n)/2)+" "+ru(gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+$t(gt.internal.getWidth(n)-2)+" "+$t(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push($t(r.x1.x)+" "+$t(r.x1.y)+" m"),t.push($t(r.x2.x)+" "+$t(r.x2.y)+" l"),t.push($t(r.x4.x)+" "+$t(r.x4.y)+" m"),t.push($t(r.x3.x)+" "+$t(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+$t(gt.internal.getWidth(n))+" "+$t(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+$t(gt.internal.getWidth(n)-2)+" "+$t(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push($t(t.x1.x)+" "+$t(t.x1.y)+" m"),r.push($t(t.x2.x)+" "+$t(t.x2.y)+" l"),r.push($t(t.x4.x)+" "+$t(t.x4.y)+" m"),r.push($t(t.x3.x)+" "+$t(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(gt.internal.getWidth(n))+" "+$t(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return zn(n)==="object"&&(e=bw(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return zn(n)==="object"&&(e=bw(n.Rect[3])),e};var t9=kr.addField=function(n){if(e9(this,n),!(n instanceof Ho))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};kr.AcroFormChoiceField=vd,kr.AcroFormListBox=xd,kr.AcroFormComboBox=bd,kr.AcroFormEditBox=Jm,kr.AcroFormButton=mi,kr.AcroFormPushButton=Zm,kr.AcroFormRadioButton=wd,kr.AcroFormCheckBox=eg,kr.AcroFormTextField=mh,kr.AcroFormPasswordField=tg,kr.AcroFormAppearance=gt,kr.AcroForm={ChoiceField:vd,ListBox:xd,ComboBox:bd,EditBox:Jm,Button:mi,PushButton:Zm,RadioButton:wd,CheckBox:eg,TextField:mh,PasswordField:tg,Appearance:gt},Dt.AcroForm={ChoiceField:vd,ListBox:xd,ComboBox:bd,EditBox:Jm,Button:mi,PushButton:Zm,RadioButton:wd,CheckBox:eg,TextField:mh,PasswordField:tg,Appearance:gt};Dt.AcroForm;function CN(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(j,P){var O,ne,de,ye,oe,ae=e;if((P=P||e)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(te(j))for(oe in t)for(de=t[oe],O=0;O<de.length;O+=1){for(ye=!0,ne=0;ne<de[O].length;ne+=1)if(de[O][ne]!==void 0&&de[O][ne]!==j[ne]){ye=!1;break}if(ye===!0){ae=oe;break}}else for(oe in t)for(de=t[oe],O=0;O<de.length;O+=1){for(ye=!0,ne=0;ne<de[O].length;ne+=1)if(de[O][ne]!==void 0&&de[O][ne]!==j.charCodeAt(ne)){ye=!1;break}if(ye===!0){ae=oe;break}}return ae===e&&P!==e&&(ae=P),ae},i=function j(P){for(var O=this.internal.write,ne=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:P.width}),ye.push({key:"Height",value:P.height}),P.colorSpace===T.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===T.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var oe="",ae=0,ge=P.transparency.length;ae<ge;ae++)oe+=P.transparency[ae]+" "+P.transparency[ae]+" ";ye.push({key:"Mask",value:"["+oe+"]"})}P.sMask!==void 0&&ye.push({key:"SMask",value:P.objectId+1+" 0 R"});var me=P.filter!==void 0?["/"+P.filter]:void 0;if(ne({data:P.data,additionalKeyValues:ye,alreadyAppliedFilters:me,objectId:P.objectId}),O("endobj"),"sMask"in P&&P.sMask!==void 0){var Z="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,V={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:Z,data:P.sMask};"filter"in P&&(V.filter=P.filter),j.call(this,V)}if(P.colorSpace===T.INDEXED){var K=this.internal.newObject();ne({data:C(new Uint8Array(P.palette)),objectId:K}),O("endobj")}},s=function(){var j=this.internal.collections.addImage_images;for(var P in j)i.call(this,j[P])},a=function(){var j,P=this.internal.collections.addImage_images,O=this.internal.write;for(var ne in P)O("/I"+(j=P[ne]).index,j.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var j=this.internal.collections.addImage_images;return l.call(this),j},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(j){return typeof n["process"+j.toUpperCase()]=="function"},y=function(j){return zn(j)==="object"&&j.nodeType===1},b=function(j,P){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var O=""+j.getAttribute("src");if(O.indexOf("data:image/")===0)return Bf(unescape(O).split("base64,").pop());var ne=n.loadFile(O,!0);if(ne!==void 0)return ne}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var de;switch(P){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return Bf(j.toDataURL(de,1).split("base64,").pop())}},v=function(j){var P=this.internal.collections.addImage_images;if(P){for(var O in P)if(j===P[O].alias)return P[O]}},S=function(j,P,O){return j||P||(j=-96,P=-96),j<0&&(j=-1*O.width*72/j/this.internal.scaleFactor),P<0&&(P=-1*O.height*72/P/this.internal.scaleFactor),j===0&&(j=P*O.width/O.height),P===0&&(P=j*O.height/O.width),[j,P]},A=function(j,P,O,ne,de,ye){var oe=S.call(this,O,ne,de),ae=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,me=u.call(this);if(O=oe[0],ne=oe[1],me[de.index]=de,ye){ye*=Math.PI/180;var Z=Math.cos(ye),V=Math.sin(ye),K=function(ce){return ce.toFixed(4)},ee=[K(Z),K(V),K(-1*V),K(Z),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,ae(j),ge(P+ne),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([ae(O),"0","0",ae(ne),"0","0","cm"].join(" "))):this.internal.write([ae(O),"0","0",ae(ne),ae(j),ge(P+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},T=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=n.__addimage__.sHashCode=function(j){var P,O,ne=0;if(typeof j=="string")for(O=j.length,P=0;P<O;P++)ne=(ne<<5)-ne+j.charCodeAt(P),ne|=0;else if(te(j))for(O=j.byteLength/2,P=0;P<O;P++)ne=(ne<<5)-ne+j[P],ne|=0;return ne},q=n.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var P=!0;return j.length===0&&(P=!1),j.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(P=!1),P},re=n.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var P=j.indexOf(",");return P<0?null:j.substring(0,P).trim().endsWith("base64")?j.substring(P+1):null},J=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(j){return J()&&j instanceof ArrayBuffer};var te=n.__addimage__.isArrayBufferView=function(j){return J()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},L=n.__addimage__.binaryStringToUint8Array=function(j){for(var P=j.length,O=new Uint8Array(P),ne=0;ne<P;ne++)O[ne]=j.charCodeAt(ne);return O},C=n.__addimage__.arrayBufferToBinaryString=function(j){for(var P="",O=te(j)?j:new Uint8Array(j),ne=0;ne<O.length;ne+=8192)P+=String.fromCharCode.apply(null,O.subarray(ne,ne+8192));return P};n.addImage=function(){var j,P,O,ne,de,ye,oe,ae,ge;if(typeof arguments[1]=="number"?(P=e,O=arguments[1],ne=arguments[2],de=arguments[3],ye=arguments[4],oe=arguments[5],ae=arguments[6],ge=arguments[7]):(P=arguments[1],O=arguments[2],ne=arguments[3],de=arguments[4],ye=arguments[5],oe=arguments[6],ae=arguments[7],ge=arguments[8]),zn(j=arguments[0])==="object"&&!y(j)&&"imageData"in j){var me=j;j=me.imageData,P=me.format||P||e,O=me.x||O||0,ne=me.y||ne||0,de=me.w||me.width||de,ye=me.h||me.height||ye,oe=me.alias||oe,ae=me.compression||ae,ge=me.rotation||me.angle||ge}var Z=this.internal.getFilters();if(ae===void 0&&Z.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(O)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=B.call(this,j,P,oe,ae);return A.call(this,O,ne,de,ye,V,ge),this};var B=function(j,P,O,ne){var de,ye,oe;if(typeof j=="string"&&r(j)===e){j=unescape(j);var ae=z(j,!1);(ae!==""||(ae=n.loadFile(j,!0))!==void 0)&&(j=ae)}if(y(j)&&(j=b(j,P)),P=r(j,P),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((oe=O)==null||oe.length===0)&&(O=function(ge){return typeof ge=="string"||te(ge)?M(ge):te(ge.data)?M(ge.data):null}(j)),(de=v.call(this,O))||(J()&&(j instanceof Uint8Array||P==="RGBA"||(ye=j,j=L(j))),de=this["process"+P.toUpperCase()](j,d.call(this),O,function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in n.image_compression?ge:E.NONE}(ne),ye)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},z=n.__addimage__.convertBase64ToBinaryString=function(j,P){P=typeof P!="boolean"||P;var O,ne="";if(typeof j=="string"){var de;O=(de=re(j))!==null&&de!==void 0?de:j;try{ne=Bf(O)}catch(ye){if(P)throw q(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(j){var P,O,ne="";if(y(j)&&(j=b(j)),typeof j=="string"&&r(j)===e&&((ne=z(j,!1))===""&&(ne=n.loadFile(j)||""),j=ne),O=r(j),!p(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!J()||j instanceof Uint8Array||(j=L(j)),!(P=this["process"+O.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=O,P}})(Dt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Dt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,p=!1,y=0;y<d.length&&!p;y++)switch((r=d[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var v=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(A.objId),M=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+v(E(r.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+v(E(M))+") >>",A.content=s;var q=A.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+q,r.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(A.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var re=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+re+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var te=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+te+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:d(r),w:u(t+i),h:d(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,l,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var p=this.splitTextToSize(t,l).length;a=Math.ceil(d*p)}else l=u,a=d;return this.text(t,r,i,s),i+=.2*d,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-d,l,a,s),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Dt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=n.__arabicParser__.isArabicEndLetter=function(A){return a(A)&&s(A)&&e[A.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(A){return a(A)&&i.indexOf(A.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return a(A)&&s(A)&&e[A.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(A){return a(A)&&s(A)&&e[A.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(A){return a(A)&&s(A)&&e[A.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(A){return a(A)&&s(A)&&e[A.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(A){var T=0,E=t,M="",q=0;for(T=0;T<A.length;T+=1)E[A.charCodeAt(T)]!==void 0?(q++,typeof(E=E[A.charCodeAt(T)])=="number"&&(M+=String.fromCharCode(E),E=t,q=0),T===A.length-1&&(E=t,M+=A.charAt(T-(q-1)),T-=q-1,q=0)):(E=t,M+=A.charAt(T-q),T-=q,q=0);return M};n.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(A,T,E){return a(A)?s(A)===!1?-1:!d(A)||!a(T)&&!a(E)||!a(E)&&l(T)||l(A)&&!a(T)||l(A)&&u(T)||l(A)&&l(T)?0:p(A)&&a(T)&&!l(T)&&a(E)&&d(E)?3:l(A)||!a(E)?1:2:-1},v=function(A){var T=0,E=0,M=0,q="",re="",J="",te=(A=A||"").split("\\s+"),L=[];for(T=0;T<te.length;T+=1){for(L.push(""),E=0;E<te[T].length;E+=1)q=te[T][E],re=te[T][E-1],J=te[T][E+1],a(q)?(M=b(q,re,J),L[T]+=M!==-1?String.fromCharCode(e[q.charCodeAt(0)][M]):q):L[T]+=q;L[T]=y(L[T])}return L.join(" ")},S=n.__arabicParser__.processArabic=n.processArabic=function(){var A,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(T)){var M=0;for(E=[],M=0;M<T.length;M+=1)Array.isArray(T[M])?E.push([v(T[M][0]),T[M][1],T[M][2]]):E.push([v(T[M])]);A=E}else A=v(T);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};n.events.push(["preProcessText",S])}(Dt.API),Dt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Dt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(A){S=A}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,v=0,S=0,A=0,T=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var E=d.maxWidth;E>0?typeof u=="string"?u=this.splitTextToSize(u,E):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(q,re){return q.concat(T.splitTextToSize(re,E))},[])):u=Array.isArray(u)?u:[u];for(var M=0;M<u.length;M++)v<(A=this.getStringUnitWidth(u[M],{font:y})*p)&&(v=A);return v!==0&&(S=u.length),{w:v/=b,h:Math.max((S*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,v&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};n.table=function(u,d,p,y,b){if(r.call(this),!p)throw new Error("No data for PDF table.");var v,S,A,T,E=[],M=[],q=[],re={},J={},te=[],L=[],C=(b=b||{}).autoSize||!1,B=b.printHeaders!==!1,z=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,j=b.margins||Object.assign({width:this.getPageWidth()},e),P=typeof b.padding=="number"?b.padding:3,O=b.headerBackgroundColor||"#c8c8c8",ne=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=ne,this.setFontSize(z),y==null)M=E=Object.keys(p[0]),q=E.map(function(){return"left"});else if(Array.isArray(y)&&zn(y[0])==="object")for(E=y.map(function(me){return me.name}),M=y.map(function(me){return me.prompt||me.name||""}),q=y.map(function(me){return me.align||"left"}),v=0;v<y.length;v+=1)J[y[v].name]=y[v].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(M=E=y,q=E.map(function(){return"left"}));if(C||Array.isArray(y)&&typeof y[0]=="string")for(v=0;v<E.length;v+=1){for(re[T=E[v]]=p.map(function(me){return me[T]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(M[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=re[T],this.setFont(void 0,"normal"),A=0;A<S.length;A+=1)te.push(this.getTextDimensions(S[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[T]=Math.max.apply(null,te)+P+P,te=[]}if(B){var de={};for(v=0;v<E.length;v+=1)de[E[v]]={},de[E[v]].text=M[v],de[E[v]].align=q[v];var ye=l.call(this,de,J);L=E.map(function(me){return new s(u,d,J[me],ye,de[me].text,void 0,de[me].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var oe=y.reduce(function(me,Z){return me[Z.name]=Z.align,me},{});for(v=0;v<p.length;v+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:v,data:p[v]},this);var ae=l.call(this,p[v],J);for(A=0;A<E.length;A+=1){var ge=p[v][E[A]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:v,col:A,data:ge},this),a.call(this,new s(u,d,J[E[A]],ae,ge,v+2,oe[E[A]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(v){var S=u[v];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*y/b+p+p},this).reduce(function(v,S){return Math.max(v,S)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=u;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(S)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(Dt.API);var RN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},LN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],cy=CN(LN),DN=[100,200,300,400,500,600,700,800,900],n9=CN(DN);function uy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return RN[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof cy[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function ww(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var r9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_w={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Nw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function i9(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},r9,t.genericFontFamilies||{}),s=null,a=null,l=0;l<e.length;++l)if(i[(s=uy(e[l])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){a=n[s.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+Nw(s)+"' and default family '"+r+"'.");if(a=function(u,d){if(d[u])return d[u];var p=cy[u],y=p<=cy.normal?-1:1,b=ww(d,LN,p,y);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(s.stretch,a),a=function(u,d){if(d[u])return d[u];for(var p=RN[u],y=0;y<p.length;++y)if(d[p[y]])return d[p[y]];throw new Error("Could not find a matching font-style for "+u)}(s.style,a),!(a=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var p=n9[u],y=ww(d,DN,p,u<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+u);return y}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Nw(s)+"'.");return a}function Sw(n){return n.trimLeft()}function s9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function a9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Nm,kw,Aw,Z1=["times"];(function(n){var e,t,r,i,s,a,l,u,d,p=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new u,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new a,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new a,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new p}]);var y=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=V;Object.defineProperty(this,"pdf",{get:function(){return K}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Oe){ee=!!Oe}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(Oe){ce=!!Oe}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Oe){isNaN(Oe)||(fe=Oe)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(Oe){isNaN(Oe)||(Se=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Oe){var ue;typeof Oe=="number"?ue=[Oe,Oe,Oe,Oe]:((ue=new Array(4))[0]=Oe[0],ue[1]=Oe.length>=2?Oe[1]:ue[0],ue[2]=Oe.length>=3?Oe[2]:ue[0],ue[3]=Oe.length>=4?Oe[3]:ue[1]),d.margin=ue}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(Oe){_e=Oe}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Oe){Ne=Oe}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(Oe){Me=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Oe){Oe instanceof p&&(d=Oe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Oe){d.path=Oe}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(Oe){$e=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var ue;ue=b(Oe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var ue=b(Oe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var tt=null;function et(Oe,ue){if(tt===null){var Ct=function(ft){var Qe=[];return Object.keys(ft).forEach(function(Je){ft[Je].forEach(function(nt){var st=null;switch(nt){case"bold":st={family:Je,weight:"bold"};break;case"italic":st={family:Je,style:"italic"};break;case"bolditalic":st={family:Je,weight:"bold",style:"italic"};break;case"":case"normal":st={family:Je}}st!==null&&(st.ref={name:Je,style:nt},Qe.push(st))})}),Qe}(Oe.getFontList());tt=function(ft){for(var Qe={},Je=0;Je<ft.length;++Je){var nt=uy(ft[Je]),st=nt.family,yt=nt.stretch,Rt=nt.style,Bt=nt.weight;Qe[st]=Qe[st]||{},Qe[st][yt]=Qe[st][yt]||{},Qe[st][yt][Rt]=Qe[st][yt][Rt]||{},Qe[st][yt][Rt][Bt]=nt}return Qe}(Ct.concat(ue))}return tt}var bt=null;Object.defineProperty(this,"fontFaces",{get:function(){return bt},set:function(Oe){tt=null,bt=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var ue;if(this.ctx.font=Oe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var Ct=ue[1];ue[2];var ft=ue[3],Qe=ue[4];ue[5];var Je=ue[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(nt==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var st=function(It){var Ut,at,sr=[],Jt=It.trim();if(Jt==="")return Z1;if(Jt in _w)return[_w[Jt]];for(;Jt!=="";){switch(at=null,Ut=(Jt=Sw(Jt)).charAt(0)){case'"':case"'":at=s9(Jt.substring(1),Ut);break;default:at=a9(Jt)}if(at===null||(sr.push(at[0]),(Jt=Sw(at[1]))!==""&&Jt.charAt(0)!==","))return Z1;Jt=Jt.replace(/^,/,"")}return sr}(Je);if(this.fontFaces){var yt=i9(et(this.pdf,this.fontFaces),st.map(function(It){return{family:It,stretch:"normal",weight:ft,style:Ct}}));this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var Rt="";(ft==="bold"||parseInt(ft,10)>=700||Ct==="bold")&&(Rt="bold"),Ct==="italic"&&(Rt+="italic"),Rt.length===0&&(Rt="normal");for(var Bt="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<st.length;Tt++){if(this.pdf.internal.getFont(st[Tt],Rt,{noFallback:!0,disableWarning:!0})!==void 0){Bt=st[Tt];break}if(Rt==="bolditalic"&&this.pdf.internal.getFont(st[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Bt=st[Tt],Rt="bold";else if(this.pdf.internal.getFont(st[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Bt=st[Tt],Rt="normal";break}}if(Bt===""){for(var Xt=0;Xt<st.length;Xt++)if(wt[st[Xt]]){Bt=wt[st[Xt]];break}}Bt=Bt===""?"Times":Bt,this.pdf.setFont(Bt,Rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};y.prototype.setLineDash=function(V){this.lineDash=V},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){re.call(this,"fill",!1)},y.prototype.stroke=function(){re.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(V,K){if(isNaN(V)||isNaN(K))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new a(V,K));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(V,K)},y.prototype.closePath=function(){var V=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&zn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){V=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(V.x,V.y)},y.prototype.lineTo=function(V,K){if(isNaN(V)||isNaN(K))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new a(V,K));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),re.call(this,null,!0)},y.prototype.quadraticCurveTo=function(V,K,ee,ce){if(isNaN(ee)||isNaN(ce)||isNaN(V)||isNaN(K))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new a(ee,ce)),Se=this.ctx.transform.applyToPoint(new a(V,K));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},y.prototype.bezierCurveTo=function(V,K,ee,ce,fe,Se){if(isNaN(fe)||isNaN(Se)||isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(ce))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new a(fe,Se)),Ne=this.ctx.transform.applyToPoint(new a(V,K)),Me=this.ctx.transform.applyToPoint(new a(ee,ce));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Me.x,y2:Me.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new a(_e.x,_e.y)},y.prototype.arc=function(V,K,ee,ce,fe,Se){if(isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(ce)||isNaN(fe))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new a(V,K));V=_e.x,K=_e.y;var Ne=this.ctx.transform.applyToPoint(new a(0,ee)),Me=this.ctx.transform.applyToPoint(new a(0,0));ee=Math.sqrt(Math.pow(Ne.x-Me.x,2)+Math.pow(Ne.y-Me.y,2))}Math.abs(fe-ce)>=2*Math.PI&&(ce=0,fe=2*Math.PI),this.path.push({type:"arc",x:V,y:K,radius:ee,startAngle:ce,endAngle:fe,counterclockwise:Se})},y.prototype.arcTo=function(V,K,ee,ce,fe){throw new Error("arcTo not implemented.")},y.prototype.rect=function(V,K,ee,ce){if(isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(ce))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,K),this.lineTo(V+ee,K),this.lineTo(V+ee,K+ce),this.lineTo(V,K+ce),this.lineTo(V,K),this.lineTo(V+ee,K),this.lineTo(V,K)},y.prototype.fillRect=function(V,K,ee,ce){if(isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(ce))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,K,ee,ce),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},y.prototype.strokeRect=function(V,K,ee,ce){if(isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(ce))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(V,K,ee,ce),this.stroke())},y.prototype.clearRect=function(V,K,ee,ce){if(isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(ce))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,K,ee,ce))},y.prototype.save=function(V){V=typeof V!="boolean"||V;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},y.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(K),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(V){var K,ee,ce,fe;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))K=0,ee=0,ce=0,fe=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(Se!==null)K=parseInt(Se[1]),ee=parseInt(Se[2]),ce=parseInt(Se[3]),fe=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)K=parseInt(Se[1]),ee=parseInt(Se[2]),ce=parseInt(Se[3]),fe=parseFloat(Se[4]);else{if(fe=1,typeof V=="string"&&V.charAt(0)!=="#"){var _e=new AN(V);V=_e.ok?_e.toHex():"#000000"}V.length===4?(K=V.substring(1,2),K+=K,ee=V.substring(2,3),ee+=ee,ce=V.substring(3,4),ce+=ce):(K=V.substring(1,3),ee=V.substring(3,5),ce=V.substring(5,7)),K=parseInt(K,16),ee=parseInt(ee,16),ce=parseInt(ce,16)}}return{r:K,g:ee,b:ce,a:fe,style:V}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(V,K,ee,ce){if(isNaN(K)||isNaN(ee)||typeof V!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!v.call(this)){var fe=ae(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;P.call(this,{text:V,x:K,y:ee,scale:Se,angle:fe,align:this.textAlign,maxWidth:ce})}},y.prototype.strokeText=function(V,K,ee,ce){if(isNaN(K)||isNaN(ee)||typeof V!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ce=isNaN(ce)?void 0:ce;var fe=ae(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;P.call(this,{text:V,x:K,y:ee,scale:Se,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ce})}},y.prototype.measureText=function(V){if(typeof V!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ee=this.pdf.internal.scaleFactor,ce=K.internal.getFontSize(),fe=K.getStringUnitWidth(V)*ce/K.internal.scaleFactor,Se=function(_e){var Ne=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this};return new Se({width:fe*=Math.round(96*ee/72*1e4)/1e4})},y.prototype.scale=function(V,K){if(isNaN(V)||isNaN(K))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new u(V,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},y.prototype.rotate=function(V){if(isNaN(V))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new u(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.translate=function(V,K){if(isNaN(V)||isNaN(K))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new u(1,0,0,1,V,K);this.ctx.transform=this.ctx.transform.multiply(ee)},y.prototype.transform=function(V,K,ee,ce,fe,Se){if(isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(ce)||isNaN(fe)||isNaN(Se))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new u(V,K,ee,ce,fe,Se);this.ctx.transform=this.ctx.transform.multiply(_e)},y.prototype.setTransform=function(V,K,ee,ce,fe,Se){V=isNaN(V)?1:V,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,ce=isNaN(ce)?1:ce,fe=isNaN(fe)?0:fe,Se=isNaN(Se)?0:Se,this.ctx.transform=new u(V,K,ee,ce,fe,Se)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(V,K,ee,ce,fe,Se,_e,Ne,Me){var $e=this.pdf.getImageProperties(V),tt=1,et=1,bt=1,Oe=1;ce!==void 0&&Ne!==void 0&&(bt=Ne/ce,Oe=Me/fe,tt=$e.width/ce*Ne/ce,et=$e.height/fe*Me/fe),Se===void 0&&(Se=K,_e=ee,K=0,ee=0),ce!==void 0&&Ne===void 0&&(Ne=ce,Me=fe),ce===void 0&&Ne===void 0&&(Ne=$e.width,Me=$e.height);for(var ue,Ct=this.ctx.transform.decompose(),ft=ae(Ct.rotate.shx),Qe=new u,Je=(Qe=(Qe=(Qe=Qe.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale)).applyToRectangle(new l(Se-K*bt,_e-ee*Oe,ce*tt,fe*et)),nt=T.call(this,Je),st=[],yt=0;yt<nt.length;yt+=1)st.indexOf(nt[yt])===-1&&st.push(nt[yt]);if(q(st),this.autoPaging)for(var Rt=st[0],Bt=st[st.length-1],wt=Rt;wt<Bt+1;wt++){this.pdf.setPage(wt);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=wt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=wt===1?0:It+(wt-2)*Ut;if(this.ctx.clip_path.length!==0){var sr=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ue,this.posX+this.margin[3],-at+Xt+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=sr}var Jt=JSON.parse(JSON.stringify(Je));Jt=M([Jt],this.posX+this.margin[3],-at+Xt+this.ctx.prevPageLastElemOffset)[0];var gi=(wt>Rt||wt<Bt)&&A.call(this);gi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,Ut,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,ft),gi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,ft)};var T=function(V,K,ee){var ce=[];K=K||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":ce.push(Math.floor((V.y+fe)/ee)+1);break;case"arc":ce.push(Math.floor((V.y+fe-V.radius)/ee)+1),ce.push(Math.floor((V.y+fe+V.radius)/ee)+1);break;case"qct":var Se=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);ce.push(Math.floor((Se.y+fe)/ee)+1),ce.push(Math.floor((Se.y+Se.h+fe)/ee)+1);break;case"bct":var _e=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);ce.push(Math.floor((_e.y+fe)/ee)+1),ce.push(Math.floor((_e.y+_e.h+fe)/ee)+1);break;case"rect":ce.push(Math.floor((V.y+fe)/ee)+1),ce.push(Math.floor((V.y+V.h+fe)/ee)+1)}for(var Ne=0;Ne<ce.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<ce[Ne];)E.call(this);return ce},E=function(){var V=this.fillStyle,K=this.strokeStyle,ee=this.font,ce=this.lineCap,fe=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=K,this.font=ee,this.lineCap=ce,this.lineWidth=fe,this.lineJoin=Se},M=function(V,K,ee){for(var ce=0;ce<V.length;ce++)switch(V[ce].type){case"bct":V[ce].x2+=K,V[ce].y2+=ee;case"qct":V[ce].x1+=K,V[ce].y1+=ee;case"mt":case"lt":case"arc":default:V[ce].x+=K,V[ce].y+=ee}return V},q=function(V){return V.sort(function(K,ee){return K-ee})},re=function(V,K){for(var ee,ce,fe=this.fillStyle,Se=this.strokeStyle,_e=this.lineCap,Ne=this.lineWidth,Me=Math.abs(Ne*this.ctx.transform.scaleX),$e=this.lineJoin,tt=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),bt=[],Oe=0;Oe<et.length;Oe++)if(et[Oe].x!==void 0)for(var ue=T.call(this,et[Oe]),Ct=0;Ct<ue.length;Ct+=1)bt.indexOf(ue[Ct])===-1&&bt.push(ue[Ct]);for(var ft=0;ft<bt.length;ft++)for(;this.pdf.internal.getNumberOfPages()<bt[ft];)E.call(this);if(q(bt),this.autoPaging)for(var Qe=bt[0],Je=bt[bt.length-1],nt=Qe;nt<Je+1;nt++){this.pdf.setPage(nt),this.fillStyle=fe,this.strokeStyle=Se,this.lineCap=_e,this.lineWidth=Me,this.lineJoin=$e;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=nt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=nt===1?0:Rt+(nt-2)*Bt;if(this.ctx.clip_path.length!==0){var Tt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ee,this.posX+this.margin[3],-wt+yt+this.ctx.prevPageLastElemOffset),J.call(this,V,!0),this.path=Tt}if(ce=JSON.parse(JSON.stringify(tt)),this.path=M(ce,this.posX+this.margin[3],-wt+yt+this.ctx.prevPageLastElemOffset),K===!1||nt===0){var Xt=(nt>Qe||nt<Je)&&A.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Bt,null).clip().discardPath()),J.call(this,V,K),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=Me,J.call(this,V,K),this.lineWidth=Ne;this.path=tt},J=function(V,K){if((V!=="stroke"||K||!S.call(this))&&(V==="stroke"||K||!v.call(this))){for(var ee,ce,fe=[],Se=this.path,_e=0;_e<Se.length;_e++){var Ne=Se[_e];switch(Ne.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Me=fe.length;if(Se[_e-1]&&!isNaN(Se[_e-1].x)&&(ee=[Ne.x-Se[_e-1].x,Ne.y-Se[_e-1].y],Me>0)){for(;Me>=0;Me--)if(fe[Me-1].close!==!0&&fe[Me-1].begin!==!0){fe[Me-1].deltas.push(ee),fe[Me-1].abs.push(Ne);break}}break;case"bct":ee=[Ne.x1-Se[_e-1].x,Ne.y1-Se[_e-1].y,Ne.x2-Se[_e-1].x,Ne.y2-Se[_e-1].y,Ne.x-Se[_e-1].x,Ne.y-Se[_e-1].y],fe[fe.length-1].deltas.push(ee);break;case"qct":var $e=Se[_e-1].x+2/3*(Ne.x1-Se[_e-1].x),tt=Se[_e-1].y+2/3*(Ne.y1-Se[_e-1].y),et=Ne.x+2/3*(Ne.x1-Ne.x),bt=Ne.y+2/3*(Ne.y1-Ne.y),Oe=Ne.x,ue=Ne.y;ee=[$e-Se[_e-1].x,tt-Se[_e-1].y,et-Se[_e-1].x,bt-Se[_e-1].y,Oe-Se[_e-1].x,ue-Se[_e-1].y],fe[fe.length-1].deltas.push(ee);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(Ne)}}ce=K?null:V==="stroke"?"stroke":"fill";for(var Ct=!1,ft=0;ft<fe.length;ft++)if(fe[ft].arc)for(var Qe=fe[ft].abs,Je=0;Je<Qe.length;Je++){var nt=Qe[Je];nt.type==="arc"?C.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,K,!Ct):O.call(this,nt.x,nt.y),Ct=!0}else if(fe[ft].close===!0)this.pdf.internal.out("h"),Ct=!1;else if(fe[ft].begin!==!0){var st=fe[ft].start.x,yt=fe[ft].start.y;ne.call(this,fe[ft].deltas,st,yt),Ct=!0}ce&&B.call(this,ce),K&&z.call(this)}},te=function(V){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-ee;case"top":return V+K-ee;case"hanging":return V+K-2*ee;case"middle":return V+K/2-ee;case"ideographic":return V;case"alphabetic":default:return V}},L=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(K,ee){this.colorStops.push([K,ee])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(V,K,ee,ce,fe,Se,_e,Ne,Me){for(var $e=ye.call(this,ee,ce,fe,Se),tt=0;tt<$e.length;tt++){var et=$e[tt];tt===0&&(Me?j.call(this,et.x1+V,et.y1+K):O.call(this,et.x1+V,et.y1+K)),de.call(this,V,K,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Ne?z.call(this):B.call(this,_e)},B=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(V,K){this.pdf.internal.out(t(V)+" "+r(K)+" m")},P=function(V){var K;switch(V.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var ee=this.pdf.getTextDimensions(V.text),ce=te.call(this,V.y),fe=L.call(this,ce)-ee.h,Se=this.ctx.transform.applyToPoint(new a(V.x,ce)),_e=this.ctx.transform.decompose(),Ne=new u;Ne=(Ne=(Ne=Ne.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Me,$e,tt,et=this.ctx.transform.applyToRectangle(new l(V.x,ce,ee.w,ee.h)),bt=Ne.applyToRectangle(new l(V.x,fe,ee.w,ee.h)),Oe=T.call(this,bt),ue=[],Ct=0;Ct<Oe.length;Ct+=1)ue.indexOf(Oe[Ct])===-1&&ue.push(Oe[Ct]);if(q(ue),this.autoPaging)for(var ft=ue[0],Qe=ue[ue.length-1],Je=ft;Je<Qe+1;Je++){this.pdf.setPage(Je);var nt=Je===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],Rt=yt-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],wt=Bt-this.margin[3],Tt=Je===1?0:st+(Je-2)*Rt;if(this.ctx.clip_path.length!==0){var Xt=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Me,this.posX+this.margin[3],-1*Tt+nt),J.call(this,"fill",!0),this.path=Xt}var It=M([JSON.parse(JSON.stringify(bt))],this.posX+this.margin[3],-Tt+nt+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*V.scale),tt=this.lineWidth,this.lineWidth=tt*V.scale);var Ut=this.autoPaging!=="text";if(Ut||It.y+It.h<=yt){if(Ut||It.y>=nt&&It.x<=Bt){var at=Ut?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Bt-It.x)[0],sr=M([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Tt+nt+this.ctx.prevPageLastElemOffset)[0],Jt=Ut&&(Je>ft||Je<Qe)&&A.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Rt,null).clip().discardPath()),this.pdf.text(at,sr.x,sr.y,{angle:V.angle,align:K,renderingMode:V.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else It.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-It.y);V.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=tt)}else V.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*V.scale),tt=this.lineWidth,this.lineWidth=tt*V.scale),this.pdf.text(V.text,Se.x+this.posX,Se.y+this.posY,{angle:V.angle,align:K,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=tt)},O=function(V,K,ee,ce){ee=ee||0,ce=ce||0,this.pdf.internal.out(t(V+ee)+" "+r(K+ce)+" l")},ne=function(V,K,ee){return this.pdf.lines(V,K,ee,null,null)},de=function(V,K,ee,ce,fe,Se,_e,Ne){this.pdf.internal.out([e(i(ee+V)),e(s(ce+K)),e(i(fe+V)),e(s(Se+K)),e(i(_e+V)),e(s(Ne+K)),"c"].join(" "))},ye=function(V,K,ee,ce){for(var fe=2*Math.PI,Se=Math.PI/2;K>ee;)K-=fe;var _e=Math.abs(ee-K);_e<fe&&ce&&(_e=fe-_e);for(var Ne=[],Me=ce?-1:1,$e=K;_e>1e-5;){var tt=$e+Me*Math.min(_e,Se);Ne.push(oe.call(this,V,$e,tt)),_e-=Math.abs(tt-$e),$e=tt}return Ne},oe=function(V,K,ee){var ce=(ee-K)/2,fe=V*Math.cos(ce),Se=V*Math.sin(ce),_e=fe,Ne=-Se,Me=_e*_e+Ne*Ne,$e=Me+_e*fe+Ne*Se,tt=4/3*(Math.sqrt(2*Me*$e)-$e)/(_e*Se-Ne*fe),et=_e-tt*Ne,bt=Ne+tt*_e,Oe=et,ue=-bt,Ct=ce+K,ft=Math.cos(Ct),Qe=Math.sin(Ct);return{x1:V*Math.cos(K),y1:V*Math.sin(K),x2:et*ft-bt*Qe,y2:et*Qe+bt*ft,x3:Oe*ft-ue*Qe,y3:Oe*Qe+ue*ft,x4:V*Math.cos(ee),y4:V*Math.sin(ee)}},ae=function(V){return 180*V/Math.PI},ge=function(V,K,ee,ce,fe,Se){var _e=V+.5*(ee-V),Ne=K+.5*(ce-K),Me=fe+.5*(ee-fe),$e=Se+.5*(ce-Se),tt=Math.min(V,fe,_e,Me),et=Math.max(V,fe,_e,Me),bt=Math.min(K,Se,Ne,$e),Oe=Math.max(K,Se,Ne,$e);return new l(tt,bt,et-tt,Oe-bt)},me=function(V,K,ee,ce,fe,Se,_e,Ne){var Me,$e,tt,et,bt,Oe,ue,Ct,ft,Qe,Je,nt,st,yt,Rt=ee-V,Bt=ce-K,wt=fe-ee,Tt=Se-ce,Xt=_e-fe,It=Ne-Se;for($e=0;$e<41;$e++)ft=(ue=(tt=V+(Me=$e/40)*Rt)+Me*((bt=ee+Me*wt)-tt))+Me*(bt+Me*(fe+Me*Xt-bt)-ue),Qe=(Ct=(et=K+Me*Bt)+Me*((Oe=ce+Me*Tt)-et))+Me*(Oe+Me*(Se+Me*It-Oe)-Ct),$e==0?(Je=ft,nt=Qe,st=ft,yt=Qe):(Je=Math.min(Je,ft),nt=Math.min(nt,Qe),st=Math.max(st,ft),yt=Math.max(yt,Qe));return new l(Math.round(Je),Math.round(nt),Math.round(st-Je),Math.round(yt-nt))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,K,ee=(V=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:K}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Dt.API),function(n){var e=function(s){var a,l,u,d,p,y,b,v,S,A;for(l=[],u=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(p=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(y=(p=((p=((p=((p=(p-(A=p%85))/85)-(S=p%85))/85)-(v=p%85))/85)-(b=p%85))/85)%85,l.push(y+33,b+33,v+33,S+33,A+33)):l.push(122);return function(T,E){for(var M=E;M>0;M--)T.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,u,d,p,y=String,b="length",v=255,S="charCodeAt",A="slice",T="replace";for(s[A](-2),s=s[A](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),u=[],d=0,p=(s+=a="uuuuu"[A](s[b]%5||5))[b];p>d;d+=5)l=52200625*(s[S](d)-33)+614125*(s[S](d+1)-33)+7225*(s[S](d+2)-33)+85*(s[S](d+3)-33)+(s[S](d+4)-33),u.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(E,M){for(var q=M;q>0;q--)E.pop()}(u,a[b]),y.fromCharCode.apply(y,u)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=iy(a)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};n.processDataByFilters=function(s,a){var l=0,u=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Dt.API),function(n){n.loadFile=function(e,t,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(u,d,p){var y=new XMLHttpRequest,b=0,v=function(S){var A=S.length,T=[],E=String.fromCharCode;for(b=0;b<A;b+=1)T.push(E(255&S.charCodeAt(b)));return T.join("")};if(y.open("GET",u,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?p(v(this.responseText)):p(void 0)}),y.send(null),d&&y.status===200)return v(y.responseText)}(i,s,a)}catch{}return l}(e,t,r)},n.loadImageFile=n.loadFile}(Dt.API),function(n){function e(){return(Mt.html2canvas?Promise.resolve(Mt.html2canvas):Z2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Mt.DOMPurify?Promise.resolve(Mt.DOMPurify):Z2(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=zn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(d,p){for(var y=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)p!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||y.appendChild(u(b,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(y.width=d.width,y.height=d.height,y.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(y.value=d.value),y.addEventListener("load",function(){y.scrollTop=d.scrollTop,y.scrollLeft=d.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var v=d[b],S=v.src.find(function(A){return A.format==="truetype"});S&&u.addFont(S.url,v.ref.name,v.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),l(this.prop.container,y)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(a=a||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,d){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(d,p){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,d),y}).then(d,p).then(function(y){return u.updateProgress(1),y})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=u.call(d,a,l);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Dt.getPageSize=function(a,l,u){if(zn(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var p,y=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var v,S=0,A=0;if(b.hasOwnProperty(y))S=b[y][1]/p,A=b[y][0]/p;else try{S=u[1],A=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",A>S&&(v=A,A=S,S=v);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",S>A&&(v=A,A=S,S=v)}return{width:A,height:S,unit:l,k:p,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(uy):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(Dt.API),Dt.API.addJS=function(n){return Aw=n,this.internal.events.subscribe("postPutResources",function(){Nm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Nm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Aw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Nm!==void 0&&kw!==void 0&&this.internal.out("/Names <</JavaScript "+Nm+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=r.exec(a);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(s=0;s<d;s++){var y=t.internal.newObject();p.push(y);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<p.length;s++)t.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var u=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Dt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,l){var u,d=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(y){for(var b,v=256*y.charCodeAt(4)+y.charCodeAt(5),S=y.length,A={width:0,height:0,numcomponents:1},T=4;T<S;T+=2){if(T+=v,e.indexOf(y.charCodeAt(T+1))!==-1){b=256*y.charCodeAt(T+5)+y.charCodeAt(T+6),A={width:256*y.charCodeAt(T+7)+y.charCodeAt(T+8),height:b,numcomponents:y.charCodeAt(T+9)};break}v=256*y.charCodeAt(T+2)+y.charCodeAt(T+3)}return A}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return p}}(Dt.API);var nd,Sm,Ew,Tw,Iw,o9=function(){var n,e,t;function r(s){var a,l,u,d,p,y,b,v,S,A,T,E,M,q;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(a=this.readUInt32(),S=(function(){var re,J;for(J=[],re=0;re<4;++re)J.push(String.fromCharCode(this.data[this.pos++]));return J}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,y.delay=1e3*p/d,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,a-=4),s=(y!=null?y.data:void 0)||this.imgData,E=0;0<=a?E<a:E>a;0<=a?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((A=u-this.transparency.indexed.length)>0)for(M=0;0<=A?M<A:M>A;0<=A?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":b=(T=this.read(a)).indexOf(0),v=String.fromCharCode.apply(String,T.slice(0,b)),this.text[v]=String.fromCharCode.apply(String,T.slice(b+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(q=this.colorType)===4||q===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),u=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(y,b,v,S){var A,T,E,M,q,re,J,te,L,C,B,z,j,P,O,ne,de,ye,oe,ae,ge,me=Math.ceil((d.width-y)/v),Z=Math.ceil((d.height-b)/S),V=d.width==me&&d.height==Z;for(P=a*me,z=V?l:new Uint8Array(P*Z),re=s.length,j=0,T=0;j<Z&&u<re;){switch(s[u++]){case 0:for(M=de=0;de<P;M=de+=1)z[T++]=s[u++];break;case 1:for(M=ye=0;ye<P;M=ye+=1)A=s[u++],q=M<a?0:z[T-a],z[T++]=(A+q)%256;break;case 2:for(M=oe=0;oe<P;M=oe+=1)A=s[u++],E=(M-M%a)/a,O=j&&z[(j-1)*P+E*a+M%a],z[T++]=(O+A)%256;break;case 3:for(M=ae=0;ae<P;M=ae+=1)A=s[u++],E=(M-M%a)/a,q=M<a?0:z[T-a],O=j&&z[(j-1)*P+E*a+M%a],z[T++]=(A+Math.floor((q+O)/2))%256;break;case 4:for(M=ge=0;ge<P;M=ge+=1)A=s[u++],E=(M-M%a)/a,q=M<a?0:z[T-a],j===0?O=ne=0:(O=z[(j-1)*P+E*a+M%a],ne=E&&z[(j-1)*P+(E-1)*a+M%a]),J=q+O-ne,te=Math.abs(J-q),C=Math.abs(J-O),B=Math.abs(J-ne),L=te<=C&&te<=B?q:C<=B?O:ne,z[T++]=(A+L)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!V){var K=((b+j*S)*d.width+y)*a,ee=j*P;for(M=0;M<me;M+=1){for(var ce=0;ce<a;ce+=1)l[K++]=z[ee++];K+=(v-1)*a}}j++}}return s=VL(s),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},r.prototype.decodePalette=function(){var s,a,l,u,d,p,y,b,v;for(l=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+l.length),u=0,s=0,a=y=0,b=l.length;y<b;a=y+=3)d[u++]=l[a],d[u++]=l[a+1],d[u++]=l[a+2],d[u++]=(v=p[s++])!=null?v:255;return d},r.prototype.copyToImageData=function(s,a){var l,u,d,p,y,b,v,S,A,T,E;if(u=this.colors,A=null,l=this.hasAlphaChannel,this.palette.length&&(A=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),u=4,l=!0),S=(d=s.data||s).length,y=A||a,p=b=0,u===1)for(;p<S;)v=A?4*a[p/4]:b,T=y[v++],d[p++]=T,d[p++]=T,d[p++]=T,d[p++]=l?y[v++]:255,b=v;else for(;p<S;)v=A?4*a[p/4]:b,d[p++]=y[v++],d[p++]=y[v++],d[p++]=y[v++],d[p++]=l?y[v++]:255,b=v},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Mt)==="[object Window]"){try{e=Mt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,l,u,d,p,y,b,v;if(this.animation){for(v=[],l=p=0,y=(b=this.animation.frames).length;p<y;l=++p)a=b[l],u=s.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,d),a.imageData=u,v.push(a.image=n(u));return v}},r.prototype.renderFrame=function(s,a){var l,u,d;return l=(u=this.animation.frames)[a],d=u[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var a,l,u,d,p,y,b=this;return l=0,y=this.animation,d=y.numFrames,u=y.frames,p=y.numPlays,(a=function(){var v,S;if(v=l++%d,S=u[v],b.renderFrame(s,v),d>1&&l/d<p)return b.animation._timeout=setTimeout(a,S.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function l9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<(7&i)+1;n[e++],n[e++];var l=null,u=null;s&&(l=e,u=a,e+=3*a);var d=!0,p=[],y=0,b=null,v=0,S=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,S=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=n[e++];y=n[e++]|n[e++]<<8,b=n[e++],(1&A)==0&&(b=null),v=A>>2&7,e++;break;case 254:for(;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var T=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,M=n[e++]|n[e++]<<8,q=n[e++]|n[e++]<<8,re=n[e++],J=re>>6&1,te=1<<(7&re)+1,L=l,C=u,B=!1;re>>7&&(B=!0,L=e,C=te,e+=3*te);var z=e;for(e++;;){var j;if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}p.push({x:T,y:E,width:M,height:q,has_local_palette:B,palette_offset:L,palette_size:C,data_offset:z,data_length:e-z,transparent_index:b,interlaced:!!J,delay:y,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function(P){if(P<0||P>=p.length)throw new Error("Frame index out of range.");return p[P]},this.decodeAndBlitFrameBGRA=function(P,O){var ne=this.frameInfo(P),de=ne.width*ne.height,ye=new Uint8Array(de);Pw(n,ne.data_offset,ye,de);var oe=ne.palette_offset,ae=ne.transparent_index;ae===null&&(ae=256);var ge=ne.width,me=t-ge,Z=ge,V=4*(ne.y*t+ne.x),K=4*((ne.y+ne.height)*t+ne.x),ee=V,ce=4*me;ne.interlaced===!0&&(ce+=4*t*7);for(var fe=8,Se=0,_e=ye.length;Se<_e;++Se){var Ne=ye[Se];if(Z===0&&(Z=ge,(ee+=ce)>=K&&(ce=4*me+4*t*(fe-1),ee=V+(ge+me)*(fe<<1),fe>>=1)),Ne===ae)ee+=4;else{var Me=n[oe+3*Ne],$e=n[oe+3*Ne+1],tt=n[oe+3*Ne+2];O[ee++]=tt,O[ee++]=$e,O[ee++]=Me,O[ee++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(P,O){var ne=this.frameInfo(P),de=ne.width*ne.height,ye=new Uint8Array(de);Pw(n,ne.data_offset,ye,de);var oe=ne.palette_offset,ae=ne.transparent_index;ae===null&&(ae=256);var ge=ne.width,me=t-ge,Z=ge,V=4*(ne.y*t+ne.x),K=4*((ne.y+ne.height)*t+ne.x),ee=V,ce=4*me;ne.interlaced===!0&&(ce+=4*t*7);for(var fe=8,Se=0,_e=ye.length;Se<_e;++Se){var Ne=ye[Se];if(Z===0&&(Z=ge,(ee+=ce)>=K&&(ce=4*me+4*t*(fe-1),ee=V+(ge+me)*(fe<<1),fe>>=1)),Ne===ae)ee+=4;else{var Me=n[oe+3*Ne],$e=n[oe+3*Ne+1],tt=n[oe+3*Ne+2];O[ee++]=Me,O[ee++]=$e,O[ee++]=tt,O[ee++]=255}--Z}}}function Pw(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,l=a+1,u=i+1,d=(1<<u)-1,p=0,y=0,b=0,v=n[e++],S=new Int32Array(4096),A=null;;){for(;p<16&&v!==0;)y|=n[e++]<<p,p+=8,v===1?v=n[e++]:--v;if(p<u)break;var T=y&d;if(y>>=u,p-=u,T!==s){if(T===a)break;for(var E=T<l?T:A,M=0,q=E;q>s;)q=S[q]>>8,++M;var re=q;if(b+M+(E!==T?1:0)>r)return void $n.log("Warning, gif stream longer than expected.");t[b++]=re;var J=b+=M;for(E!==T&&(t[b++]=re),q=E;M--;)q=S[q],t[--J]=255&q,q>>=8;A!==null&&l<4096&&(S[l++]=A<<8|re,l>=d+1&&u<12&&(++u,d=d<<1|1)),A=T}else l=a+1,d=(1<<(u=i+1))-1,A=null}return b!==r&&$n.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function e2(n){var e,t,r,i,s,a=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),p=new Array(64),y=new Array(65535),b=new Array(65535),v=new Array(64),S=new Array(64),A=[],T=0,E=7,M=new Array(64),q=new Array(64),re=new Array(64),J=new Array(256),te=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(V,K){for(var ee=0,ce=0,fe=new Array,Se=1;Se<=16;Se++){for(var _e=1;_e<=V[Se];_e++)fe[K[ce]]=[],fe[K[ce]][0]=ee,fe[K[ce]][1]=Se,ce++,ee++;ee*=2}return fe}function oe(V){for(var K=V[0],ee=V[1]-1;ee>=0;)K&1<<ee&&(T|=1<<E),ee--,--E<0&&(T==255?(ae(255),ae(0)):ae(T),E=7,T=0)}function ae(V){A.push(V)}function ge(V){ae(V>>8&255),ae(255&V)}function me(V,K,ee,ce,fe){for(var Se,_e=fe[0],Ne=fe[240],Me=function(Qe,Je){var nt,st,yt,Rt,Bt,wt,Tt,Xt,It,Ut,at=0;for(It=0;It<8;++It){nt=Qe[at],st=Qe[at+1],yt=Qe[at+2],Rt=Qe[at+3],Bt=Qe[at+4],wt=Qe[at+5],Tt=Qe[at+6];var sr=nt+(Xt=Qe[at+7]),Jt=nt-Xt,gi=st+Tt,dn=st-Tt,En=yt+wt,Li=yt-wt,Zt=Rt+Bt,Es=Rt-Bt,Ln=sr+Zt,ar=sr-Zt,Or=gi+En,Dn=gi-En;Qe[at]=Ln+Or,Qe[at+4]=Ln-Or;var St=.707106781*(Dn+ar);Qe[at+2]=ar+St,Qe[at+6]=ar-St;var nn=.382683433*((Ln=Es+Li)-(Dn=dn+Jt)),os=.5411961*Ln+nn,fr=1.306562965*Dn+nn,Fr=.707106781*(Or=Li+dn),Di=Jt+Fr,ct=Jt-Fr;Qe[at+5]=ct+os,Qe[at+3]=ct-os,Qe[at+1]=Di+fr,Qe[at+7]=Di-fr,at+=8}for(at=0,It=0;It<8;++It){nt=Qe[at],st=Qe[at+8],yt=Qe[at+16],Rt=Qe[at+24],Bt=Qe[at+32],wt=Qe[at+40],Tt=Qe[at+48];var ti=nt+(Xt=Qe[at+56]),vr=nt-Xt,xr=st+Tt,Un=st-Tt,qn=yt+wt,Qn=yt-wt,wa=Rt+Bt,ea=Rt-Bt,ni=ti+wa,Mi=ti-wa,pr=xr+qn,ri=xr-qn;Qe[at]=ni+pr,Qe[at+32]=ni-pr;var or=.707106781*(ri+Mi);Qe[at+16]=Mi+or,Qe[at+48]=Mi-or;var ls=.382683433*((ni=ea+Qn)-(ri=Un+vr)),ta=.5411961*ni+ls,na=1.306562965*ri+ls,ra=.707106781*(pr=Qn+Un),_a=vr+ra,Za=vr-ra;Qe[at+40]=Za+ta,Qe[at+24]=Za-ta,Qe[at+8]=_a+na,Qe[at+56]=_a-na,at++}for(It=0;It<64;++It)Ut=Qe[It]*Je[It],v[It]=Ut>0?Ut+.5|0:Ut-.5|0;return v}(V,K),$e=0;$e<64;++$e)S[L[$e]]=Me[$e];var tt=S[0]-ee;ee=S[0],tt==0?oe(ce[0]):(oe(ce[b[Se=32767+tt]]),oe(y[Se]));for(var et=63;et>0&&S[et]==0;)et--;if(et==0)return oe(_e),ee;for(var bt,Oe=1;Oe<=et;){for(var ue=Oe;S[Oe]==0&&Oe<=et;)++Oe;var Ct=Oe-ue;if(Ct>=16){bt=Ct>>4;for(var ft=1;ft<=bt;++ft)oe(Ne);Ct&=15}Se=32767+S[Oe],oe(fe[(Ct<<4)+b[Se]]),oe(y[Se]),Oe++}return et!=63&&oe(_e),ee}function Z(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(K){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var fe=a((ee[ce]*K+50)/100);fe=Math.min(Math.max(fe,1),255),l[L[ce]]=fe}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Ne=a((Se[_e]*K+50)/100);Ne=Math.min(Math.max(Ne,1),255),u[L[_e]]=Ne}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,tt=0;tt<8;tt++)for(var et=0;et<8;et++)d[$e]=1/(l[L[$e]]*Me[tt]*Me[et]*8),p[$e]=1/(u[L[$e]]*Me[tt]*Me[et]*8),$e++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,K){K&&Z(K),A=new Array,T=0,E=7,ge(65496),ge(65504),ge(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),ge(1),ge(1),ae(0),ae(0),function(){ge(65499),ge(132),ae(0);for(var st=0;st<64;st++)ae(l[st]);ae(1);for(var yt=0;yt<64;yt++)ae(u[yt])}(),function(st,yt){ge(65472),ge(17),ae(8),ge(yt),ge(st),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)}(V.width,V.height),function(){ge(65476),ge(418),ae(0);for(var st=0;st<16;st++)ae(C[st+1]);for(var yt=0;yt<=11;yt++)ae(B[yt]);ae(16);for(var Rt=0;Rt<16;Rt++)ae(z[Rt+1]);for(var Bt=0;Bt<=161;Bt++)ae(j[Bt]);ae(1);for(var wt=0;wt<16;wt++)ae(P[wt+1]);for(var Tt=0;Tt<=11;Tt++)ae(O[Tt]);ae(17);for(var Xt=0;Xt<16;Xt++)ae(ne[Xt+1]);for(var It=0;It<=161;It++)ae(de[It])}(),ge(65498),ge(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var ee=0,ce=0,fe=0;T=0,E=7,this.encode.displayName="_encode_";for(var Se,_e,Ne,Me,$e,tt,et,bt,Oe,ue=V.data,Ct=V.width,ft=V.height,Qe=4*Ct,Je=0;Je<ft;){for(Se=0;Se<Qe;){for($e=Qe*Je+Se,et=-1,bt=0,Oe=0;Oe<64;Oe++)tt=$e+(bt=Oe>>3)*Qe+(et=4*(7&Oe)),Je+bt>=ft&&(tt-=Qe*(Je+1+bt-ft)),Se+et>=Qe&&(tt-=Se+et-Qe+4),_e=ue[tt++],Ne=ue[tt++],Me=ue[tt++],M[Oe]=(te[_e]+te[Ne+256>>0]+te[Me+512>>0]>>16)-128,q[Oe]=(te[_e+768>>0]+te[Ne+1024>>0]+te[Me+1280>>0]>>16)-128,re[Oe]=(te[_e+1280>>0]+te[Ne+1536>>0]+te[Me+1792>>0]>>16)-128;ee=me(M,d,ee,e,r),ce=me(q,p,ce,t,i),fe=me(re,p,fe,t,i),Se+=32}Je+=8}if(E>=0){var nt=[];nt[1]=E+1,nt[0]=(1<<E+1)-1,oe(nt)}return ge(65497),new Uint8Array(A)},n=n||50,function(){for(var V=String.fromCharCode,K=0;K<256;K++)J[K]=V(K)}(),e=ye(C,B),t=ye(P,O),r=ye(z,j),i=ye(ne,de),function(){for(var V=1,K=2,ee=1;ee<=15;ee++){for(var ce=V;ce<K;ce++)b[32767+ce]=ee,y[32767+ce]=[],y[32767+ce][1]=ee,y[32767+ce][0]=ce;for(var fe=-(K-1);fe<=-V;fe++)b[32767+fe]=ee,y[32767+fe]=[],y[32767+fe][1]=ee,y[32767+fe][0]=K-1+fe;V<<=1,K<<=1}}(),function(){for(var V=0;V<256;V++)te[V]=19595*V,te[V+256>>0]=38470*V,te[V+512>>0]=7471*V+32768,te[V+768>>0]=-11059*V,te[V+1024>>0]=-21709*V,te[V+1280>>0]=32768*V+8421375,te[V+1536>>0]=-27439*V,te[V+1792>>0]=-5329*V}(),Z(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Io(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jw(n){function e(C){if(!C)throw Error("assert :P")}function t(C,B,z){for(var j=0;4>j;j++)if(C[B+j]!=z.charCodeAt(j))return!0;return!1}function r(C,B,z,j,P){for(var O=0;O<P;O++)C[B+O]=z[j+O]}function i(C,B,z,j){for(var P=0;P<j;P++)C[B+P]=z}function s(C){return new Int32Array(C)}function a(C,B){for(var z=[],j=0;j<C;j++)z.push(new B);return z}function l(C,B){var z=[];return function j(P,O,ne){for(var de=ne[O],ye=0;ye<de&&(P.push(ne.length>O+1?[]:new B),!(ne.length<O+1));ye++)j(P[ye],O+1,ne)}(z,0,C),z}var u=function(){var C=this;function B(m,w){for(var k=1<<w-1>>>0;m&k;)k>>>=1;return k?(m&k-1)+k:m}function z(m,w,k,D,U){e(!(D%k));do m[w+(D-=k)]=U;while(0<D)}function j(m,w,k,D,U){if(e(2328>=U),512>=U)var W=s(512);else if((W=s(U))==null)return 0;return function(G,Y,X,ie,ve,Ie){var Pe,Ee,Ue=Y,De=1<<X,be=s(16),we=s(16);for(e(ve!=0),e(ie!=null),e(G!=null),e(0<X),Ee=0;Ee<ve;++Ee){if(15<ie[Ee])return 0;++be[ie[Ee]]}if(be[0]==ve)return 0;for(we[1]=0,Pe=1;15>Pe;++Pe){if(be[Pe]>1<<Pe)return 0;we[Pe+1]=we[Pe]+be[Pe]}for(Ee=0;Ee<ve;++Ee)Pe=ie[Ee],0<ie[Ee]&&(Ie[we[Pe]++]=Ee);if(we[15]==1)return(ie=new P).g=0,ie.value=Ie[0],z(G,Ue,1,De,ie),De;var Be,Ve=-1,ze=De-1,lt=0,it=1,Nt=1,ot=1<<X;for(Ee=0,Pe=1,ve=2;Pe<=X;++Pe,ve<<=1){if(it+=Nt<<=1,0>(Nt-=be[Pe]))return 0;for(;0<be[Pe];--be[Pe])(ie=new P).g=Pe,ie.value=Ie[Ee++],z(G,Ue+lt,ve,ot,ie),lt=B(lt,Pe)}for(Pe=X+1,ve=2;15>=Pe;++Pe,ve<<=1){if(it+=Nt<<=1,0>(Nt-=be[Pe]))return 0;for(;0<be[Pe];--be[Pe]){if(ie=new P,(lt&ze)!=Ve){for(Ue+=ot,Be=1<<(Ve=Pe)-X;15>Ve&&!(0>=(Be-=be[Ve]));)++Ve,Be<<=1;De+=ot=1<<(Be=Ve-X),G[Y+(Ve=lt&ze)].g=Be+X,G[Y+Ve].value=Ue-Y-Ve}ie.g=Pe-X,ie.value=Ie[Ee++],z(G,Ue+(lt>>X),ve,ot,ie),lt=B(lt,Pe)}}return it!=2*we[15]-1?0:De}(m,w,k,D,U,W)}function P(){this.value=this.g=0}function O(){this.value=this.g=0}function ne(){this.G=a(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ur,O)}function de(m,w,k,D){e(m!=null),e(w!=null),e(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=k,m.Jd=w,m.Yc=k+D,m.Zc=4<=D?k+D-4+1:k,Se(m)}function ye(m,w){for(var k=0;0<w--;)k|=Ne(m,128)<<w;return k}function oe(m,w){var k=ye(m,w);return _e(m)?-k:k}function ae(m,w,k,D){var U,W=0;for(e(m!=null),e(w!=null),e(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),U=0;U<D;++U)W+=w[k+U]<<8*U;m.Ra=W,m.bb=D,m.oa=w,m.pa=k}function ge(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Pc-8>>>0,++m.bb,m.u-=8;ee(m)&&(m.h=1,m.u=0)}function me(m,w){if(e(0<=w),!m.h&&w<=Ic){var k=K(m)&Tc[w];return m.u+=w,ge(m),k}return m.h=1,m.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(m){return m.Ra>>>(m.u&Pc-1)>>>0}function ee(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Pc}function ce(m,w){m.u=w,m.h=ee(m)}function fe(m){m.u>=jc&&(e(m.u>=jc),ge(m))}function Se(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function _e(m){return ye(m,1)}function Ne(m,w){var k=m.Ca;0>m.b&&Se(m);var D=m.b,U=k*w>>>8,W=(m.I>>>D>U)+0;for(W?(k-=U,m.I-=U+1<<D>>>0):k=U+1,D=k,U=0;256<=D;)U+=8,D>>=8;return D=7^U+wi[D],m.b-=D,m.Ca=(k<<D)-1,W}function Me(m,w,k){m[w+0]=k>>24&255,m[w+1]=k>>16&255,m[w+2]=k>>8&255,m[w+3]=k>>0&255}function $e(m,w){return m[w+0]<<0|m[w+1]<<8}function tt(m,w){return $e(m,w)|m[w+2]<<16}function et(m,w){return $e(m,w)|$e(m,w+2)<<16}function bt(m,w){var k=1<<w;return e(m!=null),e(0<w),m.X=s(k),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function Oe(m,w){e(m!=null),e(w!=null),e(m.Xa==w.Xa),r(w.X,0,m.X,0,1<<w.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function Ct(m,w,k,D){e(k!=null),e(D!=null);var U=k[0],W=D[0];return U==0&&(U=(m*W+w/2)/w),W==0&&(W=(w*U+m/2)/m),0>=U||0>=W?0:(k[0]=U,D[0]=W,1)}function ft(m,w){return m+(1<<w)-1>>>w}function Qe(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function Je(m,w){C[w]=function(k,D,U,W,G,Y,X){var ie;for(ie=0;ie<G;++ie){var ve=C[m](Y[X+ie-1],U,W+ie);Y[X+ie]=Qe(k[D+ie],ve)}}}function nt(){this.ud=this.hd=this.jd=0}function st(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function yt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Rt(m,w){return yt(m+(m-w+.5>>1))}function Bt(m,w,k){return Math.abs(w-k)-Math.abs(m-k)}function wt(m,w,k,D,U,W,G){for(D=W[G-1],k=0;k<U;++k)W[G+k]=D=Qe(m[w+k],D)}function Tt(m,w,k,D,U){var W;for(W=0;W<k;++W){var G=m[w+W],Y=G>>8&255,X=16711935&(X=(X=16711935&G)+((Y<<16)+Y));D[U+W]=(4278255360&G)+X>>>0}}function Xt(m,w){w.jd=m>>0&255,w.hd=m>>8&255,w.ud=m>>16&255}function It(m,w,k,D,U,W){var G;for(G=0;G<D;++G){var Y=w[k+G],X=Y>>>8,ie=Y,ve=255&(ve=(ve=Y>>>16)+((m.jd<<24>>24)*(X<<24>>24)>>>5));ie=255&(ie=(ie=ie+((m.hd<<24>>24)*(X<<24>>24)>>>5))+((m.ud<<24>>24)*(ve<<24>>24)>>>5)),U[W+G]=(4278255360&Y)+(ve<<16)+ie}}function Ut(m,w,k,D,U){C[w]=function(W,G,Y,X,ie,ve,Ie,Pe,Ee){for(X=Ie;X<Pe;++X)for(Ie=0;Ie<Ee;++Ie)ie[ve++]=U(Y[D(W[G++])])},C[m]=function(W,G,Y,X,ie,ve,Ie){var Pe=8>>W.b,Ee=W.Ea,Ue=W.K[0],De=W.w;if(8>Pe)for(W=(1<<W.b)-1,De=(1<<Pe)-1;G<Y;++G){var be,we=0;for(be=0;be<Ee;++be)be&W||(we=D(X[ie++])),ve[Ie++]=U(Ue[we&De]),we>>=Pe}else C["VP8LMapColor"+k](X,ie,Ue,De,ve,Ie,G,Y,Ee)}}function at(m,w,k,D,U){for(k=w+k;w<k;){var W=m[w++];D[U++]=W>>16&255,D[U++]=W>>8&255,D[U++]=W>>0&255}}function sr(m,w,k,D,U){for(k=w+k;w<k;){var W=m[w++];D[U++]=W>>16&255,D[U++]=W>>8&255,D[U++]=W>>0&255,D[U++]=W>>24&255}}function Jt(m,w,k,D,U){for(k=w+k;w<k;){var W=(G=m[w++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;D[U++]=W,D[U++]=G}}function gi(m,w,k,D,U){for(k=w+k;w<k;){var W=(G=m[w++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;D[U++]=W,D[U++]=G}}function dn(m,w,k,D,U){for(k=w+k;w<k;){var W=m[w++];D[U++]=W>>0&255,D[U++]=W>>8&255,D[U++]=W>>16&255}}function En(m,w,k,D,U,W){if(W==0)for(k=w+k;w<k;)Me(D,((W=m[w++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),U+=32;else r(D,U,m,w,k)}function Li(m,w){C[w][0]=C[m+"0"],C[w][1]=C[m+"1"],C[w][2]=C[m+"2"],C[w][3]=C[m+"3"],C[w][4]=C[m+"4"],C[w][5]=C[m+"5"],C[w][6]=C[m+"6"],C[w][7]=C[m+"7"],C[w][8]=C[m+"8"],C[w][9]=C[m+"9"],C[w][10]=C[m+"10"],C[w][11]=C[m+"11"],C[w][12]=C[m+"12"],C[w][13]=C[m+"13"],C[w][14]=C[m+"0"],C[w][15]=C[m+"0"]}function Zt(m){return m==Oc||m==Ul||m==Bu||m==zu}function Es(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Es,this.f.kb=new Ln,this.sd=null}function Or(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function nn(m,w){var k=m.T,D=w.ba.f.RGBA,U=D.eb,W=D.fb+m.ka*D.A,G=Ui[w.ba.S],Y=m.y,X=m.O,ie=m.f,ve=m.N,Ie=m.ea,Pe=m.W,Ee=w.cc,Ue=w.dc,De=w.Mc,be=w.Nc,we=m.ka,Be=m.ka+m.T,Ve=m.U,ze=Ve+1>>1;for(we==0?G(Y,X,null,null,ie,ve,Ie,Pe,ie,ve,Ie,Pe,U,W,null,null,Ve):(G(w.ec,w.fc,Y,X,Ee,Ue,De,be,ie,ve,Ie,Pe,U,W-D.A,U,W,Ve),++k);we+2<Be;we+=2)Ee=ie,Ue=ve,De=Ie,be=Pe,ve+=m.Rc,Pe+=m.Rc,W+=2*D.A,G(Y,(X+=2*m.fa)-m.fa,Y,X,Ee,Ue,De,be,ie,ve,Ie,Pe,U,W-D.A,U,W,Ve);return X+=m.fa,m.j+Be<m.o?(r(w.ec,w.fc,Y,X,Ve),r(w.cc,w.dc,ie,ve,ze),r(w.Mc,w.Nc,Ie,Pe,ze),k--):1&Be||G(Y,X,null,null,ie,ve,Ie,Pe,ie,ve,Ie,Pe,U,W+D.A,null,null,Ve),k}function os(m,w,k){var D=m.F,U=[m.J];if(D!=null){var W=m.U,G=w.ba.S,Y=G==Vu||G==Bu;w=w.ba.f.RGBA;var X=[0],ie=m.ka;X[0]=m.T,m.Kb&&(ie==0?--X[0]:(--ie,U[0]-=m.width),m.j+m.ka+m.T==m.o&&(X[0]=m.o-m.j-ie));var ve=w.eb;ie=w.fb+ie*w.A,m=Nn(D,U[0],m.width,W,X,ve,ie+(Y?0:3),w.A),e(k==X),m&&Zt(G)&&Bi(ve,ie,Y,W,X,w.A)}return 0}function fr(m){var w=m.ma,k=w.ba.S,D=11>k,U=k==il||k==Fu||k==Vu||k==On||k==12||Zt(k);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Ac(w.Oa,m,U?11:12))return 0;if(U&&Zt(k)&&We(),m.da)alert("todo:use_scaling");else{if(D){if(w.Ib=St,m.Kb){if(k=m.U+1>>1,w.memory=s(m.U+2*k),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+k,w.Ib=nn,We()}}else alert("todo:EmitYUV");U&&(w.Jb=os,D&&Te())}if(D&&!Qr){for(m=0;256>m;++m)qi[m]=89858*(m-128)+fa>>go,Hi[m]=-22014*(m-128)+fa,zc[m]=-45773*(m-128),$l[m]=113618*(m-128)+fa>>go;for(m=Sn;m<In;++m)w=76283*(m-16)+fa>>go,Vh[m-Sn]=gn(w,255),Dp[m-Sn]=gn(w+8>>4,15);Qr=1}return 1}function Fr(m){var w=m.ma,k=m.U,D=m.T;return e(!(1&m.ka)),0>=k||0>=D?0:(k=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,k),w.Dc+=k,1)}function Di(m){m.ma.memory=null}function ct(m,w,k,D){return me(m,8)!=47?0:(w[0]=me(m,14)+1,k[0]=me(m,14)+1,D[0]=me(m,1),me(m,3)!=0?0:!m.h)}function ti(m,w){if(4>m)return m+1;var k=m-2>>1;return(2+(1&m)<<k)+me(w,k)+1}function vr(m,w){return 120<w?w-120:1<=(k=((k=D0[w-1])>>4)*m+(8-(15&k)))?k:1;var k}function xr(m,w,k){var D=K(k),U=m[w+=255&D].g-8;return 0<U&&(ce(k,k.u+8),D=K(k),w+=m[w].value,w+=D&(1<<U)-1),ce(k,k.u+m[w].g),m[w].value}function Un(m,w,k){return k.g+=m.g,k.value+=m.value<<w>>>0,e(8>=k.g),m.g}function qn(m,w,k){var D=m.xc;return e((w=D==0?0:m.vc[m.md*(k>>D)+(w>>D)])<m.Wb),m.Ya[w]}function Qn(m,w,k,D){var U=m.ab,W=m.c*w,G=m.C;w=G+w;var Y=k,X=D;for(D=m.Ta,k=m.Ua;0<U--;){var ie=m.gc[U],ve=G,Ie=w,Pe=Y,Ee=X,Ue=(X=D,Y=k,ie.Ea);switch(e(ve<Ie),e(Ie<=ie.nc),ie.hc){case 2:Lh(Pe,Ee,(Ie-ve)*Ue,X,Y);break;case 0:var De=ve,be=Ie,we=X,Be=Y,Ve=(ot=ie).Ea;De==0&&(Ml(Pe,Ee,null,null,1,we,Be),wt(Pe,Ee+1,0,0,Ve-1,we,Be+1),Ee+=Ve,Be+=Ve,++De);for(var ze=1<<ot.b,lt=ze-1,it=ft(Ve,ot.b),Nt=ot.K,ot=ot.w+(De>>ot.b)*it;De<be;){var cn=Nt,un=ot,rn=1;for(oo(Pe,Ee,we,Be-Ve,1,we,Be);rn<Ve;){var Kt=(rn&~lt)+ze;Kt>Ve&&(Kt=Ve),(0,La[cn[un++]>>8&15])(Pe,Ee+ +rn,we,Be+rn-Ve,Kt-rn,we,Be+rn),rn=Kt}Ee+=Ve,Be+=Ve,++De&lt||(ot+=it)}Ie!=ie.nc&&r(X,Y-Ue,X,Y+(Ie-ve-1)*Ue,Ue);break;case 1:for(Ue=Pe,be=Ee,Ve=(Pe=ie.Ea)-(Be=Pe&~(we=(Ee=1<<ie.b)-1)),De=ft(Pe,ie.b),ze=ie.K,ie=ie.w+(ve>>ie.b)*De;ve<Ie;){for(lt=ze,it=ie,Nt=new nt,ot=be+Be,cn=be+Pe;be<ot;)Xt(lt[it++],Nt),tl(Nt,Ue,be,Ee,X,Y),be+=Ee,Y+=Ee;be<cn&&(Xt(lt[it++],Nt),tl(Nt,Ue,be,Ve,X,Y),be+=Ve,Y+=Ve),++ve&we||(ie+=De)}break;case 3:if(Pe==X&&Ee==Y&&0<ie.b){for(be=X,Pe=Ue=Y+(Ie-ve)*Ue-(Be=(Ie-ve)*ft(ie.Ea,ie.b)),Ee=X,we=Y,De=[],Be=(Ve=Be)-1;0<=Be;--Be)De[Be]=Ee[we+Be];for(Be=Ve-1;0<=Be;--Be)be[Pe+Be]=De[Be];_i(ie,ve,Ie,X,Ue,X,Y)}else _i(ie,ve,Ie,Pe,Ee,X,Y)}Y=D,X=k}X!=k&&r(D,k,Y,X,W)}function wa(m,w){var k=m.V,D=m.Ba+m.c*m.C,U=w-m.C;if(e(w<=m.l.o),e(16>=U),0<U){var W=m.l,G=m.Ta,Y=m.Ua,X=W.width;if(Qn(m,U,k,D),U=Y=[Y],e((k=m.C)<(D=w)),e(W.v<W.va),D>W.o&&(D=W.o),k<W.j){var ie=W.j-k;k=W.j,U[0]+=ie*X}if(k>=D?k=0:(U[0]+=4*W.v,W.ka=k-W.j,W.U=W.va-W.v,W.T=D-k,k=1),k){if(Y=Y[0],11>(k=m.ca).S){var ve=k.f.RGBA,Ie=(D=k.S,U=W.U,W=W.T,ie=ve.eb,ve.A),Pe=W;for(ve=ve.fb+m.Ma*ve.A;0<Pe--;){var Ee=G,Ue=Y,De=U,be=ie,we=ve;switch(D){case Dh:Ni(Ee,Ue,De,be,we);break;case il:oi(Ee,Ue,De,be,we);break;case Oc:oi(Ee,Ue,De,be,we),Bi(be,we,0,De,1,0);break;case Pp:co(Ee,Ue,De,be,we);break;case Fu:En(Ee,Ue,De,be,we,1);break;case Ul:En(Ee,Ue,De,be,we,1),Bi(be,we,0,De,1,0);break;case Vu:En(Ee,Ue,De,be,we,0);break;case Bu:En(Ee,Ue,De,be,we,0),Bi(be,we,1,De,1,0);break;case On:nl(Ee,Ue,De,be,we);break;case zu:nl(Ee,Ue,De,be,we),Mn(be,we,De,1,0);break;case Mh:lo(Ee,Ue,De,be,we);break;default:e(0)}Y+=X,ve+=Ie}m.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=k.height)}}m.C=w,e(m.C<=m.i)}function ea(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var k=m.Ya[w].G,D=m.Ya[w].H;if(0<k[1][D[1]+0].g||0<k[2][D[2]+0].g||0<k[3][D[3]+0].g)return 0}return 1}function ni(m,w,k,D,U,W){if(m.Z!=0){var G=m.qd,Y=m.rd;for(e(ci[m.Z]!=null);w<k;++w)ci[m.Z](G,Y,D,U,D,U,W),G=D,Y=U,U+=W;m.qd=G,m.rd=Y}}function Mi(m,w){var k=m.l.ma,D=k.Z==0||k.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,e(w<=m.l.o),w>D){var U=m.l.width,W=k.ca,G=k.tb+U*D,Y=m.V,X=m.Ba+m.c*D,ie=m.gc;e(m.ab==1),e(ie[0].hc==3),Du(ie[0],D,w,Y,X,W,G),ni(k,D,w,W,G,U)}m.C=m.Ma=w}function pr(m,w,k,D,U,W,G){var Y=m.$/D,X=m.$%D,ie=m.m,ve=m.s,Ie=k+m.$,Pe=Ie;U=k+D*U;var Ee=k+D*W,Ue=280+ve.ua,De=m.Pb?Y:16777216,be=0<ve.ua?ve.Wa:null,we=ve.wc,Be=Ie<Ee?qn(ve,X,Y):null;e(m.C<W),e(Ee<=U);var Ve=!1;e:for(;;){for(;Ve||Ie<Ee;){var ze=0;if(Y>=De){var lt=Ie-k;e((De=m).Pb),De.wd=De.m,De.xd=lt,0<De.s.ua&&Oe(De.s.Wa,De.s.vb),De=Y+Fh}if(X&we||(Be=qn(ve,X,Y)),e(Be!=null),Be.Qb&&(w[Ie]=Be.qb,Ve=!0),!Ve)if(fe(ie),Be.jc){ze=ie,lt=w;var it=Ie,Nt=Be.pd[K(ze)&ur-1];e(Be.jc),256>Nt.g?(ce(ze,ze.u+Nt.g),lt[it]=Nt.value,ze=0):(ce(ze,ze.u+Nt.g-256),e(256<=Nt.value),ze=Nt.value),ze==0&&(Ve=!0)}else ze=xr(Be.G[0],Be.H[0],ie);if(ie.h)break;if(Ve||256>ze){if(!Ve)if(Be.nd)w[Ie]=(Be.qb|ze<<8)>>>0;else{if(fe(ie),Ve=xr(Be.G[1],Be.H[1],ie),fe(ie),lt=xr(Be.G[2],Be.H[2],ie),it=xr(Be.G[3],Be.H[3],ie),ie.h)break;w[Ie]=(it<<24|Ve<<16|ze<<8|lt)>>>0}if(Ve=!1,++Ie,++X>=D&&(X=0,++Y,G!=null&&Y<=W&&!(Y%16)&&G(m,Y),be!=null))for(;Pe<Ie;)ze=w[Pe++],be.X[(506832829*ze&4294967295)>>>be.Mb]=ze}else if(280>ze){if(ze=ti(ze-256,ie),lt=xr(Be.G[4],Be.H[4],ie),fe(ie),lt=vr(D,lt=ti(lt,ie)),ie.h)break;if(Ie-k<lt||U-Ie<ze)break e;for(it=0;it<ze;++it)w[Ie+it]=w[Ie+it-lt];for(Ie+=ze,X+=ze;X>=D;)X-=D,++Y,G!=null&&Y<=W&&!(Y%16)&&G(m,Y);if(e(Ie<=U),X&we&&(Be=qn(ve,X,Y)),be!=null)for(;Pe<Ie;)ze=w[Pe++],be.X[(506832829*ze&4294967295)>>>be.Mb]=ze}else{if(!(ze<Ue))break e;for(Ve=ze-280,e(be!=null);Pe<Ie;)ze=w[Pe++],be.X[(506832829*ze&4294967295)>>>be.Mb]=ze;ze=Ie,e(!(Ve>>>(lt=be).Xa)),w[ze]=lt.X[Ve],Ve=!0}Ve||e(ie.h==ee(ie))}if(m.Pb&&ie.h&&Ie<U)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Oe(m.s.vb,m.s.Wa);else{if(ie.h)break e;G!=null&&G(m,Y>W?W:Y),m.a=0,m.$=Ie-k}return 1}return m.a=3,0}function ri(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,e(m!=null)}function or(){var m=new kc;return m==null?null:(m.a=0,m.xb=Vc,Li("Predictor","VP8LPredictors"),Li("Predictor","VP8LPredictors_C"),Li("PredictorAdd","VP8LPredictorsAdd"),Li("PredictorAdd","VP8LPredictorsAdd_C"),Lh=Tt,tl=It,Ni=at,oi=sr,nl=Jt,lo=gi,co=dn,C.VP8LMapColor32b=Cc,C.VP8LMapColor8b=Rc,m)}function ls(m,w,k,D,U){var W=1,G=[m],Y=[w],X=D.m,ie=D.s,ve=null,Ie=0;e:for(;;){if(k)for(;W&&me(X,1);){var Pe=G,Ee=Y,Ue=D,De=1,be=Ue.m,we=Ue.gc[Ue.ab],Be=me(be,2);if(Ue.Oc&1<<Be)W=0;else{switch(Ue.Oc|=1<<Be,we.hc=Be,we.Ea=Pe[0],we.nc=Ee[0],we.K=[null],++Ue.ab,e(4>=Ue.ab),Be){case 0:case 1:we.b=me(be,3)+2,De=ls(ft(we.Ea,we.b),ft(we.nc,we.b),0,Ue,we.K),we.K=we.K[0];break;case 3:var Ve,ze=me(be,8)+1,lt=16<ze?0:4<ze?1:2<ze?2:3;if(Pe[0]=ft(we.Ea,lt),we.b=lt,Ve=De=ls(ze,1,0,Ue,we.K)){var it,Nt=ze,ot=we,cn=1<<(8>>ot.b),un=s(cn);if(un==null)Ve=0;else{var rn=ot.K[0],Kt=ot.w;for(un[0]=ot.K[0][0],it=1;it<1*Nt;++it)un[it]=Qe(rn[Kt+it],un[it-1]);for(;it<4*cn;++it)un[it]=0;ot.K[0]=null,ot.K[0]=un,Ve=1}}De=Ve;break;case 2:break;default:e(0)}W=De}}if(G=G[0],Y=Y[0],W&&me(X,1)&&!(W=1<=(Ie=me(X,4))&&11>=Ie)){D.a=3;break e}var kn;if(kn=W)t:{var Pn,Vt,Jn,Ai=D,mr=G,Tr=Y,yn=Ie,ui=k,hi=Ai.m,Zn=Ai.s,Ir=[null],Xr=1,Wi=0,Fs=Cp[yn];n:for(;;){if(ui&&me(hi,1)){var er=me(hi,3)+2,_r=ft(mr,er),gs=ft(Tr,er),ol=_r*gs;if(!ls(_r,gs,0,Ai,Ir))break n;for(Ir=Ir[0],Zn.xc=er,Pn=0;Pn<ol;++Pn){var vo=Ir[Pn]>>8&65535;Ir[Pn]=vo,vo>=Xr&&(Xr=vo+1)}}if(hi.h)break n;for(Vt=0;5>Vt;++Vt){var vn=ql[Vt];!Vt&&0<yn&&(vn+=1<<yn),Wi<vn&&(Wi=vn)}var Va=a(Xr*Fs,P),Bh=Xr,Qd=a(Bh,ne);if(Qd==null)var Vs=null;else e(65536>=Bh),Vs=Qd;var Bs=s(Wi);if(Vs==null||Bs==null||Va==null){Ai.a=1;break n}var Kl=Va;for(Pn=Jn=0;Pn<Xr;++Pn){var zs=Vs[Pn],xo=zs.G,Yl=zs.H,Uc=0,ys=1,qc=0;for(Vt=0;5>Vt;++Vt){vn=ql[Vt],xo[Vt]=Kl,Yl[Vt]=Jn,!Vt&&0<yn&&(vn+=1<<yn);i:{var ll,bo=vn,Hc=Ai,Ba=Bs,Op=Kl,Xd=Jn,Wn=0,pa=Hc.m,Jd=me(pa,1);if(i(Ba,0,0,bo),Jd){var Zd=me(pa,1)+1,zh=me(pa,1),Uh=me(pa,zh==0?1:8);Ba[Uh]=1,Zd==2&&(Ba[Uh=me(pa,8)]=1);var za=1}else{var Kn=s(19),Nr=me(pa,4)+4;if(19<Nr){Hc.a=3;var gr=0;break i}for(ll=0;ll<Nr;++ll)Kn[L0[ll]]=me(pa,3);var Wc=void 0,wo=void 0,$c=Hc,B0=Kn,Pr=bo,qh=Ba,$u=0,Ua=$c.m,ma=8,vs=a(128,P);r:for(;j(vs,0,7,B0,19);){if(me(Ua,1)){var Gu=2+2*me(Ua,3);if((Wc=2+me(Ua,Gu))>Pr)break r}else Wc=Pr;for(wo=0;wo<Pr&&Wc--;){fe(Ua);var Hh=vs[0+(127&K(Ua))];ce(Ua,Ua.u+Hh.g);var cl=Hh.value;if(16>cl)qh[wo++]=cl,cl!=0&&(ma=cl);else{var Fp=cl==16,ef=cl-16,Vp=Oh[ef],tf=me(Ua,Uu[ef])+Vp;if(wo+tf>Pr)break r;for(var Bp=Fp?ma:0;0<tf--;)qh[wo++]=Bp}}$u=1;break r}$u||($c.a=3),za=$u}(za=za&&!pa.h)&&(Wn=j(Op,Xd,8,Ba,bo)),za&&Wn!=0?gr=Wn:(Hc.a=3,gr=0)}if(gr==0)break n;if(ys&&jp[Vt]==1&&(ys=Kl[Jn].g==0),Uc+=Kl[Jn].g,Jn+=gr,3>=Vt){var Gc,Wh=Bs[0];for(Gc=1;Gc<vn;++Gc)Bs[Gc]>Wh&&(Wh=Bs[Gc]);qc+=Wh}}if(zs.nd=ys,zs.Qb=0,ys&&(zs.qb=(xo[3][Yl[3]+0].value<<24|xo[1][Yl[1]+0].value<<16|xo[2][Yl[2]+0].value)>>>0,Uc==0&&256>xo[0][Yl[0]+0].value&&(zs.Qb=1,zs.qb+=xo[0][Yl[0]+0].value<<8)),zs.jc=!zs.Qb&&6>qc,zs.jc){var Ku,xs=zs;for(Ku=0;Ku<ur;++Ku){var _o=Ku,ga=xs.pd[_o],Ql=xs.G[0][xs.H[0]+_o];256<=Ql.value?(ga.g=Ql.g+256,ga.value=Ql.value):(ga.g=0,ga.value=0,_o>>=Un(Ql,8,ga),_o>>=Un(xs.G[1][xs.H[1]+_o],16,ga),_o>>=Un(xs.G[2][xs.H[2]+_o],0,ga),Un(xs.G[3][xs.H[3]+_o],24,ga))}}}Zn.vc=Ir,Zn.Wb=Xr,Zn.Ya=Vs,Zn.yc=Va,kn=1;break t}kn=0}if(!(W=kn)){D.a=3;break e}if(0<Ie){if(ie.ua=1<<Ie,!bt(ie.Wa,Ie)){D.a=1,W=0;break e}}else ie.ua=0;var $h=D,Gh=G,zp=Y,Kh=$h.s,Yh=Kh.xc;if($h.c=Gh,$h.i=zp,Kh.md=ft(Gh,Yh),Kh.wc=Yh==0?-1:(1<<Yh)-1,k){D.xb=Fa;break e}if((ve=s(G*Y))==null){D.a=1,W=0;break e}W=(W=pr(D,ve,0,G,Y,Y,null))&&!X.h;break e}return W?(U!=null?U[0]=ve:(e(ve==null),e(k)),D.$=0,k||ri(ie)):ri(ie),W}function ta(m,w){var k=m.c*m.i,D=k+w+16*w;return e(m.c<=w),m.V=s(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+k+w,1)}function na(m,w){var k=m.C,D=w-k,U=m.V,W=m.Ba+m.c*k;for(e(w<=m.l.o);0<D;){var G=16<D?16:D,Y=m.l.ma,X=m.l.width,ie=X*G,ve=Y.ca,Ie=Y.tb+X*k,Pe=m.Ta,Ee=m.Ua;Qn(m,G,U,W),hr(Pe,Ee,ve,Ie,ie),ni(Y,k,k+G,ve,Ie,X),D-=G,U+=G*m.c,k+=G}e(k==w),m.C=m.Ma=w}function ra(){this.ub=this.yd=this.td=this.Rb=0}function _a(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Za(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function xc(){this.Yb=function(){var m=[];return function w(k,D,U){for(var W=U[D],G=0;G<W&&(k.push(U.length>D+1?[]:0),!(U.length<D+1));G++)w(k[G],D+1,U)}(m,0,[3,11]),m}()}function Tn(){this.jb=s(3),this.Wc=l([4,8],xc),this.Xc=l([4,17],xc)}function bc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ts(){this.ld=this.La=this.dd=this.tc=0}function ia(){this.Na=this.la=0}function Oi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function eo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ts),this.Y=0,this.ya=Array(new eo),this.aa=0,this.l=new to}function Na(){this.y=s(16),this.f=s(8),this.ea=s(8)}function yi(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new ra,this.Kc=new _a,this.ed=new bc,this.Qa=new Za,this.Ic=this.$c=this.Aa=0,this.D=new wc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Z),this.ia=0,this.pb=a(4,Oi),this.Pa=new Tn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Na),this.Hd=0,this.rb=Array(new ia),this.sb=0,this.wa=Array(new Ts),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new eo),this.L=this.aa=0,this.gd=l([4,2],Ts),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function to(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qr(){var m=new yi;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Hl||(Hl=no)),m}function Hn(m,w,k){return m.a==0&&(m.a=w,m.sc=k,m.cb=0),0}function Il(m,w,k){return 3<=k&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function Pl(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return Hn(m,2,"null VP8Io passed to VP8GetHeaders()");var k=w.data,D=w.w,U=w.ha;if(4>U)return Hn(m,7,"Truncated header.");var W=k[D+0]|k[D+1]<<8|k[D+2]<<16,G=m.Od;if(G.Rb=!(1&W),G.td=W>>1&7,G.yd=W>>4&1,G.ub=W>>5,3<G.td)return Hn(m,3,"Incorrect keyframe parameters.");if(!G.yd)return Hn(m,4,"Frame not displayable.");D+=3,U-=3;var Y=m.Kc;if(G.Rb){if(7>U)return Hn(m,7,"cannot parse picture header");if(!Il(k,D,U))return Hn(m,3,"Bad code word");Y.c=16383&(k[D+4]<<8|k[D+3]),Y.Td=k[D+4]>>6,Y.i=16383&(k[D+6]<<8|k[D+5]),Y.Ud=k[D+6]>>6,D+=7,U-=7,m.za=Y.c+15>>4,m.Ub=Y.i+15>>4,w.width=Y.c,w.height=Y.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((W=m.Pa).jb,0,255,W.jb.length),e((W=m.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(G.ub>U)return Hn(m,7,"bad partition length");de(W=m.m,k,D,G.ub),D+=G.ub,U-=G.ub,G.Rb&&(Y.Ld=_e(W),Y.Kd=_e(W)),Y=m.Qa;var X,ie=m.Pa;if(e(W!=null),e(Y!=null),Y.Cb=_e(W),Y.Cb){if(Y.Bb=_e(W),_e(W)){for(Y.Fb=_e(W),X=0;4>X;++X)Y.Zb[X]=_e(W)?oe(W,7):0;for(X=0;4>X;++X)Y.Lb[X]=_e(W)?oe(W,6):0}if(Y.Bb)for(X=0;3>X;++X)ie.jb[X]=_e(W)?ye(W,8):255}else Y.Bb=0;if(W.Ka)return Hn(m,3,"cannot parse segment header");if((Y=m.ed).zd=_e(W),Y.Tb=ye(W,6),Y.wb=ye(W,3),Y.Pc=_e(W),Y.Pc&&_e(W)){for(ie=0;4>ie;++ie)_e(W)&&(Y.vd[ie]=oe(W,6));for(ie=0;4>ie;++ie)_e(W)&&(Y.od[ie]=oe(W,6))}if(m.L=Y.Tb==0?0:Y.zd?1:2,W.Ka)return Hn(m,3,"cannot parse filter header");var ve=U;if(U=X=D,D=X+ve,Y=ve,m.Xb=(1<<ye(m.m,2))-1,ve<3*(ie=m.Xb))k=7;else{for(X+=3*ie,Y-=3*ie,ve=0;ve<ie;++ve){var Ie=k[U+0]|k[U+1]<<8|k[U+2]<<16;Ie>Y&&(Ie=Y),de(m.Jc[+ve],k,X,Ie),X+=Ie,Y-=Ie,U+=3}de(m.Jc[+ie],k,X,Y),k=X<D?0:5}if(k!=0)return Hn(m,k,"cannot parse partitions");for(k=ye(X=m.m,7),U=_e(X)?oe(X,4):0,D=_e(X)?oe(X,4):0,Y=_e(X)?oe(X,4):0,ie=_e(X)?oe(X,4):0,X=_e(X)?oe(X,4):0,ve=m.Qa,Ie=0;4>Ie;++Ie){if(ve.Cb){var Pe=ve.Zb[Ie];ve.Fb||(Pe+=k)}else{if(0<Ie){m.pb[Ie]=m.pb[0];continue}Pe=k}var Ee=m.pb[Ie];Ee.Sc[0]=Fc[gn(Pe+U,127)],Ee.Sc[1]=qu[gn(Pe+0,127)],Ee.Eb[0]=2*Fc[gn(Pe+D,127)],Ee.Eb[1]=101581*qu[gn(Pe+Y,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=Fc[gn(Pe+ie,117)],Ee.Qc[1]=qu[gn(Pe+X,127)],Ee.lc=Pe+X}if(!G.Rb)return Hn(m,4,"Not a key frame.");for(_e(W),G=m.Pa,k=0;4>k;++k){for(U=0;8>U;++U)for(D=0;3>D;++D)for(Y=0;11>Y;++Y)ie=Ne(W,O0[k][U][D][Y])?ye(W,8):Lp[k][U][D][Y],G.Wc[k][U].Yb[D][Y]=ie;for(U=0;17>U;++U)G.Xc[k][U]=G.Wc[k][Gd[U]]}return m.kc=_e(W),m.kc&&(m.Bd=ye(W,8)),m.cb=1}function no(m,w,k,D,U,W,G){var Y=w[U].Yb[k];for(k=0;16>U;++U){if(!Ne(m,Y[k+0]))return U;for(;!Ne(m,Y[k+1]);)if(Y=w[++U].Yb[0],k=0,U==16)return 16;var X=w[U+1].Yb;if(Ne(m,Y[k+2])){var ie=m,ve=0;if(Ne(ie,(Pe=Y)[(Ie=k)+3]))if(Ne(ie,Pe[Ie+6])){for(Y=0,Ie=2*(ve=Ne(ie,Pe[Ie+8]))+(Pe=Ne(ie,Pe[Ie+9+ve])),ve=0,Pe=Wd[Ie];Pe[Y];++Y)ve+=ve+Ne(ie,Pe[Y]);ve+=3+(8<<Ie)}else Ne(ie,Pe[Ie+7])?(ve=7+2*Ne(ie,165),ve+=Ne(ie,145)):ve=5+Ne(ie,159);else ve=Ne(ie,Pe[Ie+4])?3+Ne(ie,Pe[Ie+5]):2;Y=X[2]}else ve=1,Y=X[1];X=G+$d[U],0>(ie=m).b&&Se(ie);var Ie,Pe=ie.b,Ee=(Ie=ie.Ca>>1)-(ie.I>>Pe)>>31;--ie.b,ie.Ca+=Ee,ie.Ca|=1,ie.I-=(Ie+1&Ee)<<Pe,W[X]=((ve^Ee)-Ee)*D[(0<U)+0]}return 16}function Sa(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function ka(m,w){if(m==null)return 0;if(w==null)return Hn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Pl(m,w))return 0;if(e(m.cb),w.ac==null||w.ac(w)){w.ob&&(m.L=0);var k=Gl[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=w.v-k>>4,m.zb=w.j-k>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=w.o+15+k>>4,m.Hb=w.va+15+k>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var D=m.ed;for(k=0;4>k;++k){var U;if(m.Qa.Cb){var W=m.Qa.Lb[k];m.Qa.Fb||(W+=D.Tb)}else W=D.Tb;for(U=0;1>=U;++U){var G=m.gd[k][U],Y=W;if(D.Pc&&(Y+=D.vd[0],U&&(Y+=D.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var X=Y;0<D.wb&&(X=4<D.wb?X>>2:X>>1)>9-D.wb&&(X=9-D.wb),1>X&&(X=1),G.dd=X,G.tc=2*Y+X,G.ld=40<=Y?2:15<=Y?1:0}else G.tc=0;G.La=U}}}k=0}else Hn(m,6,"Frame setup failed"),k=m.a;if(k=k==0){if(k){m.$c=0,0<m.Aa||(m.Ic=yo);e:{k=m.Ic,D=4*(X=m.za);var ie=32*X,ve=X+1,Ie=0<m.L?X*(0<m.Aa?2:1):0,Pe=(m.Aa==2?2:1)*X;if((G=D+832+(U=3*(16*k+Gl[m.L])/2*ie)+(W=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=G)k=0;else{if(G>m.Vb){if(m.Vb=0,m.Ec=s(G),m.Fc=0,m.Ec==null){k=Hn(m,1,"no memory during frame initialization.");break e}m.Vb=G}G=m.Ec,Y=m.Fc,m.Ac=G,m.Bc=Y,Y+=D,m.Gd=a(ie,Na),m.Hd=0,m.rb=a(ve+1,ia),m.sb=1,m.wa=Ie?a(Ie,Ts):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=X),e(!0),m.oc=G,m.pc=Y,Y+=832,m.ya=a(Pe,eo),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=X),m.R=16*X,m.B=8*X,X=(ie=Gl[m.L])*m.R,ie=ie/2*m.B,m.sa=G,m.ta=Y+X,m.qa=m.sa,m.ra=m.ta+16*k*m.R+ie,m.Ha=m.qa,m.Ia=m.ra+8*k*m.B+ie,m.$c=0,Y+=U,m.mb=W?G:null,m.nb=W?Y:null,e(Y+W<=m.Fc+m.Vb),Sa(m),i(m.Ac,m.Bc,0,D),k=1}}if(k){if(w.ka=0,w.y=m.sa,w.O=m.ta,w.f=m.qa,w.N=m.ra,w.ea=m.Ha,w.Vd=m.Ia,w.fa=m.R,w.Rc=m.B,w.F=null,w.J=0,!Ou){for(k=-255;255>=k;++k)wr[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)Ma[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Dc[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)zl[255+k]=0>k?0:255<k?255:k;Ou=1}Lc=Yt,uo=Ea,ho=sa,li=wn,ps=aa,fn=Aa,Ol=ao,Mu=Xn,Fl=Rs,Vl=Ll,Bl=ds,ms=la,fo=Ca,Da=Ls,po=si,mo=xi,rl=cr,Yr=Rl,Os[0]=Cs,Os[1]=_c,Os[2]=Vi,Os[3]=js,Os[4]=jl,Os[5]=Yo,Os[6]=$r,Os[7]=Qo,Os[8]=io,Os[9]=oa,ki[0]=cs,ki[1]=Nc,ki[2]=Ps,ki[3]=ro,ki[4]=ln,ki[5]=us,ki[6]=Fi,zi[0]=ii,zi[1]=Ko,zi[2]=Sc,zi[3]=vi,zi[4]=mn,zi[5]=Ia,zi[6]=Cl,k=1}else k=0}k&&(k=function(Ee,Ue){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var De,be=Ee.Jc[Ee.M&Ee.Xb],we=Ee.m,Be=Ee;for(De=0;De<Be.za;++De){var Ve=we,ze=Be,lt=ze.Ac,it=ze.Bc+4*De,Nt=ze.zc,ot=ze.ya[ze.aa+De];if(ze.Qa.Bb?ot.$b=Ne(Ve,ze.Pa.jb[0])?2+Ne(Ve,ze.Pa.jb[2]):Ne(Ve,ze.Pa.jb[1]):ot.$b=0,ze.kc&&(ot.Ad=Ne(Ve,ze.Bd)),ot.Za=!Ne(Ve,145)+0,ot.Za){var cn=ot.Ob,un=0;for(ze=0;4>ze;++ze){var rn,Kt=Nt[0+ze];for(rn=0;4>rn;++rn){Kt=M0[lt[it+rn]][Kt];for(var kn=Rp[Ne(Ve,Kt[0])];0<kn;)kn=Rp[2*kn+Ne(Ve,Kt[kn])];Kt=-kn,lt[it+rn]=Kt}r(cn,un,lt,it,4),un+=4,Nt[0+ze]=Kt}}else Kt=Ne(Ve,156)?Ne(Ve,128)?1:3:Ne(Ve,163)?2:0,ot.Ob[0]=Kt,i(lt,it,Kt,4),i(Nt,0,Kt,4);ot.Dd=Ne(Ve,142)?Ne(Ve,114)?Ne(Ve,183)?1:3:2:0}if(Be.m.Ka)return Hn(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(Be=be,Ve=(we=Ee).rb[we.sb-1],lt=we.rb[we.sb+we.ja],De=we.ya[we.aa+we.ja],it=we.kc?De.Ad:0)Ve.la=lt.la=0,De.Za||(Ve.Na=lt.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var Pn,Vt;if(Ve=lt,lt=Be,it=we.Pa.Xc,Nt=we.ya[we.aa+we.ja],ot=we.pb[Nt.$b],ze=Nt.ad,cn=0,un=we.rb[we.sb-1],Kt=rn=0,i(ze,cn,0,384),Nt.Za)var Jn=0,Ai=it[3];else{kn=s(16);var mr=Ve.Na+un.Na;if(mr=Hl(lt,it[1],mr,ot.Eb,0,kn,0),Ve.Na=un.Na=(0<mr)+0,1<mr)Lc(kn,0,ze,cn);else{var Tr=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)ze[cn+kn]=Tr}Jn=1,Ai=it[0]}var yn=15&Ve.la,ui=15&un.la;for(kn=0;4>kn;++kn){var hi=1&ui;for(Tr=Vt=0;4>Tr;++Tr)yn=yn>>1|(hi=(mr=Hl(lt,Ai,mr=hi+(1&yn),ot.Sc,Jn,ze,cn))>Jn)<<7,Vt=Vt<<2|(3<mr?3:1<mr?2:ze[cn+0]!=0),cn+=16;yn>>=4,ui=ui>>1|hi<<7,rn=(rn<<8|Vt)>>>0}for(Ai=yn,Jn=ui>>4,Pn=0;4>Pn;Pn+=2){for(Vt=0,yn=Ve.la>>4+Pn,ui=un.la>>4+Pn,kn=0;2>kn;++kn){for(hi=1&ui,Tr=0;2>Tr;++Tr)mr=hi+(1&yn),yn=yn>>1|(hi=0<(mr=Hl(lt,it[2],mr,ot.Qc,0,ze,cn)))<<3,Vt=Vt<<2|(3<mr?3:1<mr?2:ze[cn+0]!=0),cn+=16;yn>>=2,ui=ui>>1|hi<<5}Kt|=Vt<<4*Pn,Ai|=yn<<4<<Pn,Jn|=(240&ui)<<Pn}Ve.la=Ai,un.la=Jn,Nt.Hc=rn,Nt.Gc=Kt,Nt.ia=43690&Kt?0:ot.ia,it=!(rn|Kt)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[De.$b][De.Za],we.wa[we.Y+we.ja].La|=!it),Be.Ka)return Hn(Ee,7,"Premature end-of-file encountered.")}if(Sa(Ee),we=Ue,Be=1,De=(be=Ee).D,Ve=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(De.M=be.M,De.uc=Ve,ha(be,De),Be=1,De=(Vt=be.D).Nb,Ve=(Kt=Gl[be.L])*be.R,lt=Kt/2*be.B,kn=16*De*be.R,Tr=8*De*be.B,it=be.sa,Nt=be.ta-Ve+kn,ot=be.qa,ze=be.ra-lt+Tr,cn=be.Ha,un=be.Ia-lt+Tr,ui=(yn=Vt.M)==0,rn=yn>=be.Va-1,be.Aa==2&&ha(be,Vt),Vt.uc)for(hi=(mr=be).D.M,e(mr.D.uc),Vt=mr.yb;Vt<mr.Hb;++Vt){Jn=Vt,Ai=hi;var Zn=(Ir=(vn=mr).D).Nb;Pn=vn.R;var Ir=Ir.wa[Ir.Y+Jn],Xr=vn.sa,Wi=vn.ta+16*Zn*Pn+16*Jn,Fs=Ir.dd,er=Ir.tc;if(er!=0)if(e(3<=er),vn.L==1)0<Jn&&mo(Xr,Wi,Pn,er+4),Ir.La&&Yr(Xr,Wi,Pn,er),0<Ai&&po(Xr,Wi,Pn,er+4),Ir.La&&rl(Xr,Wi,Pn,er);else{var _r=vn.B,gs=vn.qa,ol=vn.ra+8*Zn*_r+8*Jn,vo=vn.Ha,vn=vn.Ia+8*Zn*_r+8*Jn;Zn=Ir.ld,0<Jn&&(Mu(Xr,Wi,Pn,er+4,Fs,Zn),Vl(gs,ol,vo,vn,_r,er+4,Fs,Zn)),Ir.La&&(ms(Xr,Wi,Pn,er,Fs,Zn),Da(gs,ol,vo,vn,_r,er,Fs,Zn)),0<Ai&&(Ol(Xr,Wi,Pn,er+4,Fs,Zn),Fl(gs,ol,vo,vn,_r,er+4,Fs,Zn)),Ir.La&&(Bl(Xr,Wi,Pn,er,Fs,Zn),fo(gs,ol,vo,vn,_r,er,Fs,Zn))}}if(be.ia&&alert("todo:DitherRow"),we.put!=null){if(Vt=16*yn,yn=16*(yn+1),ui?(we.y=be.sa,we.O=be.ta+kn,we.f=be.qa,we.N=be.ra+Tr,we.ea=be.Ha,we.W=be.Ia+Tr):(Vt-=Kt,we.y=it,we.O=Nt,we.f=ot,we.N=ze,we.ea=cn,we.W=un),rn||(yn-=Kt),yn>we.o&&(yn=we.o),we.F=null,we.J=null,be.Fa!=null&&0<be.Fa.length&&Vt<yn&&(we.J=el(be,we,Vt,yn-Vt),we.F=be.mb,we.F==null&&we.F.length==0)){Be=Hn(be,3,"Could not decode alpha data.");break e}Vt<we.j&&(Kt=we.j-Vt,Vt=we.j,e(!(1&Kt)),we.O+=be.R*Kt,we.N+=be.B*(Kt>>1),we.W+=be.B*(Kt>>1),we.F!=null&&(we.J+=we.width*Kt)),Vt<yn&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=Vt-we.j,we.U=we.va-we.v,we.T=yn-Vt,Be=we.put(we))}De+1!=be.Ic||rn||(r(be.sa,be.ta-Ve,it,Nt+16*be.R,Ve),r(be.qa,be.ra-lt,ot,ze+8*be.B,lt),r(be.Ha,be.Ia-lt,cn,un+8*be.B,lt))}if(!Be)return Hn(Ee,6,"Output aborted.")}return 1}(m,w)),w.bc!=null&&w.bc(w),k&=1}return k?(m.cb=0,k):0}function Hr(m,w,k,D,U){U=m[w+k+32*D]+(U>>3),m[w+k+32*D]=-256&U?0>U?0:255:U}function Go(m,w,k,D,U,W){Hr(m,w,0,k,D+U),Hr(m,w,1,k,D+W),Hr(m,w,2,k,D-W),Hr(m,w,3,k,D-U)}function lr(m){return(20091*m>>16)+m}function Wr(m,w,k,D){var U,W=0,G=s(16);for(U=0;4>U;++U){var Y=m[w+0]+m[w+8],X=m[w+0]-m[w+8],ie=(35468*m[w+4]>>16)-lr(m[w+12]),ve=lr(m[w+4])+(35468*m[w+12]>>16);G[W+0]=Y+ve,G[W+1]=X+ie,G[W+2]=X-ie,G[W+3]=Y-ve,W+=4,w++}for(U=W=0;4>U;++U)Y=(m=G[W+0]+4)+G[W+8],X=m-G[W+8],ie=(35468*G[W+4]>>16)-lr(G[W+12]),Hr(k,D,0,0,Y+(ve=lr(G[W+4])+(35468*G[W+12]>>16))),Hr(k,D,1,0,X+ie),Hr(k,D,2,0,X-ie),Hr(k,D,3,0,Y-ve),W++,D+=32}function Aa(m,w,k,D){var U=m[w+0]+4,W=35468*m[w+4]>>16,G=lr(m[w+4]),Y=35468*m[w+1]>>16;Go(k,D,0,U+G,m=lr(m[w+1]),Y),Go(k,D,1,U+W,m,Y),Go(k,D,2,U-W,m,Y),Go(k,D,3,U-G,m,Y)}function Ea(m,w,k,D,U){Wr(m,w,k,D),U&&Wr(m,w+16,k,D+4)}function sa(m,w,k,D){uo(m,w+0,k,D,1),uo(m,w+32,k,D+128,1)}function wn(m,w,k,D){var U;for(m=m[w+0]+4,U=0;4>U;++U)for(w=0;4>w;++w)Hr(k,D,w,U,m)}function aa(m,w,k,D){m[w+0]&&li(m,w+0,k,D),m[w+16]&&li(m,w+16,k,D+4),m[w+32]&&li(m,w+32,k,D+128),m[w+48]&&li(m,w+48,k,D+128+4)}function Yt(m,w,k,D){var U,W=s(16);for(U=0;4>U;++U){var G=m[w+0+U]+m[w+12+U],Y=m[w+4+U]+m[w+8+U],X=m[w+4+U]-m[w+8+U],ie=m[w+0+U]-m[w+12+U];W[0+U]=G+Y,W[8+U]=G-Y,W[4+U]=ie+X,W[12+U]=ie-X}for(U=0;4>U;++U)G=(m=W[0+4*U]+3)+W[3+4*U],Y=W[1+4*U]+W[2+4*U],X=W[1+4*U]-W[2+4*U],ie=m-W[3+4*U],k[D+0]=G+Y>>3,k[D+16]=ie+X>>3,k[D+32]=G-Y>>3,k[D+48]=ie-X>>3,D+=64}function Is(m,w,k){var D,U=w-32,W=Si,G=255-m[U-1];for(D=0;D<k;++D){var Y,X=W,ie=G+m[w-1];for(Y=0;Y<k;++Y)m[w+Y]=X[ie+m[U+Y]];w+=32}}function _c(m,w){Is(m,w,4)}function Ko(m,w){Is(m,w,8)}function Nc(m,w){Is(m,w,16)}function Ps(m,w){var k;for(k=0;16>k;++k)r(m,w+32*k,m,w-32,16)}function ro(m,w){var k;for(k=16;0<k;--k)i(m,w,m[w-1],16),w+=32}function Ta(m,w,k){var D;for(D=0;16>D;++D)i(w,k+32*D,m,16)}function cs(m,w){var k,D=16;for(k=0;16>k;++k)D+=m[w-1+32*k]+m[w+k-32];Ta(D>>5,m,w)}function ln(m,w){var k,D=8;for(k=0;16>k;++k)D+=m[w-1+32*k];Ta(D>>4,m,w)}function us(m,w){var k,D=8;for(k=0;16>k;++k)D+=m[w+k-32];Ta(D>>4,m,w)}function Fi(m,w){Ta(128,m,w)}function kt(m,w,k){return m+2*w+k+2>>2}function Vi(m,w){var k,D=w-32;for(D=new Uint8Array([kt(m[D-1],m[D+0],m[D+1]),kt(m[D+0],m[D+1],m[D+2]),kt(m[D+1],m[D+2],m[D+3]),kt(m[D+2],m[D+3],m[D+4])]),k=0;4>k;++k)r(m,w+32*k,D,0,D.length)}function js(m,w){var k=m[w-1],D=m[w-1+32],U=m[w-1+64],W=m[w-1+96];Me(m,w+0,16843009*kt(m[w-1-32],k,D)),Me(m,w+32,16843009*kt(k,D,U)),Me(m,w+64,16843009*kt(D,U,W)),Me(m,w+96,16843009*kt(U,W,W))}function Cs(m,w){var k,D=4;for(k=0;4>k;++k)D+=m[w+k-32]+m[w-1+32*k];for(D>>=3,k=0;4>k;++k)i(m,w+32*k,D,4)}function jl(m,w){var k=m[w-1+0],D=m[w-1+32],U=m[w-1+64],W=m[w-1-32],G=m[w+0-32],Y=m[w+1-32],X=m[w+2-32],ie=m[w+3-32];m[w+0+96]=kt(D,U,m[w-1+96]),m[w+1+96]=m[w+0+64]=kt(k,D,U),m[w+2+96]=m[w+1+64]=m[w+0+32]=kt(W,k,D),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=kt(G,W,k),m[w+3+64]=m[w+2+32]=m[w+1+0]=kt(Y,G,W),m[w+3+32]=m[w+2+0]=kt(X,Y,G),m[w+3+0]=kt(ie,X,Y)}function $r(m,w){var k=m[w+1-32],D=m[w+2-32],U=m[w+3-32],W=m[w+4-32],G=m[w+5-32],Y=m[w+6-32],X=m[w+7-32];m[w+0+0]=kt(m[w+0-32],k,D),m[w+1+0]=m[w+0+32]=kt(k,D,U),m[w+2+0]=m[w+1+32]=m[w+0+64]=kt(D,U,W),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=kt(U,W,G),m[w+3+32]=m[w+2+64]=m[w+1+96]=kt(W,G,Y),m[w+3+64]=m[w+2+96]=kt(G,Y,X),m[w+3+96]=kt(Y,X,X)}function Yo(m,w){var k=m[w-1+0],D=m[w-1+32],U=m[w-1+64],W=m[w-1-32],G=m[w+0-32],Y=m[w+1-32],X=m[w+2-32],ie=m[w+3-32];m[w+0+0]=m[w+1+64]=W+G+1>>1,m[w+1+0]=m[w+2+64]=G+Y+1>>1,m[w+2+0]=m[w+3+64]=Y+X+1>>1,m[w+3+0]=X+ie+1>>1,m[w+0+96]=kt(U,D,k),m[w+0+64]=kt(D,k,W),m[w+0+32]=m[w+1+96]=kt(k,W,G),m[w+1+32]=m[w+2+96]=kt(W,G,Y),m[w+2+32]=m[w+3+96]=kt(G,Y,X),m[w+3+32]=kt(Y,X,ie)}function Qo(m,w){var k=m[w+0-32],D=m[w+1-32],U=m[w+2-32],W=m[w+3-32],G=m[w+4-32],Y=m[w+5-32],X=m[w+6-32],ie=m[w+7-32];m[w+0+0]=k+D+1>>1,m[w+1+0]=m[w+0+64]=D+U+1>>1,m[w+2+0]=m[w+1+64]=U+W+1>>1,m[w+3+0]=m[w+2+64]=W+G+1>>1,m[w+0+32]=kt(k,D,U),m[w+1+32]=m[w+0+96]=kt(D,U,W),m[w+2+32]=m[w+1+96]=kt(U,W,G),m[w+3+32]=m[w+2+96]=kt(W,G,Y),m[w+3+64]=kt(G,Y,X),m[w+3+96]=kt(Y,X,ie)}function oa(m,w){var k=m[w-1+0],D=m[w-1+32],U=m[w-1+64],W=m[w-1+96];m[w+0+0]=k+D+1>>1,m[w+2+0]=m[w+0+32]=D+U+1>>1,m[w+2+32]=m[w+0+64]=U+W+1>>1,m[w+1+0]=kt(k,D,U),m[w+3+0]=m[w+1+32]=kt(D,U,W),m[w+3+32]=m[w+1+64]=kt(U,W,W),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=W}function io(m,w){var k=m[w-1+0],D=m[w-1+32],U=m[w-1+64],W=m[w-1+96],G=m[w-1-32],Y=m[w+0-32],X=m[w+1-32],ie=m[w+2-32];m[w+0+0]=m[w+2+32]=k+G+1>>1,m[w+0+32]=m[w+2+64]=D+k+1>>1,m[w+0+64]=m[w+2+96]=U+D+1>>1,m[w+0+96]=W+U+1>>1,m[w+3+0]=kt(Y,X,ie),m[w+2+0]=kt(G,Y,X),m[w+1+0]=m[w+3+32]=kt(k,G,Y),m[w+1+32]=m[w+3+64]=kt(D,k,G),m[w+1+64]=m[w+3+96]=kt(U,D,k),m[w+1+96]=kt(W,U,D)}function Sc(m,w){var k;for(k=0;8>k;++k)r(m,w+32*k,m,w-32,8)}function vi(m,w){var k;for(k=0;8>k;++k)i(m,w,m[w-1],8),w+=32}function Gr(m,w,k){var D;for(D=0;8>D;++D)i(w,k+32*D,m,8)}function ii(m,w){var k,D=8;for(k=0;8>k;++k)D+=m[w+k-32]+m[w-1+32*k];Gr(D>>4,m,w)}function Ia(m,w){var k,D=4;for(k=0;8>k;++k)D+=m[w+k-32];Gr(D>>3,m,w)}function mn(m,w){var k,D=4;for(k=0;8>k;++k)D+=m[w-1+32*k];Gr(D>>3,m,w)}function Cl(m,w){Gr(128,m,w)}function Pa(m,w,k){var D=m[w-k],U=m[w+0],W=3*(U-D)+Oa[1020+m[w-2*k]-m[w+k]],G=Mc[112+(W+4>>3)];m[w-k]=Si[255+D+Mc[112+(W+3>>3)]],m[w+0]=Si[255+U-G]}function ja(m,w,k,D){var U=m[w+0],W=m[w+k];return Ms[255+m[w-2*k]-m[w-k]]>D||Ms[255+W-U]>D}function so(m,w,k,D){return 4*Ms[255+m[w-k]-m[w+0]]+Ms[255+m[w-2*k]-m[w+k]]<=D}function Xo(m,w,k,D,U){var W=m[w-3*k],G=m[w-2*k],Y=m[w-k],X=m[w+0],ie=m[w+k],ve=m[w+2*k],Ie=m[w+3*k];return 4*Ms[255+Y-X]+Ms[255+G-ie]>D?0:Ms[255+m[w-4*k]-W]<=U&&Ms[255+W-G]<=U&&Ms[255+G-Y]<=U&&Ms[255+Ie-ve]<=U&&Ms[255+ve-ie]<=U&&Ms[255+ie-X]<=U}function si(m,w,k,D){var U=2*D+1;for(D=0;16>D;++D)so(m,w+D,k,U)&&Pa(m,w+D,k)}function xi(m,w,k,D){var U=2*D+1;for(D=0;16>D;++D)so(m,w+D*k,1,U)&&Pa(m,w+D*k,1)}function cr(m,w,k,D){var U;for(U=3;0<U;--U)si(m,w+=4*k,k,D)}function Rl(m,w,k,D){var U;for(U=3;0<U;--U)xi(m,w+=4,k,D)}function hs(m,w,k,D,U,W,G,Y){for(W=2*W+1;0<U--;){if(Xo(m,w,k,W,G))if(ja(m,w,k,Y))Pa(m,w,k);else{var X=m,ie=w,ve=k,Ie=X[ie-2*ve],Pe=X[ie-ve],Ee=X[ie+0],Ue=X[ie+ve],De=X[ie+2*ve],be=27*(Be=Oa[1020+3*(Ee-Pe)+Oa[1020+Ie-Ue]])+63>>7,we=18*Be+63>>7,Be=9*Be+63>>7;X[ie-3*ve]=Si[255+X[ie-3*ve]+Be],X[ie-2*ve]=Si[255+Ie+we],X[ie-ve]=Si[255+Pe+be],X[ie+0]=Si[255+Ee-be],X[ie+ve]=Si[255+Ue-we],X[ie+2*ve]=Si[255+De-Be]}w+=D}}function br(m,w,k,D,U,W,G,Y){for(W=2*W+1;0<U--;){if(Xo(m,w,k,W,G))if(ja(m,w,k,Y))Pa(m,w,k);else{var X=m,ie=w,ve=k,Ie=X[ie-ve],Pe=X[ie+0],Ee=X[ie+ve],Ue=Mc[112+((De=3*(Pe-Ie))+4>>3)],De=Mc[112+(De+3>>3)],be=Ue+1>>1;X[ie-2*ve]=Si[255+X[ie-2*ve]+be],X[ie-ve]=Si[255+Ie+De],X[ie+0]=Si[255+Pe-Ue],X[ie+ve]=Si[255+Ee-be]}w+=D}}function ao(m,w,k,D,U,W){hs(m,w,k,1,16,D,U,W)}function Xn(m,w,k,D,U,W){hs(m,w,1,k,16,D,U,W)}function ds(m,w,k,D,U,W){var G;for(G=3;0<G;--G)br(m,w+=4*k,k,1,16,D,U,W)}function la(m,w,k,D,U,W){var G;for(G=3;0<G;--G)br(m,w+=4,1,k,16,D,U,W)}function Rs(m,w,k,D,U,W,G,Y){hs(m,w,U,1,8,W,G,Y),hs(k,D,U,1,8,W,G,Y)}function Ll(m,w,k,D,U,W,G,Y){hs(m,w,1,U,8,W,G,Y),hs(k,D,1,U,8,W,G,Y)}function Ca(m,w,k,D,U,W,G,Y){br(m,w+4*U,U,1,8,W,G,Y),br(k,D+4*U,U,1,8,W,G,Y)}function Ls(m,w,k,D,U,W,G,Y){br(m,w+4,1,U,8,W,G,Y),br(k,D+4,1,U,8,W,G,Y)}function fs(){this.ba=new ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ca(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ra(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Jo(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new P}function kc(){this.xb=this.a=0,this.l=new to,this.ca=new ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Jo,this.ab=0,this.gc=a(4,Ra),this.Oc=0}function ua(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new to,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ds(m,w,k,D,U,W,G){for(m=m==null?0:m[w+0],w=0;w<G;++w)U[W+w]=m+k[D+w]&255,m=U[W+w]}function Zo(m,w,k,D,U,W,G){var Y;if(m==null)Ds(null,null,k,D,U,W,G);else for(Y=0;Y<G;++Y)U[W+Y]=m[w+Y]+k[D+Y]&255}function ai(m,w,k,D,U,W,G){if(m==null)Ds(null,null,k,D,U,W,G);else{var Y,X=m[w+0],ie=X,ve=X;for(Y=0;Y<G;++Y)ie=ve+(X=m[w+Y])-ie,ve=k[D+Y]+(-256&ie?0>ie?0:255:ie)&255,ie=X,U[W+Y]=ve}}function el(m,w,k,D){var U=w.width,W=w.o;if(e(m!=null&&w!=null),0>k||0>=D||k+D>W)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new ua,(G=m.ga==null)||(G=w.width*w.o,e(m.Gb.length==0),m.Gb=s(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var Y=m.Fa,X=m.P,ie=m.qc,ve=m.mb,Ie=m.nb,Pe=X+1,Ee=ie-1,Ue=G.l;if(e(Y!=null&&ve!=null&&w!=null),ci[0]=null,ci[1]=Ds,ci[2]=Zo,ci[3]=ai,G.ca=ve,G.tb=Ie,G.c=w.width,G.i=w.height,e(0<G.c&&0<G.i),1>=ie)w=0;else if(G.$a=Y[X+0]>>0&3,G.Z=Y[X+0]>>2&3,G.Lc=Y[X+0]>>4&3,X=Y[X+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||X)w=0;else if(Ue.put=Fr,Ue.ac=fr,Ue.bc=Di,Ue.ma=G,Ue.width=w.width,Ue.height=w.height,Ue.Da=w.Da,Ue.v=w.v,Ue.va=w.va,Ue.j=w.j,Ue.o=w.o,G.$a)e:{e(G.$a==1),w=or();t:for(;;){if(w==null){w=0;break e}if(e(G!=null),G.mc=w,w.c=G.c,w.i=G.i,w.l=G.l,w.l.ma=G,w.l.width=G.c,w.l.height=G.i,w.a=0,ae(w.m,Y,Pe,Ee),!ls(G.c,G.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&ea(w.s)?(G.ic=1,Y=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(Y),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(G.ic=0,w=ta(w,G.c)),!w))break t;w=1;break e}G.mc=null,w=0}else w=Ee>=G.c*G.i;G=!w}if(G)return null;m.ga.Lc!=1?m.Ga=0:D=W-k}e(m.ga!=null),e(k+D<=W);e:{if(w=(Y=m.ga).c,W=Y.l.o,Y.$a==0){if(Pe=m.rc,Ee=m.Vc,Ue=m.Fa,X=m.P+1+k*w,ie=m.mb,ve=m.nb+k*w,e(X<=m.P+m.qc),Y.Z!=0)for(e(ci[Y.Z]!=null),G=0;G<D;++G)ci[Y.Z](Pe,Ee,Ue,X,ie,ve,w),Pe=ie,Ee=ve,ve+=w,X+=w;else for(G=0;G<D;++G)r(ie,ve,Ue,X,w),Pe=ie,Ee=ve,ve+=w,X+=w;m.rc=Pe,m.Vc=Ee}else{if(e(Y.mc!=null),w=k+D,e((G=Y.mc)!=null),e(w<=G.i),G.C>=w)w=1;else if(Y.ic||Te(),Y.ic){Y=G.V,Pe=G.Ba,Ee=G.c;var De=G.i,be=(Ue=1,X=G.$/Ee,ie=G.$%Ee,ve=G.m,Ie=G.s,G.$),we=Ee*De,Be=Ee*w,Ve=Ie.wc,ze=be<Be?qn(Ie,ie,X):null;e(be<=we),e(w<=De),e(ea(Ie));t:for(;;){for(;!ve.h&&be<Be;){if(ie&Ve||(ze=qn(Ie,ie,X)),e(ze!=null),fe(ve),256>(De=xr(ze.G[0],ze.H[0],ve)))Y[Pe+be]=De,++be,++ie>=Ee&&(ie=0,++X<=w&&!(X%16)&&Mi(G,X));else{if(!(280>De)){Ue=0;break t}De=ti(De-256,ve);var lt,it=xr(ze.G[4],ze.H[4],ve);if(fe(ve),!(be>=(it=vr(Ee,it=ti(it,ve)))&&we-be>=De)){Ue=0;break t}for(lt=0;lt<De;++lt)Y[Pe+be+lt]=Y[Pe+be+lt-it];for(be+=De,ie+=De;ie>=Ee;)ie-=Ee,++X<=w&&!(X%16)&&Mi(G,X);be<Be&&ie&Ve&&(ze=qn(Ie,ie,X))}e(ve.h==ee(ve))}Mi(G,X>w?w:X);break t}!Ue||ve.h&&be<we?(Ue=0,G.a=ve.h?5:3):G.$=be,w=Ue}else w=pr(G,G.V,G.Ba,G.c,G.i,w,na);if(!w){D=0;break e}}k+D>=W&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+k*U}function _(m,w,k,D,U,W){for(;0<U--;){var G,Y=m,X=w+(k?1:0),ie=m,ve=w+(k?0:3);for(G=0;G<D;++G){var Ie=ie[ve+4*G];Ie!=255&&(Ie*=32897,Y[X+4*G+0]=Y[X+4*G+0]*Ie>>23,Y[X+4*G+1]=Y[X+4*G+1]*Ie>>23,Y[X+4*G+2]=Y[X+4*G+2]*Ie>>23)}w+=W}}function H(m,w,k,D,U){for(;0<D--;){var W;for(W=0;W<k;++W){var G=m[w+2*W+0],Y=15&(ie=m[w+2*W+1]),X=4369*Y,ie=(240&ie|ie>>4)*X>>16;m[w+2*W+0]=(240&G|G>>4)*X>>16&240|(15&G|G<<4)*X>>16>>4&15,m[w+2*W+1]=240&ie|Y}w+=U}}function le(m,w,k,D,U,W,G,Y){var X,ie,ve=255;for(ie=0;ie<U;++ie){for(X=0;X<D;++X){var Ie=m[w+X];W[G+4*X]=Ie,ve&=Ie}w+=k,G+=Y}return ve!=255}function pe(m,w,k,D,U){var W;for(W=0;W<U;++W)k[D+W]=m[w+W]>>8}function Te(){Bi=_,Mn=H,Nn=le,hr=pe}function Fe(m,w,k){C[m]=function(D,U,W,G,Y,X,ie,ve,Ie,Pe,Ee,Ue,De,be,we,Be,Ve){var ze,lt=Ve-1>>1,it=Y[X+0]|ie[ve+0]<<16,Nt=Ie[Pe+0]|Ee[Ue+0]<<16;e(D!=null);var ot=3*it+Nt+131074>>2;for(w(D[U+0],255&ot,ot>>16,De,be),W!=null&&(ot=3*Nt+it+131074>>2,w(W[G+0],255&ot,ot>>16,we,Be)),ze=1;ze<=lt;++ze){var cn=Y[X+ze]|ie[ve+ze]<<16,un=Ie[Pe+ze]|Ee[Ue+ze]<<16,rn=it+cn+Nt+un+524296,Kt=rn+2*(cn+Nt)>>3;ot=Kt+it>>1,it=(rn=rn+2*(it+un)>>3)+cn>>1,w(D[U+2*ze-1],255&ot,ot>>16,De,be+(2*ze-1)*k),w(D[U+2*ze-0],255&it,it>>16,De,be+(2*ze-0)*k),W!=null&&(ot=rn+Nt>>1,it=Kt+un>>1,w(W[G+2*ze-1],255&ot,ot>>16,we,Be+(2*ze-1)*k),w(W[G+2*ze+0],255&it,it>>16,we,Be+(2*ze+0)*k)),it=cn,Nt=un}1&Ve||(ot=3*it+Nt+131074>>2,w(D[U+Ve-1],255&ot,ot>>16,De,be+(Ve-1)*k),W!=null&&(ot=3*Nt+it+131074>>2,w(W[G+Ve-1],255&ot,ot>>16,we,Be+(Ve-1)*k)))}}function We(){Ui[Dh]=F0,Ui[il]=sl,Ui[Pp]=V0,Ui[Fu]=Bc,Ui[Vu]=Wl,Ui[On]=Hu,Ui[Mh]=Kd,Ui[Oc]=sl,Ui[Ul]=Bc,Ui[Bu]=Wl,Ui[zu]=Hu}function rt(m){return m&-16384?0>m?0:255:m>>al}function g(m,w){return rt((19077*m>>8)+(26149*w>>8)-14234)}function I(m,w,k){return rt((19077*m>>8)-(6419*w>>8)-(13320*k>>8)+8708)}function F(m,w){return rt((19077*m>>8)+(33050*w>>8)-17685)}function Q(m,w,k,D,U){D[U+0]=g(m,k),D[U+1]=I(m,w,k),D[U+2]=F(m,w)}function Ae(m,w,k,D,U){D[U+0]=F(m,w),D[U+1]=I(m,w,k),D[U+2]=g(m,k)}function Ce(m,w,k,D,U){var W=I(m,w,k);w=W<<3&224|F(m,w)>>3,D[U+0]=248&g(m,k)|W>>5,D[U+1]=w}function Ge(m,w,k,D,U){var W=240&F(m,w)|15;D[U+0]=240&g(m,k)|I(m,w,k)>>4,D[U+1]=W}function qt(m,w,k,D,U){D[U+0]=255,Q(m,w,k,D,U+1)}function en(m,w,k,D,U){Ae(m,w,k,D,U),D[U+3]=255}function Ht(m,w,k,D,U){Q(m,w,k,D,U),D[U+3]=255}function gn(m,w){return 0>m?0:m>w?w:m}function _n(m,w,k){C[m]=function(D,U,W,G,Y,X,ie,ve,Ie){for(var Pe=ve+(-2&Ie)*k;ve!=Pe;)w(D[U+0],W[G+0],Y[X+0],ie,ve),w(D[U+1],W[G+0],Y[X+0],ie,ve+k),U+=2,++G,++X,ve+=2*k;1&Ie&&w(D[U+0],W[G+0],Y[X+0],ie,ve)}}function bi(m,w,k){return k==0?m==0?w==0?6:5:w==0?4:0:k}function Kr(m,w,k,D,U){switch(m>>>30){case 3:uo(w,k,D,U,0);break;case 2:fn(w,k,D,U);break;case 1:li(w,k,D,U)}}function ha(m,w){var k,D,U=w.M,W=w.Nb,G=m.oc,Y=m.pc+40,X=m.oc,ie=m.pc+584,ve=m.oc,Ie=m.pc+600;for(k=0;16>k;++k)G[Y+32*k-1]=129;for(k=0;8>k;++k)X[ie+32*k-1]=129,ve[Ie+32*k-1]=129;for(0<U?G[Y-1-32]=X[ie-1-32]=ve[Ie-1-32]=129:(i(G,Y-32-1,127,21),i(X,ie-32-1,127,9),i(ve,Ie-32-1,127,9)),D=0;D<m.za;++D){var Pe=w.ya[w.aa+D];if(0<D){for(k=-1;16>k;++k)r(G,Y+32*k-4,G,Y+32*k+12,4);for(k=-1;8>k;++k)r(X,ie+32*k-4,X,ie+32*k+4,4),r(ve,Ie+32*k-4,ve,Ie+32*k+4,4)}var Ee=m.Gd,Ue=m.Hd+D,De=Pe.ad,be=Pe.Hc;if(0<U&&(r(G,Y-32,Ee[Ue].y,0,16),r(X,ie-32,Ee[Ue].f,0,8),r(ve,Ie-32,Ee[Ue].ea,0,8)),Pe.Za){var we=G,Be=Y-32+16;for(0<U&&(D>=m.za-1?i(we,Be,Ee[Ue].y[15],4):r(we,Be,Ee[Ue+1].y,0,4)),k=0;4>k;k++)we[Be+128+k]=we[Be+256+k]=we[Be+384+k]=we[Be+0+k];for(k=0;16>k;++k,be<<=2)we=G,Be=Y+Yd[k],Os[Pe.Ob[k]](we,Be),Kr(be,De,16*+k,we,Be)}else if(we=bi(D,U,Pe.Ob[0]),ki[we](G,Y),be!=0)for(k=0;16>k;++k,be<<=2)Kr(be,De,16*+k,G,Y+Yd[k]);for(k=Pe.Gc,we=bi(D,U,Pe.Dd),zi[we](X,ie),zi[we](ve,Ie),be=De,we=X,Be=ie,255&(Pe=k>>0)&&(170&Pe?ho(be,256,we,Be):ps(be,256,we,Be)),Pe=ve,be=Ie,255&(k>>=8)&&(170&k?ho(De,320,Pe,be):ps(De,320,Pe,be)),U<m.Ub-1&&(r(Ee[Ue].y,0,G,Y+480,16),r(Ee[Ue].f,0,X,ie+224,8),r(Ee[Ue].ea,0,ve,Ie+224,8)),k=8*W*m.B,Ee=m.sa,Ue=m.ta+16*D+16*W*m.R,De=m.qa,Pe=m.ra+8*D+k,be=m.Ha,we=m.Ia+8*D+k,k=0;16>k;++k)r(Ee,Ue+k*m.R,G,Y+32*k,16);for(k=0;8>k;++k)r(De,Pe+k*m.B,X,ie+32*k,8),r(be,we+k*m.B,ve,Ie+32*k,8)}}function da(m,w,k,D,U,W,G,Y,X){var ie=[0],ve=[0],Ie=0,Pe=X!=null?X.kd:0,Ee=X??new ca;if(m==null||12>k)return 7;Ee.data=m,Ee.w=w,Ee.ha=k,w=[w],k=[k],Ee.gb=[Ee.gb];e:{var Ue=w,De=k,be=Ee.gb;if(e(m!=null),e(De!=null),e(be!=null),be[0]=0,12<=De[0]&&!t(m,Ue[0],"RIFF")){if(t(m,Ue[0]+8,"WEBP")){be=3;break e}var we=et(m,Ue[0]+4);if(12>we||4294967286<we){be=3;break e}if(Pe&&we>De[0]-8){be=7;break e}be[0]=we,Ue[0]+=12,De[0]-=12}be=0}if(be!=0)return be;for(we=0<Ee.gb[0],k=k[0];;){e:{var Be=m;De=w,be=k;var Ve=ie,ze=ve,lt=Ue=[0];if((ot=Ie=[Ie])[0]=0,8>be[0])be=7;else{if(!t(Be,De[0],"VP8X")){if(et(Be,De[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var it=et(Be,De[0]+8),Nt=1+tt(Be,De[0]+12);if(2147483648<=Nt*(Be=1+tt(Be,De[0]+15))){be=3;break e}lt!=null&&(lt[0]=it),Ve!=null&&(Ve[0]=Nt),ze!=null&&(ze[0]=Be),De[0]+=18,be[0]-=18,ot[0]=1}be=0}}if(Ie=Ie[0],Ue=Ue[0],be!=0)return be;if(De=!!(2&Ue),!we&&Ie)return 3;if(W!=null&&(W[0]=!!(16&Ue)),G!=null&&(G[0]=De),Y!=null&&(Y[0]=0),G=ie[0],Ue=ve[0],Ie&&De&&X==null){be=0;break}if(4>k){be=7;break}if(we&&Ie||!we&&!Ie&&!t(m,w[0],"ALPH")){k=[k],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{it=m,be=w,we=k;var ot=Ee.gb;Ve=Ee.na,ze=Ee.P,lt=Ee.Sa,Nt=22,e(it!=null),e(we!=null),Be=be[0];var cn=we[0];for(e(Ve!=null),e(lt!=null),Ve[0]=null,ze[0]=null,lt[0]=0;;){if(be[0]=Be,we[0]=cn,8>cn){be=7;break e}var un=et(it,Be+4);if(4294967286<un){be=3;break e}var rn=8+un+1&-2;if(Nt+=rn,0<ot&&Nt>ot){be=3;break e}if(!t(it,Be,"VP8 ")||!t(it,Be,"VP8L")){be=0;break e}if(cn[0]<rn){be=7;break e}t(it,Be,"ALPH")||(Ve[0]=it,ze[0]=Be+8,lt[0]=un),Be+=rn,cn-=rn}}if(k=k[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],be!=0)break}k=[k],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(ot=m,be=w,we=k,Ve=Ee.gb[0],ze=Ee.Ja,lt=Ee.xa,it=be[0],Be=!t(ot,it,"VP8 "),Nt=!t(ot,it,"VP8L"),e(ot!=null),e(we!=null),e(ze!=null),e(lt!=null),8>we[0])be=7;else{if(Be||Nt){if(ot=et(ot,it+4),12<=Ve&&ot>Ve-12){be=3;break e}if(Pe&&ot>we[0]-8){be=7;break e}ze[0]=ot,be[0]+=8,we[0]-=8,lt[0]=Nt}else lt[0]=5<=we[0]&&ot[it+0]==47&&!(ot[it+4]>>5),ze[0]=we[0];be=0}if(k=k[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],w=w[0],be!=0)break;if(4294967286<Ee.Ja)return 3;if(Y==null||De||(Y[0]=Ee.xa?2:1),G=[G],Ue=[Ue],Ee.xa){if(5>k){be=7;break}Y=G,Pe=Ue,De=W,m==null||5>k?m=0:5<=k&&m[w+0]==47&&!(m[w+4]>>5)?(we=[0],ot=[0],Ve=[0],ae(ze=new V,m,w,k),ct(ze,we,ot,Ve)?(Y!=null&&(Y[0]=we[0]),Pe!=null&&(Pe[0]=ot[0]),De!=null&&(De[0]=Ve[0]),m=1):m=0):m=0}else{if(10>k){be=7;break}Y=Ue,m==null||10>k||!Il(m,w+3,k-3)?m=0:(Pe=m[w+0]|m[w+1]<<8|m[w+2]<<16,De=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ee.Ja||!De||!m?m=0:(G&&(G[0]=De),Y&&(Y[0]=m),m=1))}if(!m||(G=G[0],Ue=Ue[0],Ie&&(ie[0]!=G||ve[0]!=Ue)))return 3;X!=null&&(X[0]=Ee,X.offset=w-X.w,e(4294967286>w-X.w),e(X.offset==X.ha-k));break}return be==0||be==7&&Ie&&X==null?(W!=null&&(W[0]|=Ee.na!=null&&0<Ee.na.length),D!=null&&(D[0]=G),U!=null&&(U[0]=Ue),0):be}function Ac(m,w,k){var D=w.width,U=w.height,W=0,G=0,Y=D,X=U;if(w.Da=m!=null&&0<m.Da,w.Da&&(Y=m.cd,X=m.bd,W=m.v,G=m.j,11>k||(W&=-2,G&=-2),0>W||0>G||0>=Y||0>=X||W+Y>D||G+X>U))return 0;if(w.v=W,w.j=G,w.va=W+Y,w.o=G+X,w.U=Y,w.T=X,w.da=m!=null&&0<m.da,w.da){if(!Ct(Y,X,k=[m.ib],W=[m.hb]))return 0;w.ib=k[0],w.hb=W[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*D/4&&w.hb<3*U/4,w.Kb=0),1}function Ec(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function Dl(m,w,k,D){if(D==null||0>=m||0>=w)return 2;if(k!=null){if(k.Da){var U=k.cd,W=k.bd,G=-2&k.v,Y=-2&k.j;if(0>G||0>Y||0>=U||0>=W||G+U>m||Y+W>w)return 2;m=U,w=W}if(k.da){if(!Ct(m,w,U=[k.ib],W=[k.hb]))return 2;m=U[0],w=W[0]}}D.width=m,D.height=w;e:{var X=D.width,ie=D.height;if(m=D.S,0>=X||0>=ie||!(m>=Dh&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){G=W=U=w=0;var ve=(Y=X*Wu[m])*ie;if(11>m||(W=(ie+1)/2*(w=(X+1)/2),m==12&&(G=(U=X)*ie)),(ie=s(ve+2*W+G))==null){m=1;break e}D.sd=ie,11>m?((X=D.f.RGBA).eb=ie,X.fb=0,X.A=Y,X.size=ve):((X=D.f.kb).y=ie,X.O=0,X.fa=Y,X.Fd=ve,X.f=ie,X.N=0+ve,X.Ab=w,X.Cd=W,X.ea=ie,X.W=0+ve+W,X.Db=w,X.Ed=W,m==12&&(X.F=ie,X.J=0+ve+2*W),X.Tc=G,X.lb=U)}if(w=1,U=D.S,W=D.width,G=D.height,U>=Dh&&13>U)if(11>U)m=D.f.RGBA,w&=(Y=Math.abs(m.A))*(G-1)+W<=m.size,w&=Y>=W*Wu[U],w&=m.eb!=null;else{m=D.f.kb,Y=(W+1)/2,ve=(G+1)/2,X=Math.abs(m.fa),ie=Math.abs(m.Ab);var Ie=Math.abs(m.Db),Pe=Math.abs(m.lb),Ee=Pe*(G-1)+W;w&=X*(G-1)+W<=m.Fd,w&=ie*(ve-1)+Y<=m.Cd,w=(w&=Ie*(ve-1)+Y<=m.Ed)&X>=W&ie>=Y&Ie>=Y,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,U==12&&(w&=Pe>=W,w&=Ee<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||k!=null&&k.fd&&(m=Ec(D)),m}var ur=64,Tc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ic=24,Pc=32,jc=8,wi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(m){return m},C.Predictor2=function(m,w,k){return w[k+0]},C.Predictor3=function(m,w,k){return w[k+1]},C.Predictor4=function(m,w,k){return w[k-1]},C.Predictor5=function(m,w,k){return st(st(m,w[k+1]),w[k+0])},C.Predictor6=function(m,w,k){return st(m,w[k-1])},C.Predictor7=function(m,w,k){return st(m,w[k+0])},C.Predictor8=function(m,w,k){return st(w[k-1],w[k+0])},C.Predictor9=function(m,w,k){return st(w[k+0],w[k+1])},C.Predictor10=function(m,w,k){return st(st(m,w[k-1]),st(w[k+0],w[k+1]))},C.Predictor11=function(m,w,k){var D=w[k+0];return 0>=Bt(D>>24&255,m>>24&255,(w=w[k-1])>>24&255)+Bt(D>>16&255,m>>16&255,w>>16&255)+Bt(D>>8&255,m>>8&255,w>>8&255)+Bt(255&D,255&m,255&w)?D:m},C.Predictor12=function(m,w,k){var D=w[k+0];return(yt((m>>24&255)+(D>>24&255)-((w=w[k-1])>>24&255))<<24|yt((m>>16&255)+(D>>16&255)-(w>>16&255))<<16|yt((m>>8&255)+(D>>8&255)-(w>>8&255))<<8|yt((255&m)+(255&D)-(255&w)))>>>0},C.Predictor13=function(m,w,k){var D=w[k-1];return(Rt((m=st(m,w[k+0]))>>24&255,D>>24&255)<<24|Rt(m>>16&255,D>>16&255)<<16|Rt(m>>8&255,D>>8&255)<<8|Rt(m>>0&255,D>>0&255))>>>0};var Ml=C.PredictorAdd0;C.PredictorAdd1=wt,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var oo=C.PredictorAdd2;Ut("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Lh,_i=C.ColorIndexInverseTransform,Cc=C.MapARGB,Du=C.VP8LColorIndexInverseTransformAlpha,Rc=C.MapAlpha,La=C.VP8LPredictorsAdd=[];La.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var tl,Ni,oi,nl,lo,co,Lc,uo,fn,ho,li,ps,Ol,Mu,Fl,Vl,Bl,ms,fo,Da,po,mo,rl,Yr,Bi,Mn,Nn,hr,wr=s(511),Ma=s(2041),Dc=s(225),zl=s(767),Ou=0,Oa=Ma,Mc=Dc,Si=zl,Ms=wr,Dh=0,il=1,Pp=2,Fu=3,Vu=4,On=5,Mh=6,Oc=7,Ul=8,Bu=9,zu=10,Uu=[2,3,7],Oh=[3,3,11],ql=[280,256,256,256,40],jp=[0,1,1,1,0],L0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],D0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Cp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fh=8,Fc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],qu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hl=null,Wd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$d=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],M0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],O0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ki=[],Os=[],zi=[],Fa=1,Vc=2,ci=[],Ui=[];Fe("UpsampleRgbLinePair",Q,3),Fe("UpsampleBgrLinePair",Ae,3),Fe("UpsampleRgbaLinePair",Ht,4),Fe("UpsampleBgraLinePair",en,4),Fe("UpsampleArgbLinePair",qt,4),Fe("UpsampleRgba4444LinePair",Ge,2),Fe("UpsampleRgb565LinePair",Ce,2);var F0=C.UpsampleRgbLinePair,V0=C.UpsampleBgrLinePair,sl=C.UpsampleRgbaLinePair,Bc=C.UpsampleBgraLinePair,Wl=C.UpsampleArgbLinePair,Hu=C.UpsampleRgba4444LinePair,Kd=C.UpsampleRgb565LinePair,go=16,fa=1<<go-1,Sn=-227,In=482,al=6,Qr=0,qi=s(256),$l=s(256),zc=s(256),Hi=s(256),Vh=s(In-Sn),Dp=s(In-Sn);_n("YuvToRgbRow",Q,3),_n("YuvToBgrRow",Ae,3),_n("YuvToRgbaRow",Ht,4),_n("YuvToBgraRow",en,4),_n("YuvToArgbRow",qt,4),_n("YuvToRgba4444Row",Ge,2),_n("YuvToRgb565Row",Ce,2);var Yd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gl=[0,2,8],Mp=[8,7,6,4,4,2,2,2,1,1,1,1],yo=1;this.WebPDecodeRGBA=function(m,w,k,D,U){var W=il,G=new fs,Y=new ar;G.ba=Y,Y.S=W,Y.width=[Y.width],Y.height=[Y.height];var X=Y.width,ie=Y.height,ve=new Or;if(ve==null||m==null)var Ie=2;else e(ve!=null),Ie=da(m,w,k,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Ie!=0?X=0:(X!=null&&(X[0]=ve.width[0]),ie!=null&&(ie[0]=ve.height[0]),X=1),X){Y.width=Y.width[0],Y.height=Y.height[0],D!=null&&(D[0]=Y.width),U!=null&&(U[0]=Y.height);e:{if(D=new to,(U=new ca).data=m,U.w=w,U.ha=k,U.kd=1,w=[0],e(U!=null),((m=da(U.data,U.w,U.ha,null,null,null,w,null,U))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(e(G!=null),D.data=U.data,D.w=U.w+U.offset,D.ha=U.ha-U.offset,D.put=Fr,D.ac=fr,D.bc=Di,D.ma=G,U.xa){if((m=or())==null){G=1;break e}if(function(Pe,Ee){var Ue=[0],De=[0],be=[0];t:for(;;){if(Pe==null)return 0;if(Ee==null)return Pe.a=2,0;if(Pe.l=Ee,Pe.a=0,ae(Pe.m,Ee.data,Ee.w,Ee.ha),!ct(Pe.m,Ue,De,be)){Pe.a=3;break t}if(Pe.xb=Vc,Ee.width=Ue[0],Ee.height=De[0],!ls(Ue[0],De[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(m,D)){if(D=(w=Dl(D.width,D.height,G.Oa,G.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((k=D.l)!=null),e((U=k.ma)!=null),D.xb!=0){if(D.ca=U.ba,D.tb=U.tb,e(D.ca!=null),!Ac(U.Oa,k,Fu)){D.a=2;break n}if(!ta(D,k.width)||k.da)break n;if((k.da||Zt(D.ca.S))&&Te(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Te()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!bt(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!pr(D,D.V,D.Ba,D.c,D.i,k.o,wa))break n;U.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(w=m.a)}else w=m.a}else{if((m=new qr)==null){G=1;break e}if(m.Fa=U.na,m.P=U.P,m.qc=U.Sa,Pl(m,D)){if((w=Dl(D.width,D.height,G.Oa,G.ba))==0){if(m.Aa=0,k=G.Oa,e((U=m)!=null),k!=null){if(0<(X=0>(X=k.Md)?0:100<X?255:255*X/100)){for(ie=ve=0;4>ie;++ie)12>(Ie=U.pb[ie]).lc&&(Ie.ia=X*Mp[0>Ie.lc?0:Ie.lc]>>3),ve|=Ie.ia;ve&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=k.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}ka(m,D)||(w=m.a)}}else w=m.a}w==0&&G.Oa!=null&&G.Oa.fd&&(w=Ec(G.ba))}G=w}W=G!=0?null:11>W?Y.f.RGBA.eb:Y.f.kb.y}else W=null;return W};var Wu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,B){for(var z="",j=0;j<4;j++)z+=String.fromCharCode(C[B++]);return z}function p(C,B){return(C[B+0]<<0|C[B+1]<<8|C[B+2]<<16)>>>0}function y(C,B){return(C[B+0]<<0|C[B+1]<<8|C[B+2]<<16|C[B+3]<<24)>>>0}new u;var b=[0],v=[0],S=[],A=new u,T=n,E=function(C,B){var z={},j=0,P=!1,O=0,ne=0;if(z.frames=[],!function(K,ee,ce,fe){for(var Se=0;Se<fe;Se++)if(K[ee+Se]!=ce.charCodeAt(Se))return!0;return!1}(C,B,"RIFF",4)){for(y(C,B+=4),B+=8;B<C.length;){var de=d(C,B),ye=y(C,B+=4);B+=4;var oe=ye+(1&ye);switch(de){case"VP8 ":case"VP8L":z.frames[j]===void 0&&(z.frames[j]={}),(me=z.frames[j]).src_off=P?ne:B-8,me.src_size=O+ye+8,j++,P&&(P=!1,O=0,ne=0);break;case"VP8X":(me=z.header={}).feature_flags=C[B];var ae=B+4;me.canvas_width=1+p(C,ae),ae+=3,me.canvas_height=1+p(C,ae),ae+=3;break;case"ALPH":P=!0,O=oe+8,ne=B-8;break;case"ANIM":(me=z.header).bgcolor=y(C,B),ae=B+4,me.loop_count=(Z=C)[(V=ae)+0]<<0|Z[V+1]<<8,ae+=2;break;case"ANMF":var ge,me;(me=z.frames[j]={}).offset_x=2*p(C,B),B+=3,me.offset_y=2*p(C,B),B+=3,me.width=1+p(C,B),B+=3,me.height=1+p(C,B),B+=3,me.duration=p(C,B),B+=3,ge=C[B++],me.dispose=1&ge,me.blend=ge>>1&1}de!="ANMF"&&(B+=oe)}var Z,V;return z}}(T,0);E.response=T,E.rgbaoutput=!0,E.dataurl=!1;var M=E.header?E.header:null,q=E.frames?E.frames:null;if(M){M.loop_counter=M.loop_count,b=[M.canvas_height],v=[M.canvas_width];for(var re=0;re<q.length&&q[re].blend!=0;re++);}var J=q[0],te=A.WebPDecodeRGBA(T,J.src_off,J.src_size,v,b);J.rgba=te,J.imgwidth=v[0],J.imgheight=b[0];for(var L=0;L<v[0]*b[0]*4;L++)S[L]=te[L];return this.width=v,this.height=b,this.data=S,this}(function(n){var e=function(){return typeof iy=="function"},t=function(b,v,S,A){var T=4,E=a;switch(A){case n.image_compression.FAST:T=1,E=s;break;case n.image_compression.MEDIUM:T=6,E=l;break;case n.image_compression.SLOW:T=9,E=u}b=r(b,v,S,E);var M=iy(b,{level:T});return n.__addimage__.arrayBufferToBinaryString(M)},r=function(b,v,S,A){for(var T,E,M,q=b.length/v,re=new Uint8Array(b.length+q),J=p(),te=0;te<q;te+=1){if(M=te*v,T=b.subarray(M,M+v),A)re.set(A(T,S,E),M+te);else{for(var L,C=J.length,B=[];L<C;L+=1)B[L]=J[L](T,S,E);var z=y(B.concat());re.set(B[z],M+te)}E=T}return re},i=function(b){var v=Array.apply([],b);return v.unshift(0),v},s=function(b,v){var S,A=[],T=b.length;A[0]=1;for(var E=0;E<T;E+=1)S=b[E-v]||0,A[E+1]=b[E]-S+256&255;return A},a=function(b,v,S){var A,T=[],E=b.length;T[0]=2;for(var M=0;M<E;M+=1)A=S&&S[M]||0,T[M+1]=b[M]-A+256&255;return T},l=function(b,v,S){var A,T,E=[],M=b.length;E[0]=3;for(var q=0;q<M;q+=1)A=b[q-v]||0,T=S&&S[q]||0,E[q+1]=b[q]+256-(A+T>>>1)&255;return E},u=function(b,v,S){var A,T,E,M,q=[],re=b.length;q[0]=4;for(var J=0;J<re;J+=1)A=b[J-v]||0,T=S&&S[J]||0,E=S&&S[J-v]||0,M=d(A,T,E),q[J+1]=b[J]-M+256&255;return q},d=function(b,v,S){if(b===v&&v===S)return b;var A=Math.abs(v-S),T=Math.abs(b-S),E=Math.abs(b+v-S-S);return A<=T&&A<=E?b:T<=E?v:S},p=function(){return[i,s,a,l,u]},y=function(b){var v=b.map(function(S){return S.reduce(function(A,T){return A+Math.abs(T)},0)});return v.indexOf(Math.min.apply(null,v))};n.processPNG=function(b,v,S,A){var T,E,M,q,re,J,te,L,C,B,z,j,P,O,ne,de=this.decode.FLATE_DECODE,ye="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(M=new o9(b)).imgData,E=M.bits,T=M.colorSpace,re=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){C=(L=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,z=new Uint8Array(C*M.colors),B=new Uint8Array(C);var oe,ae=M.pixelBitlength-M.bits;for(O=0,ne=0;O<C;O++){for(P=L[O],oe=0;oe<ae;)z[ne++]=P>>>oe&255,oe+=M.bits;B[O]=P>>>oe&255}}if(M.bits===16){C=(L=new Uint32Array(M.decodePixels().buffer)).length,z=new Uint8Array(C*(32/M.pixelBitlength)*M.colors),B=new Uint8Array(C*(32/M.pixelBitlength)),j=M.colors>1,O=0,ne=0;for(var ge=0;O<C;)P=L[O++],z[ne++]=P>>>0&255,j&&(z[ne++]=P>>>16&255,P=L[O++],z[ne++]=P>>>0&255),B[ge++]=P>>>16&255;E=8}A!==n.image_compression.NONE&&e()?(b=t(z,M.width*M.colors,M.colors,A),te=t(B,M.width,1,A)):(b=z,te=B,de=void 0)}if(M.colorType===3&&(T=this.color_spaces.INDEXED,J=M.palette,M.transparency.indexed)){var me=M.transparency.indexed,Z=0;for(O=0,C=me.length;O<C;++O)Z+=me[O];if((Z/=255)===C-1&&me.indexOf(0)!==-1)q=[me.indexOf(0)];else if(Z!==C){for(L=M.decodePixels(),B=new Uint8Array(L.length),O=0,C=L.length;O<C;O++)B[O]=me[L[O]];te=t(B,M.width,1)}}var V=function(K){var ee;switch(K){case n.image_compression.FAST:ee=11;break;case n.image_compression.MEDIUM:ee=13;break;case n.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(A);return de===this.decode.FLATE_DECODE&&(ye="/Predictor "+V+" "),ye+="/Colors "+re+" /BitsPerComponent "+E+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(te&&this.__addimage__.isArrayBuffer(te)||this.__addimage__.isArrayBufferView(te))&&(te=this.__addimage__.arrayBufferToBinaryString(te)),{alias:S,data:b,index:v,filter:de,decodeParameters:ye,transparency:q,palette:J,sMask:te,predictor:V,width:M.width,height:M.height,bitsPerComponent:E,colorSpace:T}}}})(Dt.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new l9(e),a=s.width,l=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:a,height:l},p=new e2(100).encode(d,100);return n.processJPEG.call(this,p,t,r,i)},n.processGIF87A=n.processGIF89A}(Dt.API),Io.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Io.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){$n.log("bit decode error:"+t)}},Io.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[s>>7-l&1];this.data[a+4*l]=u.blue,this.data[a+4*l+1]=u.green,this.data[a+4*l+2]=u.red,this.data[a+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Io.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,l=s>>4,u=15&s,d=this.palette[l];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Io.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Io.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,d=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=u,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=d}this.pos+=n}},Io.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,u=(a>>5&t)/t*255|0,d=(a>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=255}this.pos+=n}},Io.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Io.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=a}},Io.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Io(e,!1),a=s.width,l=s.height,u={data:s.getData(),width:a,height:l},d=new e2(100).encode(u,100);return n.processJPEG.call(this,d,t,r,i)}}(Dt.API),jw.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new jw(e),a=s.width,l=s.height,u={data:s.getData(),width:a,height:l},d=new e2(100).encode(u,100);return n.processJPEG.call(this,d,t,r,i)}}(Dt.API),Dt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var p=r[d],y=r[d+1],b=r[d+2],v=r[d+3];s[l++]=p,s[l++]=y,s[l++]=b,a[u++]=v}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Dt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},nd=Dt.API,Sm=nd.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=d.fof?d.fof:1,y=e.doKerning!==!1,b=0,v=n.length,S=0,A=l[0]||u,T=[];for(t=0;t<v;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(b=y&&zn(d[r])==="object"&&!isNaN(parseInt(d[r][S],10))?d[r][S]/p:0,T.push((l[r]||A)/u+b)),S=r;return T},Ew=nd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return nd.processArabic&&(n=nd.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Sm.apply(this,arguments).reduce(function(s,a){return s+a},0)},Tw=function(n,e,t,r){for(var i=[],s=0,a=n.length,l=0;s!==a&&l+e[s]<t;)l+=e[s],s++;i.push(n.slice(0,s));var u=s;for(l=0;s!==a;)l+e[s]>r&&(i.push(n.slice(u,s)),l=0,u=s),l+=e[s],s++;return u!==s&&i.push(n.slice(u,s)),i},Iw=function(n,e,t){t||(t={});var r,i,s,a,l,u,d,p=[],y=[p],b=t.textIndent||0,v=0,S=0,A=n.split(" "),T=Sm.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?A[0].length+2:t.lineIndent||0){var E=Array(u).join(" "),M=[];A.map(function(re){(re=re.split(/\s*\n/)).length>1?M=M.concat(re.map(function(J,te){return(te&&J.length?`
`:"")+J})):M.push(re[0])}),A=M,u=Ew.apply(this,[E,t])}for(s=0,a=A.length;s<a;s++){var q=0;if(r=A[s],u&&r[0]==`
`&&(r=r.substr(1),q=1),b+v+(S=(i=Sm.apply(this,[r,t])).reduce(function(re,J){return re+J},0))>e||q){if(S>e){for(l=Tw.apply(this,[r,i,e-(b+v),e]),p.push(l.shift()),p=[l.pop()];l.length;)y.push([l.shift()]);S=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(re,J){return re+J},0)}else p=[r];y.push(p),b=S+u,v=T}else p.push(r),b+=v+S,v=T}return d=u?function(re,J){return(J?E:"")+re.join(" ")}:function(re){return re.join(" ")},y.map(d)},nd.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var l,u,d=[];for(l=0,u=r.length;l<u;l++)d=d.concat(Iw.apply(this,[r[l],a,s]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(y){return"0x"+parseInt(y,10).toString(16)},a=n.__fontmetrics__.compress=function(y){var b,v,S,A,T=["{"];for(var E in y){if(b=y[E],isNaN(parseInt(E,10))?v="'"+E+"'":(E=parseInt(E,10),v=(v=s(E).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof b=="number")b<0?(S=s(b).slice(3),A="-"):(S=s(b).slice(2),A=""),S=A+S.slice(0,-1)+r[S.slice(-1)];else{if(zn(b)!=="object")throw new Error("Don't know what to do with value type "+zn(b)+".");S=a(b)}T.push(v+S)}return T.push("}"),T.join("")},l=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,v,S,A,T={},E=1,M=T,q=[],re="",J="",te=y.length-1,L=1;L<te;L+=1)(A=y[L])=="'"?b?(S=b.join(""),b=void 0):b=[]:b?b.push(A):A=="{"?(q.push([M,S]),M={},S=void 0):A=="}"?((v=q.pop())[0][v[1]]=M,S=void 0,M=v[0]):A=="-"?E=-1:S===void 0?t.hasOwnProperty(A)?(re+=t[A],S=parseInt(re,16)*E,E=1,re=""):re+=A:t.hasOwnProperty(A)?(J+=t[A],M[S]=parseInt(J,16)*E,E=1,S=void 0,J=""):J+=A;return T},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var b=y.font,v=p.Unicode[b.postScriptName];v&&(b.metadata.Unicode={},b.metadata.Unicode.widths=v.widths,b.metadata.Unicode.kerning=v.kerning);var S=d.Unicode[b.postScriptName];S&&(b.metadata.Unicode.encoding=S,b.encoding=S.codePages[0])}])}(Dt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Bf(l)),a.metadata=n.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(Dt),function(n){function e(){return(Mt.canvg?Promise.resolve(Mt.canvg):Z2(()=>import("./index.es-BN74dyk8.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Dt.API.addSvgAsImage=function(t,r,i,s,a,l,u,d){if(isNaN(r)||isNaN(i))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var y=p.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,p.width,p.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return e().then(function(S){return S.fromString(y,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(b)}).then(function(){v.addImage(p.toDataURL("image/jpeg",1),r,i,s,a,u,d)})}}(),Dt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Dt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),u=[],d=0,p=0,y=0;function b(S,A){var T,E=!1;for(T=0;T<S.length;T+=1)S[T]===A&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=l.length;for(y=0;y<v;y+=1)t[l[y]].value=t[l[y]].defaultValue,t[l[y]].explicitSet=!1}if(zn(n)==="object"){for(i in n)if(s=n[i],b(l,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&b(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(p=0;p<s[d].length;p+=1)typeof s[d][p]!="number"&&(r=!1);r===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,A=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?A.push("/"+S+" /"+t[S].value):A.push("/"+S+" "+t[S].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Dt.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var l,u=a.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],y=0,b=s.length;y<b;++y){if(l=a.metadata.characterToGlyph(s.charCodeAt(y)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(y),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(d[4-l.length],l)}return p.join("")},r=function(s){var a,l,u,d,p,y,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,b=(l=Object.keys(s).sort(function(v,S){return v-S})).length;y<b;y++)a=l[y],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+d+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var l=a.font,u=a.out,d=a.newObject,p=a.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var y=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",S=0;S<b.length;S++)v+=String.fromCharCode(b[S]);var A=d();p({data:v,addLength1:!0,objectId:A}),u("endobj");var T=d();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:T}),u("endobj");var E=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+hd(l.fontName)),u("/FontFile2 "+A+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var M=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+hd(l.fontName)),u("/FontDescriptor "+E+" 0 R"),u("/W "+n.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+T+" 0 R"),u("/BaseFont /"+hd(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+M+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var l=a.font,u=a.out,d=a.newObject,p=a.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var y=l.metadata.rawData,b="",v=0;v<y.length;v++)b+=String.fromCharCode(y[v]);var S=d();p({data:b,addLength1:!0,objectId:S}),u("endobj");var A=d();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var T=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+S+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+hd(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var E=0;E<l.metadata.hmtx.widths.length;E++)l.metadata.hmtx.widths[E]=parseInt(l.metadata.hmtx.widths[E]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+hd(l.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",u=s.x,d=s.y,p=s.options||{},y=s.mutex||{},b=y.pdfEscape,v=y.activeFontKey,S=y.fonts,A=v,T="",E=0,M="",q=S[A].encoding;if(S[A].encoding!=="Identity-H")return{text:l,x:u,y:d,options:p,mutex:y};for(M=l,A=v,Array.isArray(l)&&(M=l[0]),E=0;E<M.length;E+=1)S[A].metadata.hasOwnProperty("cmap")&&(a=S[A].metadata.cmap.unicode.codeMap[M[E].charCodeAt(0)]),a||M[E].charCodeAt(0)<256&&S[A].metadata.hasOwnProperty("Unicode")?T+=M[E]:T+="";var re="";return parseInt(A.slice(1))<14||q==="WinAnsiEncoding"?re=b(T,A).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&(re=t(T,S[A])),y.isHex=!0,{text:re,x:u,y:d,options:p,mutex:y}};e.events.push(["postProcessText",function(s){var a=s.text||"",l=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?l.push([i(Object.assign({},u,{text:a[d][0]})).text,a[d][1],a[d][2]]):l.push(i(Object.assign({},u,{text:a[d]})).text);s.text=l}else s.text=i(Object.assign({},u,{text:a})).text}])}(Dt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Dt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,l,u,d,p,y=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,q=0;this.__bidiEngine__={};var re=function(j){var P=j.charCodeAt(),O=P>>8,ne=A[O];return ne!==void 0?y[256*ne+(255&P)]:O===252||O===253?"AL":E.test(O)?"L":O===8?"R":"N"},J=function(j){for(var P,O=0;O<j.length;O++){if((P=re(j.charAt(O)))==="L")return!1;if(P==="R")return!0}return!1},te=function(j,P,O,ne){var de,ye,oe,ae,ge=P[ne];switch(ge){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(ge="AN");break;case"AL":M=!0,ge="R";break;case"WS":ge="N";break;case"CS":ne<1||ne+1>=P.length||(de=O[ne-1])!=="EN"&&de!=="AN"||(ye=P[ne+1])!=="EN"&&ye!=="AN"?ge="N":M&&(ye="AN"),ge=ye===de?ye:"N";break;case"ES":ge=(de=ne>0?O[ne-1]:"B")==="EN"&&ne+1<P.length&&P[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&O[ne-1]==="EN"){ge="EN";break}if(M){ge="N";break}for(oe=ne+1,ae=P.length;oe<ae&&P[oe]==="ET";)oe++;ge=oe<ae&&P[oe]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(ae=P.length,oe=ne+1;oe<ae&&P[oe]==="NSM";)oe++;if(oe<ae){var me=j[ne],Z=me>=1425&&me<=2303||me===64286;if(de=P[oe],Z&&(de==="R"||de==="AL")){ge="R";break}}}ge=ne<1||(de=P[ne-1])==="B"?"N":O[ne-1];break;case"B":M=!1,i=!0,ge=q;break;case"S":s=!0,ge="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":ge="N"}return ge},L=function(j,P,O){var ne=j.split("");return O&&C(ne,O,{hiLevel:q}),ne.reverse(),P&&P.reverse(),ne.join("")},C=function(j,P,O){var ne,de,ye,oe,ae,ge=-1,me=j.length,Z=0,V=[],K=q?v:b,ee=[];for(M=!1,i=!1,s=!1,de=0;de<me;de++)ee[de]=re(j[de]);for(ye=0;ye<me;ye++){if(ae=Z,V[ye]=te(j,ee,V,ye),ne=240&(Z=K[ae][S[V[ye]]]),Z&=15,P[ye]=oe=K[Z][5],ne>0)if(ne===16){for(de=ge;de<ye;de++)P[de]=1;ge=-1}else ge=-1;if(K[Z][6])ge===-1&&(ge=ye);else if(ge>-1){for(de=ge;de<ye;de++)P[de]=oe;ge=-1}ee[ye]==="B"&&(P[ye]=0),O.hiLevel|=oe}s&&function(ce,fe,Se){for(var _e=0;_e<Se;_e++)if(ce[_e]==="S"){fe[_e]=q;for(var Ne=_e-1;Ne>=0&&ce[Ne]==="WS";Ne--)fe[Ne]=q}}(ee,P,me)},B=function(j,P,O,ne,de){if(!(de.hiLevel<j)){if(j===1&&q===1&&!i)return P.reverse(),void(O&&O.reverse());for(var ye,oe,ae,ge,me=P.length,Z=0;Z<me;){if(ne[Z]>=j){for(ae=Z+1;ae<me&&ne[ae]>=j;)ae++;for(ge=Z,oe=ae-1;ge<oe;ge++,oe--)ye=P[ge],P[ge]=P[oe],P[oe]=ye,O&&(ye=O[ge],O[ge]=O[oe],O[oe]=ye);Z=ae}Z++}}},z=function(j,P,O){var ne=j.split(""),de={hiLevel:q};return O||(O=[]),C(ne,O,de),function(ye,oe,ae){if(ae.hiLevel!==0&&p)for(var ge,me=0;me<ye.length;me++)oe[me]===1&&(ge=T.indexOf(ye[me]))>=0&&(ye[me]=T[ge+1])}(ne,O,de),B(2,ne,P,O,de),B(1,ne,P,O,de),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(j,P,O){if(function(de,ye){if(ye)for(var oe=0;oe<de.length;oe++)ye[oe]=oe;l===void 0&&(l=J(de)),d===void 0&&(d=J(de))}(j,P),a||!u||d)if(a&&u&&l^d)q=l?1:0,j=L(j,P,O);else if(!a&&u&&d)q=l?1:0,j=z(j,P,O),j=L(j,P);else if(!a||l||u||d){if(a&&!u&&l^d)j=L(j,P),l?(q=0,j=z(j,P,O)):(q=1,j=z(j,P,O),j=L(j,P));else if(a&&l&&!u&&d)q=1,j=z(j,P,O),j=L(j,P);else if(!a&&!u&&l^d){var ne=p;l?(q=1,j=z(j,P,O),q=0,p=!1,j=z(j,P,O),p=ne):(q=0,j=z(j,P,O),j=L(j,P),q=1,p=!1,j=z(j,P,O),p=ne,j=L(j,P))}}else q=0,j=z(j,P,O);else q=l?1:0,j=z(j,P,O);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,u=j.isOutputVisual,l=j.isInputRtl,d=j.isOutputRtl,p=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([t.doBidiReorder(i[l])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Dt),Dt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Eu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new N9(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new c9(this.contents),this.head=new h9(this),this.name=new g9(this),this.cmap=new MN(this),this.toUnicode={},this.hhea=new d9(this),this.maxp=new y9(this),this.hmtx=new v9(this),this.post=new p9(this),this.os2=new f9(this),this.loca=new _9(this),this.glyf=new x9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,u,d;for(d=[],a=0,l=(u=this.bbox).length;a<l;a++)e=u[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,l;for(a=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Wo,Eu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,l,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*l+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),c9=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,l,u,d,p,y,b,v,S,A;for(A in v=Object.keys(t).length,u=Math.log(2),y=16*Math.floor(Math.log(v)/u),a=Math.floor(y/u),p=16*v-y,(i=new Eu).writeInt(this.scalarType),i.writeShort(v),i.writeShort(y),i.writeShort(a),i.writeShort(p),s=16*v,d=i.pos+s,l=null,S=[],t)for(b=t[A],i.writeString(A),i.writeInt(n(b)),i.writeInt(d),i.writeInt(b.length),S=S.concat(b),A==="head"&&(l=d),d+=b.length;d%4;)S.push(0),d++;return i.write(S),r=2981146554-n(i.data),i.pos=l+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=ON.call(t);t.length%4;)t.push(0);for(s=new Eu(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),u9={}.hasOwnProperty,Tl=function(n,e){for(var t in e)u9.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Wo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var h9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Eu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Cw=function(){function n(e,t){var r,i,s,a,l,u,d,p,y,b,v,S,A,T,E,M,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(v=e.readUInt16(),b=v/2,e.pos+=6,s=function(){var re,J;for(J=[],u=re=0;0<=b?re<b:re>b;u=0<=b?++re:--re)J.push(e.readUInt16());return J}(),e.pos+=2,A=function(){var re,J;for(J=[],u=re=0;0<=b?re<b:re>b;u=0<=b?++re:--re)J.push(e.readUInt16());return J}(),d=function(){var re,J;for(J=[],u=re=0;0<=b?re<b:re>b;u=0<=b?++re:--re)J.push(e.readUInt16());return J}(),p=function(){var re,J;for(J=[],u=re=0;0<=b?re<b:re>b;u=0<=b?++re:--re)J.push(e.readUInt16());return J}(),i=(this.length-e.pos+this.offset)/2,l=function(){var re,J;for(J=[],u=re=0;0<=i?re<i:re>i;u=0<=i?++re:--re)J.push(e.readUInt16());return J}(),u=E=0,q=s.length;E<q;u=++E)for(T=s[u],r=M=S=A[u];S<=T?M<=T:M>=T;r=S<=T?++M:--M)p[u]===0?a=r+d[u]:(a=l[p[u]/2+(r-S)-(b-u)]||0)!==0&&(a+=d[u]),this.codeMap[r]=65535&a}e.pos=y}return n.encode=function(e,t){var r,i,s,a,l,u,d,p,y,b,v,S,A,T,E,M,q,re,J,te,L,C,B,z,j,P,O,ne,de,ye,oe,ae,ge,me,Z,V,K,ee,ce,fe,Se,_e,Ne,Me,$e,tt;switch(ne=new Eu,a=Object.keys(e).sort(function(et,bt){return et-bt}),t){case"macroman":for(A=0,T=function(){var et=[];for(S=0;S<256;++S)et.push(0);return et}(),M={0:0},s={},de=0,ge=a.length;de<ge;de++)M[Ne=e[i=a[de]]]==null&&(M[Ne]=++A),s[i]={old:e[i],new:M[e[i]]},T[i]=M[e[i]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(T),{charMap:s,subtable:ne.data,maxGlyphID:A+1};case"unicode":for(P=[],y=[],q=0,M={},r={},E=d=null,ye=0,me=a.length;ye<me;ye++)M[J=e[i=a[ye]]]==null&&(M[J]=++q),r[i]={old:J,new:M[J]},l=M[J]-i,E!=null&&l===d||(E&&y.push(E),P.push(i),d=l),E=i;for(E&&y.push(E),y.push(65535),P.push(65535),z=2*(B=P.length),C=2*Math.pow(Math.log(B)/Math.LN2,2),b=Math.log(C/2)/Math.LN2,L=2*B-C,u=[],te=[],v=[],S=oe=0,Z=P.length;oe<Z;S=++oe){if(j=P[S],p=y[S],j===65535){u.push(0),te.push(0);break}if(j-(O=r[j].new)>=32768)for(u.push(0),te.push(2*(v.length+B-S)),i=ae=j;j<=p?ae<=p:ae>=p;i=j<=p?++ae:--ae)v.push(r[i].new);else u.push(O-j),te.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*B+2*v.length),ne.writeUInt16(0),ne.writeUInt16(z),ne.writeUInt16(C),ne.writeUInt16(b),ne.writeUInt16(L),Se=0,V=y.length;Se<V;Se++)i=y[Se],ne.writeUInt16(i);for(ne.writeUInt16(0),_e=0,K=P.length;_e<K;_e++)i=P[_e],ne.writeUInt16(i);for(Me=0,ee=u.length;Me<ee;Me++)l=u[Me],ne.writeUInt16(l);for($e=0,ce=te.length;$e<ce;$e++)re=te[$e],ne.writeUInt16(re);for(tt=0,fe=v.length;tt<fe;tt++)A=v[tt],ne.writeUInt16(A);return{charMap:r,subtable:ne.data,maxGlyphID:q+1}}},n}(),MN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Cw(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=Cw.encode(t,r),(s=new Eu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),d9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),f9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),p9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,d;for(d=[],a=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;a=0<=u?++l:--l)d.push(t.readUInt32());return d}).call(this)}},e}(),m9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},g9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,a,l,u,d,p,y,b,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},a=y=0,b=i.length;y<b;a=++y)s=i[a],t.pos=s.offset,p=t.readString(s.length),l=new m9(p,s),d[v=s.nameID]==null&&(d[v]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),y9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),v9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,l,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,y;for(y=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)y.push(t.readInt16());return y}(),this.widths=(function(){var p,y,b,v;for(v=[],p=0,y=(b=this.metrics).length;p<y;p++)a=b[p],v.push(a.advance);return v}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),ON=[].slice,x9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,a,l,u,d,p,y,b;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(u=new Eu(r.read(s))).readShort(),p=u.readShort(),b=u.readShort(),d=u.readShort(),y=u.readShort(),this.cache[t]=l===-1?new w9(u,p,b,d,y):new b9(u,l,p,b,d,y),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,a,l,u,d;for(l=[],a=[],u=0,d=r.length;u<d;u++)s=t[r[u]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},e}(),b9=function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),w9=function(){function n(e,t,r,i,s){var a,l;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Eu(ON.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),_9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Tl(e,Wo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<r.length&&r[a]==l){++a,i[l]=s;var u=this.offsets[l],d=this.offsets[l+1]-u;d>0&&(s+=d)}for(var p=new Array(4*i.length),y=0;y<i.length;++y)p[4*y+3]=255&i[y],p[4*y+2]=(65280&i[y])>>8,p[4*y+1]=(16711680&i[y])>>16,p[4*y]=(4278190080&i[y])>>24;return p},e}(),N9=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,l,u;for(i={},a=0,l=e.length;a<l;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))r=u[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,l,u,d,p,y,b,v,S,A,T,E;for(i in r=MN.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),v={0:0},E=r.charMap)v[(u=E[i]).old]=u.new;for(S in b=r.maxGlyphID,a)S in v||(v[S]=b++);return p=function(M){var q,re;for(q in re={},M)re[M[q]]=q;return re}(v),y=Object.keys(p).sort(function(M,q){return M-q}),A=function(){var M,q,re;for(re=[],M=0,q=y.length;M<q;M++)l=y[M],re.push(p[l]);return re}(),s=this.font.glyf.encode(a,A,v),d=this.font.loca.encode(s.offsets,A),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},n}();Dt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+function(){var l,u,d;for(d=[],l=0,u=t.length;l<u;l++)r=t[l],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();const Rw=n=>{if(!n)return"";try{const e=new Date(n);return isNaN(e.getTime())?"":e.toISOString().substring(0,16)}catch(e){return console.error("Error formatting date:",e),""}},Lw=()=>{const n=new Date;return n.setSeconds(0),n.toISOString().substring(0,16)},S9=({isOpen:n,onClose:e,onConfirm:t,bookingId:r,vehicle:i})=>n?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-gray-800/80 backdrop-blur-lg rounded-2xl max-w-md w-full p-8 border border-gray-700/30 shadow-2xl transform hover:scale-[1.02] transition-all duration-300",children:[h.jsx("h3",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600 mb-4",children:"Confirm Cancellation"}),h.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to cancel your booking for",h.jsx("span",{className:"font-semibold text-white",children:i?` ${i.name}`:""}),"? This action cannot be undone."]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-700 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-colors",children:"No, Keep Booking"}),h.jsx("button",{onClick:()=>t(r),className:"px-4 py-2 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-xl hover:from-red-700 hover:to-pink-700 transition-all duration-300",children:"Yes, Cancel Booking"})]})]})}):null,k9=({isOpen:n,onClose:e,onConfirm:t,booking:r})=>{var v;const[i,s]=se.useState(""),[a,l]=se.useState(""),[u,d]=se.useState(""),[p,y]=se.useState(!1);se.useEffect(()=>{r&&n&&(s(Rw(r.startDate)),l(Rw(r.endDate)),d(""))},[r,n]);const b=S=>{S.preventDefault(),d("");const A=new Date(i),T=new Date(a),E=new Date;if(isNaN(A.getTime())||isNaN(T.getTime())){d("Please enter valid dates");return}if(A>=T){d("End date must be after start date");return}if(A<E){d("Start date cannot be in the past");return}y(!0),t(r.id,i,a)};return n?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-gray-800/80 backdrop-blur-lg rounded-2xl max-w-md w-full p-8 border border-gray-700/30 shadow-2xl transform hover:scale-[1.02] transition-all duration-300",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600",children:"Reschedule Booking"}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-300 transition-colors",children:h.jsx(vh,{})})]}),u&&h.jsx("div",{className:"bg-red-500/10 backdrop-blur-lg p-4 rounded-xl border border-red-500/20 mb-4",children:h.jsx("p",{className:"text-red-400",children:u})}),h.jsxs("form",{onSubmit:b,children:[h.jsxs("p",{className:"text-gray-300 mb-4",children:["Reschedule your booking for",h.jsx("span",{className:"font-semibold text-white",children:((v=r==null?void 0:r.vehicle)==null?void 0:v.name)||""})]}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Start Date and Time"}),h.jsx("input",{type:"datetime-local",value:i,onChange:S=>s(S.target.value),min:Lw(),className:"block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"End Date and Time"}),h.jsx("input",{type:"datetime-local",value:a,onChange:S=>l(S.target.value),min:i||Lw(),className:"block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-xl text-gray-300 placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300",required:!0})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-700 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-colors",disabled:p,children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-xl hover:from-pink-700 hover:to-purple-700 disabled:opacity-50 transition-all duration-300",disabled:p,children:p?"Rescheduling...":"Confirm Reschedule"})]})]})]})}):null},A9=()=>{const[n,e]=se.useState([]),[t,r]=se.useState(!0),[i,s]=se.useState(""),[a,l]=se.useState(null),[u,d]=se.useState(null),[p,y]=se.useState(null),[b,v]=se.useState(""),[S,A]=se.useState(""),[T,E]=se.useState(""),[M,q]=se.useState(""),[re,J]=se.useState(!1),[te,L]=se.useState(!1),[C,B]=se.useState(null),[z,j]=se.useState(null),{user:P}=qo(),O=Z=>{B(Z),J(!0)},ne=()=>{J(!1),B(null)},de=Z=>{B(Z),L(!0)},ye=()=>{L(!1),B(null)},oe=async Z=>{J(!1);try{v(""),A(""),d(Z),await BR(Z),e(V=>V.map(K=>K.id===Z?{...K,status:"cancelled"}:K)),A(`Booking ${Z} has been cancelled successfully.`),setTimeout(()=>{A("")},5e3)}catch(V){console.error("Error cancelling booking:",V),v(V.message||"Failed to cancel booking"),setTimeout(()=>{v("")},5e3)}finally{d(null),B(null)}},ae=async(Z,V,K)=>{L(!1);try{E(""),q(""),y(Z);const ee=await zR(Z,V,K);e(ce=>ce.map(fe=>fe.id===Z?{...fe,startDate:V,endDate:K,totalPrice:ee.newTotalPrice,status:"pending"}:fe)),q("Booking has been rescheduled successfully."),setTimeout(()=>{q("")},5e3)}catch(ee){console.error("Error rescheduling booking:",ee),E(ee.message||"Failed to reschedule booking"),setTimeout(()=>{E("")},5e3)}finally{y(null),B(null)}},ge=Z=>Z.status==="cancelled"||Z.status==="completed"?!1:new Date(Z.startDate)>new Date;se.useEffect(()=>{(async()=>{const V=await OR();l(V)})()},[]),se.useEffect(()=>{P&&(async()=>{try{r(!0),console.log("Current user ID:",P.uid);const V=await VR(P.uid);console.log("Fetched bookings:",V);const K=await Promise.all(V.map(async ee=>{var ce,fe,Se,_e;try{const Ne=await S0(ee.vehicleId);return{...ee,vehicle:Ne,customerName:P.displayName,customerEmail:P.email,customerPhone:P.phoneNumber||ee.phone,firstName:((ce=P.displayName)==null?void 0:ce.split(" ")[0])||"",lastName:((fe=P.displayName)==null?void 0:fe.split(" ")[1])||"",email:P.email}}catch(Ne){return console.error("Error fetching vehicle for booking:",ee.id,Ne),{...ee,vehicle:null,customerName:P.displayName,customerEmail:P.email,customerPhone:P.phoneNumber||ee.phone,firstName:((Se=P.displayName)==null?void 0:Se.split(" ")[0])||"",lastName:((_e=P.displayName)==null?void 0:_e.split(" ")[1])||"",email:P.email}}}));console.log("Final bookings with vehicles and customer info:",K),e(K)}catch(V){console.error("Error fetching bookings:",V),s("Failed to load bookings. Please try again later.")}finally{r(!1)}})()},[P]);const me=Z=>{var V,K;try{const ee=new Dt,ce=new Date(Z.startDate),fe=new Date(Z.endDate),Se=Math.ceil((fe-ce)/(1e3*60*60));ee.setFontSize(20),ee.setFont("helvetica","bold"),ee.text("VEHICLE RENTAL RECEIPT",105,20,{align:"center"}),ee.setFontSize(12),ee.setFont("helvetica","normal"),ee.text("Your Vehicle Rental Service",105,30,{align:"center"}),ee.setLineWidth(.5),ee.line(20,35,190,35),ee.setFontSize(11);let _e=45;const Ne=ue=>{_e+=5,ee.setFont("helvetica","bold"),ee.setFontSize(12),ee.text(ue,20,_e),ee.line(20,_e+1,190,_e+1),_e+=8,ee.setFontSize(11)},Me=(ue,Ct)=>{const ft=Ct||"N/A";ee.setFont("helvetica","bold"),ee.text(ue,25,_e),ee.setFont("helvetica","normal"),ee.text(String(ft),80,_e),_e+=7},$e=ue=>ue?`${Number(ue).toFixed(2)}`:"N/A",tt=ue=>new Date(ue).toLocaleString("en-IN",{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});Ne("Booking Information"),Me("Booking ID:",Z.id),Me("Status:",Z.status.toUpperCase()),Me("Payment Status:",Z.paymentStatus.toUpperCase()),Ne("Customer Details");const et=Z.customerName||`${Z.firstName||""} ${Z.lastName||""}`.trim()||(P==null?void 0:P.displayName),bt=Z.customerEmail||Z.email||(P==null?void 0:P.email),Oe=Z.customerPhone||Z.phone;Me("Name:",et||"N/A"),Me("Email:",bt||"N/A"),Me("Phone:",Oe||"N/A"),Ne("Vehicle Details"),Z.vehicle?(Me("Vehicle:",Z.vehicle.name),Me("Vehicle Type:",((V=Z.vehicle.type)==null?void 0:V.charAt(0).toUpperCase())+((K=Z.vehicle.type)==null?void 0:K.slice(1))),Me("Transmission:",Z.vehicle.transmission),Me("Fuel Type:",Z.vehicle.fuel),Me("Vehicle ID:",Z.vehicleId)):(Me("Vehicle:","Vehicle unavailable"),Me("Vehicle ID:",Z.vehicleId)),Ne("Booking Period"),Me("From:",tt(ce)),Me("To:",tt(fe)),Me("Duration:",`${Se} hour${Se>1?"s":""}`),Z.pickupLocation&&Me("Pickup Location:",Z.pickupLocation),Ne("Payment Details"),Me("Total Amount:",$e(Z.totalPrice)),Z.vehicle&&Z.vehicle.hourlyRate&&Me("Hourly Rate:",$e(Z.vehicle.hourlyRate)+"/hour"),Me("Payment ID:",Z.paymentId),Z.status==="cancelled"&&Z.cancellationReason&&(Ne("Cancellation Details"),Me("Reason:",Z.cancellationReason),Z.cancellationDate&&Me("Cancelled On:",tt(Z.cancellationDate))),_e+=15,ee.setFontSize(10),ee.setTextColor(128,128,128),ee.text("Thank you for choosing our service!",105,_e,{align:"center"}),_e+=8,ee.setFontSize(8),ee.text("This is an electronically generated receipt.",105,_e,{align:"center"}),_e+=5,ee.text(`Generated on: ${tt(new Date)}`,105,_e,{align:"center"}),ee.save(`booking-receipt-${Z.id}.pdf`)}catch(ee){console.error("Error generating receipt:",ee),s("Failed to generate receipt. Please try again.")}};return t?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:[h.jsx(is,{variant:"default"}),h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600"})]}):i?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:[h.jsx(is,{variant:"default"}),h.jsx("div",{className:"bg-red-500/10 backdrop-blur-lg p-6 rounded-xl border border-red-500/20",children:h.jsx("p",{className:"text-red-500",children:i})})]}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:[h.jsx(is,{variant:"default"}),h.jsxs("div",{className:"container mx-auto px-4 py-16 relative z-10",children:[h.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600 mb-8",children:"My Bookings"}),n.length===0?h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-8 text-center",children:[h.jsx(Mo,{className:"text-6xl text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"No Bookings Found"}),h.jsx("p",{className:"text-gray-400",children:"You haven't made any bookings yet."})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(Z=>{var V,K;return h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:((V=Z.vehicle)==null?void 0:V.name)||"Unknown Vehicle"}),h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Z.status==="confirmed"?"bg-green-500/10 text-green-400":Z.status==="pending"?"bg-yellow-500/10 text-yellow-400":Z.status==="cancelled"?"bg-red-500/10 text-red-400":Z.status==="completed"?"bg-purple-500/10 text-purple-400":"bg-gray-500/10 text-gray-400"}`,children:Z.status.charAt(0).toUpperCase()+Z.status.slice(1)})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600",children:["",Z.totalPrice]}),h.jsx("div",{className:"text-sm text-gray-400",children:new Date(Z.startDate).toLocaleDateString()})]})]}),h.jsxs("div",{className:"space-y-3 mb-6",children:[h.jsxs("div",{className:"flex items-center text-gray-300",children:[h.jsx(Mo,{className:"mr-2 text-pink-400"}),h.jsxs("span",{children:[new Date(Z.startDate).toLocaleDateString()," - ",new Date(Z.endDate).toLocaleDateString()]})]}),h.jsxs("div",{className:"flex items-center text-gray-300",children:[h.jsx(Ah,{className:"mr-2 text-pink-400"}),h.jsxs("span",{children:[new Date(Z.startDate).toLocaleTimeString()," - ",new Date(Z.endDate).toLocaleTimeString()]})]}),h.jsxs("div",{className:"flex items-center text-gray-300",children:[h.jsx(dd,{className:"mr-2 text-pink-400"}),h.jsx("span",{children:((K=Z.vehicle)==null?void 0:K.type)||"Unknown Type"})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[ge(Z)&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>de(Z),className:"flex-1 px-4 py-2 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-300 flex items-center justify-center gap-2",children:[h.jsx(Kg,{})," Reschedule"]}),h.jsxs("button",{onClick:()=>O(Z),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-300 flex items-center justify-center gap-2",children:[h.jsx(vh,{})," Cancel"]})]}),h.jsxs("button",{onClick:()=>me(Z),className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-xl hover:bg-gray-600 transition-all duration-300 flex items-center justify-center gap-2",children:[h.jsx(oA,{})," Receipt"]}),h.jsxs("button",{onClick:()=>B(Z),className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-xl hover:bg-gray-600 transition-all duration-300 flex items-center justify-center gap-2",children:[h.jsx(cA,{})," Details"]})]})]},Z.id)})}),h.jsx(S9,{isOpen:re,onClose:ne,onConfirm:oe,bookingId:C==null?void 0:C.id,vehicle:C==null?void 0:C.vehicle}),h.jsx(k9,{isOpen:te,onClose:ye,onConfirm:ae,booking:C}),h.jsx(SL,{isOpen:!!C,onClose:()=>B(null),booking:C})]})]})},E9=()=>h.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:h.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:h.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-4",children:"Location Not Served"}),h.jsx("p",{className:"text-gray-600 mb-8",children:"We currently serve only in Andhra Pradesh and Telangana. Please select a city from these states to continue."}),h.jsx("div",{className:"mt-6",children:h.jsx(An,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go Back Home"})})]})})})}),T9="vehicles",I9=async()=>{try{console.log("Starting to seed vehicles...");const n=[...Tf,...DR];for(const e of n){const t={...e,hourlyRate:Math.round(e.price/24),availabilityStatus:!0,createdAt:new Date().toISOString()};await rp(Er(Lt,T9,e.id),t),console.log(`Added vehicle ${e.name} with ID: ${e.id}`)}return console.log("Successfully seeded all vehicles!"),!0}catch(n){throw console.error("Error seeding vehicles:",n),n}};import.meta.url===import.meta.main&&I9().then(()=>{console.log("Seeding completed successfully"),process.exit(0)}).catch(n=>{console.error("Seeding failed:",n),process.exit(1)});const Dw="vehicles",P9=async()=>{try{console.log("Starting duplicate vehicle cleanup...");const e=(await Yn(Cn(Lt,Dw))).docs.map(i=>({id:i.id,...i.data()}));console.log(`Found ${e.length} total vehicles`);const t=new Map,r=[];e.forEach(i=>{t.has(i.name)?r.push(i):t.set(i.name,i)}),console.log(`Found ${r.length} duplicate vehicles`);for(const i of r)console.log(`Deleting duplicate vehicle: ${i.name} (ID: ${i.id})`),await Tp(Er(Lt,Dw,i.id));return console.log("Cleanup completed successfully!"),{totalVehicles:e.length,duplicatesRemoved:r.length,remainingVehicles:e.length-r.length}}catch(n){throw console.error("Error during cleanup:",n),n}},j9=async()=>{try{console.log("Testing Firebase connection...");const n=Cn(Lt,"test"),e=await Cv(n,{test:"connection",timestamp:new Date().toISOString()});return console.log("Firebase connection test successful. Test document ID:",e.id),await Tp(Er(Lt,"test",e.id)),!0}catch(n){return console.error("Firebase connection test failed:",n),!1}},C9=async()=>{try{if(!await j9())throw new Error("Failed to connect to Firebase");console.log("Starting vehicle data migration..."),console.log("Number of cars to migrate:",W2.length),console.log("Number of bikes to migrate:",$2.length),await R9(),console.log("Adding cars data...");const e=W2.map(async(l,u)=>{try{const d=`car-${u+1}`,p={...l,id:d,type:"car",availability:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log(`Adding car ${d}:`,p.name);const y=Er(Lt,"vehicles",d);return await rp(y,p),console.log(`Car ${d} added successfully.`),d}catch(d){throw console.error("Error adding car:",l.name,d),d}});console.log("Adding bikes data...");const t=$2.map(async(l,u)=>{try{const d=`bike-${u+1}`,p={...l,id:d,type:"bike",availability:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log(`Adding bike ${d}:`,p.name);const y=Er(Lt,"vehicles",d);return await rp(y,p),console.log(`Bike ${d} added successfully.`),d}catch(d){throw console.error("Error adding bike:",l.name,d),d}}),r=await Promise.all([...e,...t]);console.log("All vehicles added successfully. Total documents:",r.length);const i=Cn(Lt,"vehicles"),s=ks(i),a=await Yn(s);return console.log("Verification - Total documents in vehicles collection:",a.size),a.forEach(l=>{console.log("Document ID:",l.id,"Name:",l.data().name)}),!0}catch(n){return console.error("Error in migrateVehicleData:",n),!1}},R9=async()=>{try{console.log("Clearing existing data...");const n=Cn(Lt,"vehicles"),e=ks(n),t=await Yn(e);if(console.log("Number of existing documents to delete:",t.size),t.size>0){const r=t.docs.map(i=>(console.log("Deleting document:",i.id,"Name:",i.data().name),Tp(i.ref)));await Promise.all(r),console.log("Existing vehicle data cleared successfully")}else console.log("No existing documents to delete")}catch(n){throw console.error("Error in clearExistingData:",n),n}},L9=async()=>{try{console.log("Starting migration with custom IDs...");const n=await C9();return n?console.log("Migration with custom IDs completed successfully."):console.error("Migration with custom IDs failed."),n}catch(n){return console.error("Error in checkAndMigrateData:",n),!1}};function D9(n){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M280 32c-13.3 0-24 10.7-24 24s10.7 24 24 24l57.7 0 16.4 30.3L256 192l-45.3-45.3c-12-12-28.3-18.7-45.3-18.7L64 128c-17.7 0-32 14.3-32 32l0 32 96 0c88.4 0 160 71.6 160 160c0 11-1.1 21.7-3.2 32l70.4 0c-2.1-10.3-3.2-21-3.2-32c0-52.2 25-98.6 63.7-127.8l15.4 28.6C402.4 276.3 384 312 384 352c0 70.7 57.3 128 128 128s128-57.3 128-128s-57.3-128-128-128c-13.5 0-26.5 2.1-38.7 6L418.2 128l61.8 0c17.7 0 32-14.3 32-32l0-32c0-17.7-14.3-32-32-32l-20.4 0c-7.5 0-14.7 2.6-20.5 7.4L391.7 78.9l-14-26c-7-12.9-20.5-21-35.2-21L280 32zM462.7 311.2l28.2 52.2c6.3 11.7 20.9 16 32.5 9.7s16-20.9 9.7-32.5l-28.2-52.2c2.3-.3 4.7-.4 7.1-.4c35.3 0 64 28.7 64 64s-28.7 64-64 64s-64-28.7-64-64c0-15.5 5.5-29.7 14.7-40.8zM187.3 376c-9.5 23.5-32.5 40-59.3 40c-35.3 0-64-28.7-64-64s28.7-64 64-64c26.9 0 49.9 16.5 59.3 40l66.4 0C242.5 268.8 190.5 224 128 224C57.3 224 0 281.3 0 352s57.3 128 128 128c62.5 0 114.5-44.8 125.8-104l-66.4 0zM128 384a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"},child:[]}]})(n)}const M9=()=>{const[n,e]=se.useState({totalVehicles:0,totalCars:0,totalBikes:0,totalUsers:0,totalBookings:0,pendingBookings:0,completedBookings:0,totalRevenue:0,paidBookings:0}),[t,r]=se.useState(!0),[i,s]=se.useState(""),[a,l]=se.useState([]);return se.useEffect(()=>{(async()=>{try{r(!0),s("");const p=(await Yn(Cn(Lt,"vehicles"))).docs.map(j=>({id:j.id,...j.data()})),y=p.length,b=p.filter(j=>j.type==="car").length,v=p.filter(j=>j.type==="bike").length,A=(await Yn(Cn(Lt,"users"))).size,E=(await Yn(Cn(Lt,"bookings"))).docs.map(j=>({id:j.id,...j.data()})),M=E.length,q=E.filter(j=>j.status==="pending").length,re=E.filter(j=>j.status==="completed").length,J=E.filter(j=>j.paymentStatus==="paid").length,te=E.filter(j=>j.paymentStatus==="paid").reduce((j,P)=>j+(P.totalPrice||0),0),L=ks(Cn(Lt,"bookings"),J6("createdAt","desc"),Z6(5)),B=(await Yn(L)).docs.map(j=>({id:j.id,...j.data()})),z=await Promise.all(B.map(async j=>{try{const P=await Yn(ks(Cn(Lt,"vehicles"),Xs("id","==",j.vehicleId)));let O="Unknown Vehicle";return P.empty||(O=P.docs[0].data().name),{...j,vehicleName:O}}catch(P){return console.error("Error fetching vehicle for booking:",P),{...j,vehicleName:"Unknown Vehicle"}}}));l(z),e({totalVehicles:y,totalCars:b,totalBikes:v,totalUsers:A,totalBookings:M,pendingBookings:q,completedBookings:re,totalRevenue:te,paidBookings:J})}catch(d){s("Failed to load dashboard data: "+d.message),console.error(d)}finally{r(!1)}})()},[]),t?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?h.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-md",children:h.jsx("p",{children:i})}):h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600 mb-8",children:"Dashboard Overview"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8",children:[h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-pink-500/10 rounded-full p-3",children:h.jsx(ba,{className:"text-2xl text-pink-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Cars"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:n.totalCars})]})]})}),h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-purple-500/10 rounded-full p-3",children:h.jsx(D9,{className:"text-2xl text-purple-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Bikes"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:n.totalBikes})]})]})}),h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-blue-500/10 rounded-full p-3",children:h.jsx(Xg,{className:"text-2xl text-blue-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Users"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:n.totalUsers})]})]})}),h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-green-500/10 rounded-full p-3",children:h.jsx(E1,{className:"text-2xl text-green-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Bookings"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:n.totalBookings})]})]})}),h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-yellow-500/10 rounded-full p-3",children:h.jsx(E1,{className:"text-2xl text-yellow-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Pending Bookings"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:n.pendingBookings})]})]})}),h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-teal-500/10 rounded-full p-3",children:h.jsx(E1,{className:"text-2xl text-teal-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Completed Bookings"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:n.completedBookings})]})]})}),h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-indigo-500/10 rounded-full p-3",children:h.jsx(pp,{className:"text-2xl text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Paid Bookings"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:n.paidBookings})]})]})}),h.jsx("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-red-500/10 rounded-full p-3",children:h.jsx(ph,{className:"text-2xl text-red-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-bold text-white",children:["",n.totalRevenue.toFixed(2)]})]})]})})]}),h.jsx("div",{className:"bg-gradient-to-r from-pink-600/20 to-purple-600/20 backdrop-blur-lg rounded-2xl border border-pink-500/20 p-6 mb-8 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-full",children:h.jsx(jy,{className:"text-2xl text-pink-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Analytics Dashboard Available"}),h.jsx("p",{className:"text-gray-300 mb-4",children:"View detailed analytics about your vehicle rentals, bookings, and revenue."}),h.jsxs("div",{className:"flex flex-col space-y-2 text-sm",children:[h.jsx("p",{className:"text-gray-300",children:"To get started with analytics:"}),h.jsxs("ol",{className:"list-decimal list-inside pl-2 space-y-1 text-gray-400",children:[h.jsx("li",{children:"Click on the 'Analytics' tab above"}),h.jsx("li",{children:"Add vehicles and make bookings to see stats"}),h.jsx("li",{children:"Use the time filters to analyze different periods"}),h.jsx("li",{children:"Export your reports as CSV or print them"})]})]})]})]})}),h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Recent Bookings"}),a.length>0?h.jsx("div",{className:"space-y-4",children:a.map(u=>h.jsx("div",{className:"bg-gray-700/30 backdrop-blur-lg rounded-xl border border-gray-600/30 p-4 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-white font-medium",children:u.vehicleName||"Unknown Vehicle"}),h.jsx("p",{className:"text-sm text-gray-400",children:new Date(u.createdAt).toLocaleDateString()})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.status==="confirmed"?"bg-green-500/10 text-green-400":u.status==="pending"?"bg-yellow-500/10 text-yellow-400":u.status==="cancelled"?"bg-red-500/10 text-red-400":u.status==="completed"?"bg-purple-500/10 text-purple-400":"bg-gray-500/10 text-gray-400"}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)}),h.jsxs("span",{className:"text-white font-medium",children:["",u.totalPrice]})]})]})},u.id))}):h.jsx("p",{className:"text-gray-400",children:"No recent bookings found."})]})]})},O9=()=>{const[n,e]=se.useState([]),[t,r]=se.useState([]),[i,s]=se.useState(!0),[a,l]=se.useState(null),[u,d]=se.useState(null),[p,y]=se.useState({name:"",price:"",rating:"",type:"car",availability:!0,imageUrl:""}),[b,v]=se.useState(""),[S,A]=se.useState({type:"all",priceRange:"all",availability:"all"}),[T,E]=se.useState(!1);se.useEffect(()=>{q()},[]),se.useEffect(()=>{M()},[n,b,S]);const M=()=>{let L=[...n];if(b&&(L=L.filter(C=>C.name.toLowerCase().includes(b.toLowerCase()))),S.type!=="all"&&(L=L.filter(C=>C.type===S.type)),S.priceRange!=="all"){const[C,B]=S.priceRange.split("-").map(Number);L=L.filter(z=>{const j=Number(z.price);return j>=C&&j<=B})}S.availability!=="all"&&(L=L.filter(C=>C.availability===(S.availability==="available"))),r(L)},q=async()=>{try{s(!0);const L=Cn(Lt,"vehicles"),B=(await Yn(L)).docs.map(z=>({id:z.id,...z.data()}));e(B),r(B),l(null)}catch(L){console.error("Error fetching vehicles:",L),l("Failed to fetch vehicles. Please try again.")}finally{s(!1)}},re=async L=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await Tp(Er(Lt,"vehicles",L)),e(n.filter(C=>C.id!==L))}catch(C){console.error("Error deleting vehicle:",C),l("Failed to delete vehicle. Please try again.")}},J=L=>{d(L),y({name:L.name,price:L.price,rating:L.rating,type:L.type,availability:L.availability})},te=async L=>{L.preventDefault();try{const C={...p,imageUrl:p.imageUrl||null,updatedAt:new Date().toISOString()};await vc(Er(Lt,"vehicles",u.id),C),d(null),q()}catch(C){console.error("Error updating vehicle:",C),l("Failed to update vehicle. Please try again.")}};return i?h.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[a&&h.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg",children:a}),h.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl p-4 border border-white/10",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search vehicles...",value:b,onChange:L=>v(L.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700/50 border border-gray-600/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("button",{onClick:()=>E(!T),className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-700/50 border border-gray-600/30 rounded-lg text-white hover:bg-gray-700/70 transition-colors",children:[h.jsx(Yg,{}),"Filters"]})]}),T&&h.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-2",children:"Vehicle Type"}),h.jsxs("select",{value:S.type,onChange:L=>A({...S,type:L.target.value}),className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"All Types"}),h.jsx("option",{value:"car",children:"Cars"}),h.jsx("option",{value:"bike",children:"Bikes"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-2",children:"Price Range"}),h.jsxs("select",{value:S.priceRange,onChange:L=>A({...S,priceRange:L.target.value}),className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"All Prices"}),h.jsx("option",{value:"0-100",children:"Under 100"}),h.jsx("option",{value:"100-200",children:"100 - 200"}),h.jsx("option",{value:"200-300",children:"200 - 300"}),h.jsx("option",{value:"300-500",children:"300 - 500"}),h.jsx("option",{value:"500-1000",children:"Above 500"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-2",children:"Availability"}),h.jsxs("select",{value:S.availability,onChange:L=>A({...S,availability:L.target.value}),className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"All"}),h.jsx("option",{value:"available",children:"Available"}),h.jsx("option",{value:"unavailable",children:"Unavailable"})]})]})]})]}),h.jsxs("div",{className:"text-gray-300",children:["Showing ",t.length," of ",n.length," vehicles"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(L=>h.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300",children:[h.jsxs("div",{className:"relative h-48 mb-4 rounded-lg overflow-hidden group",children:[h.jsx("img",{src:L.imageUrl||(L.type==="car"?"/car-placeholder.jpg":"/bike-placeholder.jpg"),alt:L.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:C=>{C.target.src=L.type==="car"?"/car-placeholder.jpg":"/bike-placeholder.jpg"}}),!L.imageUrl&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white text-sm",children:"No image uploaded"})]}),h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[L.type==="car"?h.jsx(ba,{className:"text-blue-400 text-2xl"}):h.jsx(mp,{className:"text-green-400 text-2xl"}),h.jsx("h3",{className:"text-xl font-semibold text-white",children:L.name})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>J(L),className:"p-2 text-blue-400 hover:bg-blue-400/10 rounded-lg transition-colors",children:h.jsx(Kg,{})}),h.jsx("button",{onClick:()=>re(L.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",children:h.jsx(S_,{})})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-300",children:[h.jsx("span",{className:"font-medium text-white",children:"Price:"})," ",L.price,"/hour"]}),h.jsxs("p",{className:"text-gray-300",children:[h.jsx("span",{className:"font-medium text-white",children:"Rating:"})," ",L.rating]}),h.jsxs("p",{className:"text-gray-300",children:[h.jsx("span",{className:"font-medium text-white",children:"Type:"})," ",L.type]}),h.jsxs("p",{className:"text-gray-300",children:[h.jsx("span",{className:"font-medium text-white",children:"Availability:"})," ",h.jsx("span",{className:L.availability?"text-green-400":"text-red-400",children:L.availability?"Available":"Not Available"})]})]})]},L.id))}),u&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-4 max-w-md w-full mx-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Edit Vehicle"}),h.jsxs("form",{onSubmit:te,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-1 text-sm",children:"Vehicle Name"}),h.jsx("input",{type:"text",value:p.name,onChange:L=>y({...p,name:L.target.value}),className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-3 py-1.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-1 text-sm",children:"Price (/hour)"}),h.jsx("input",{type:"number",value:p.price,onChange:L=>y({...p,price:L.target.value}),className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-3 py-1.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-1 text-sm",children:"Rating"}),h.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",value:p.rating,onChange:L=>y({...p,rating:L.target.value}),className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-3 py-1.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-1 text-sm",children:"Type"}),h.jsxs("select",{value:p.type,onChange:L=>y({...p,type:L.target.value}),className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-3 py-1.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[h.jsx("option",{value:"car",children:"Car"}),h.jsx("option",{value:"bike",children:"Bike"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:p.availability,onChange:L=>y({...p,availability:L.target.checked}),className:"mr-2"}),h.jsx("label",{className:"text-gray-300",children:"Available for Rent"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-gray-300 mb-1 text-sm",children:"Vehicle Image URL"}),h.jsx("div",{className:"flex items-center space-x-4",children:h.jsx("div",{className:"flex-1",children:h.jsx("input",{type:"text",placeholder:"Enter image URL",value:p.imageUrl||"",onChange:L=>y(C=>({...C,imageUrl:L.target.value})),className:"w-full px-3 py-1.5 bg-gray-700/50 border border-gray-600/30 rounded-lg text-white focus:outline-none focus:border-blue-500/50 text-sm"})})}),(p.imageUrl||(u==null?void 0:u.imageUrl))&&h.jsxs("div",{className:"mt-4",children:[h.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Current Image:"}),h.jsx("img",{src:p.imageUrl||u.imageUrl,alt:"Vehicle",className:"w-full h-32 object-cover rounded-lg",onError:L=>{L.target.onerror=null,L.target.src=p.type==="car"?"/car-placeholder.jpg":"/bike-placeholder.jpg"}})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>d(null),className:"px-3 py-1.5 bg-gray-700/50 text-gray-300 rounded-lg hover:bg-gray-700/70 transition-colors text-sm",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Update"})]})]})]})})]})},F9=()=>{var M,q,re,J,te;const[n,e]=se.useState([]),[t,r]=se.useState(!0),[i,s]=se.useState(""),[a,l]=se.useState(""),[u,d]=se.useState("all"),[p,y]=se.useState(null),[b,v]=se.useState(!1);se.useEffect(()=>{S()},[]);const S=async()=>{try{r(!0);const L=await Yn(Cn(Lt,"bookings")),C=await Promise.all(L.docs.map(async B=>{const z={id:B.id,...B.data()};if(z.vehicleId){const j=await Yn(ks(Cn(Lt,"vehicles"),Xs("id","==",z.vehicleId)));j.empty||(z.vehicle=j.docs[0].data())}return z}));e(C)}catch(L){s("Failed to load bookings: "+L.message),console.error(L)}finally{r(!1)}},A=async(L,C)=>{try{r(!0);const B=Er(Lt,"bookings",L);await vc(B,{status:C,updatedAt:Ar.now()}),e(z=>z.map(j=>j.id===L?{...j,status:C}:j)),setMessage("Booking status updated successfully!")}catch(B){s("Failed to update booking status: "+B.message),console.error(B)}finally{r(!1)}},T=n.filter(L=>{var z,j,P,O,ne,de;const C=((j=(z=L.customerDetails)==null?void 0:z.firstName)==null?void 0:j.toLowerCase().includes(a.toLowerCase()))||((O=(P=L.customerDetails)==null?void 0:P.lastName)==null?void 0:O.toLowerCase().includes(a.toLowerCase()))||((de=(ne=L.vehicle)==null?void 0:ne.name)==null?void 0:de.toLowerCase().includes(a.toLowerCase())),B=u==="all"||L.status===u;return C&&B}),E=L=>{const C={pending:{color:"bg-yellow-500/10 text-yellow-400",icon:h.jsx(Ah,{className:"mr-1"})},confirmed:{color:"bg-green-500/10 text-green-400",icon:h.jsx(g2,{className:"mr-1"})},cancelled:{color:"bg-red-500/10 text-red-400",icon:h.jsx(vh,{className:"mr-1"})},completed:{color:"bg-blue-500/10 text-blue-400",icon:h.jsx(g2,{className:"mr-1"})}},B=C[L]||C.pending;return h.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${B.color}`,children:[B.icon,L.charAt(0).toUpperCase()+L.slice(1)]})};return t?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):i?h.jsx("div",{className:"bg-red-500/10 text-red-400 p-4 rounded-lg border border-red-500/20",children:i}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600",children:"Bookings Management"}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[h.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[h.jsx(yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search bookings...",value:a,onChange:L=>l(L.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700/50 border border-gray-600/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),h.jsxs("select",{value:u,onChange:L=>d(L.target.value),className:"px-4 py-2 bg-gray-700/50 border border-gray-600/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-pink-500",children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"confirmed",children:"Confirmed"}),h.jsx("option",{value:"cancelled",children:"Cancelled"}),h.jsx("option",{value:"completed",children:"Completed"})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(L=>{var C,B,z;return h.jsxs("div",{className:"bg-gray-700/30 backdrop-blur-lg rounded-xl border border-gray-600/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:((C=L.vehicle)==null?void 0:C.name)||"Unknown Vehicle"}),h.jsxs("p",{className:"text-gray-400 text-sm",children:["Booking ID: ",L.id.slice(0,8),"..."]})]}),E(L.status)]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center text-gray-300",children:[h.jsx(Sd,{className:"mr-2 text-pink-400"}),h.jsxs("span",{children:[(B=L.customerDetails)==null?void 0:B.firstName," ",(z=L.customerDetails)==null?void 0:z.lastName]})]}),h.jsxs("div",{className:"flex items-center text-gray-300",children:[h.jsx(Mo,{className:"mr-2 text-blue-400"}),h.jsxs("span",{children:[new Date(L.startDate).toLocaleDateString()," - ",new Date(L.endDate).toLocaleDateString()]})]}),h.jsxs("div",{className:"flex items-center text-gray-300",children:[h.jsx(ph,{className:"mr-2 text-green-400"}),h.jsxs("span",{children:["",L.totalPrice]})]})]}),h.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>{y(L),v(!0)},className:"px-4 py-2 bg-gray-600/50 text-gray-300 rounded-lg hover:bg-gray-600/70 transition-colors duration-300",children:"View Details"}),L.status==="pending"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>A(L.id,"confirmed"),className:"px-4 py-2 bg-green-500/10 text-green-400 rounded-lg hover:bg-green-500/20 transition-colors duration-300",children:"Confirm"}),h.jsx("button",{onClick:()=>A(L.id,"cancelled"),className:"px-4 py-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20 transition-colors duration-300",children:"Cancel"})]}),L.status==="confirmed"&&h.jsx("button",{onClick:()=>A(L.id,"completed"),className:"px-4 py-2 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-500/20 transition-colors duration-300",children:"Mark Complete"})]})]},L.id)})}),b&&p&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 max-w-2xl w-full mx-4",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-white",children:"Booking Details"}),h.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white",children:h.jsx(vh,{})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 text-sm mb-1",children:"Vehicle"}),h.jsx("p",{className:"text-white",children:((M=p.vehicle)==null?void 0:M.name)||"Unknown Vehicle"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 text-sm mb-1",children:"Customer"}),h.jsxs("p",{className:"text-white",children:[(q=p.customerDetails)==null?void 0:q.firstName," ",(re=p.customerDetails)==null?void 0:re.lastName]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 text-sm mb-1",children:"Contact"}),h.jsx("p",{className:"text-white",children:(J=p.customerDetails)==null?void 0:J.email}),h.jsx("p",{className:"text-white",children:(te=p.customerDetails)==null?void 0:te.phone})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 text-sm mb-1",children:"Booking Period"}),h.jsxs("p",{className:"text-white",children:[new Date(p.startDate).toLocaleDateString()," - ",new Date(p.endDate).toLocaleDateString()]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 text-sm mb-1",children:"Total Price"}),h.jsxs("p",{className:"text-white",children:["",p.totalPrice]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 text-sm mb-1",children:"Status"}),E(p.status)]})]})]}),h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-lg hover:bg-gray-700/70 transition-colors duration-300",children:"Close"})})]})})]})},V9=()=>{const[n,e]=se.useState([]),[t,r]=se.useState(!0),[i,s]=se.useState(""),[a,l]=se.useState(!1),[u,d]=se.useState(null),[p,y]=se.useState(""),[b,v]=se.useState("all");se.useEffect(()=>{(async()=>{try{r(!0);const E=Cn(Lt,"users"),q=(await Yn(ks(E))).docs.map(re=>({id:re.id,...re.data()}));e(q)}catch(E){s("Failed to load users: "+E.message),console.error(E)}finally{r(!1)}})()},[]);const S=async T=>{T.preventDefault();try{r(!0);const E=Er(Lt,"users",u.id);await vc(E,{role:u.role,updatedAt:new Date().toISOString()}),e(M=>M.map(q=>q.id===u.id?{...q,role:u.role}:q)),l(!1)}catch(E){s("Failed to update user: "+E.message),console.error(E)}finally{r(!1)}},A=n.filter(T=>{const E=b==="all"||T.role===b,q=[T.id,T.name,T.email,T.phone].filter(Boolean).join(" ").toLowerCase().includes(p.toLowerCase());return E&&q});return t&&n.length===0?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6 gap-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Users Management"}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search users...",value:p,onChange:T=>y(T.target.value),className:"pl-10 pr-4 py-2 border rounded-md"}),h.jsx(yh,{className:"absolute left-3 top-3 text-gray-400"})]}),h.jsxs("select",{value:b,onChange:T=>v(T.target.value),className:"px-4 py-2 border rounded-md",children:[h.jsx("option",{value:"all",children:"All Roles"}),h.jsx("option",{value:"admin",children:"Admin"}),h.jsx("option",{value:"customer",children:"Customer"})]})]})]}),i&&h.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:h.jsx("p",{children:i})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(T=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"flex items-center",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-500",children:T.email})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-500",children:T.phone||"N/A"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:T.role==="admin"?h.jsxs(h.Fragment,{children:[h.jsx(yA,{className:"mr-1"})," Admin"]}):h.jsxs(h.Fragment,{children:[h.jsx(Sd,{className:"mr-1"})," Customer"]})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-500",children:T.createdAt?new Date(T.createdAt).toLocaleDateString():"N/A"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:h.jsx("button",{onClick:()=>{d(T),l(!0)},className:"text-blue-600 hover:text-blue-900",children:h.jsx(Kg,{size:18})})})]},T.id))})]})}),a&&u&&h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Update User Role"}),h.jsxs("form",{onSubmit:S,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Name"}),h.jsx("p",{className:"text-gray-600",children:u.name})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),h.jsx("p",{className:"text-gray-600",children:u.email})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Role"}),h.jsxs("select",{value:u.role,onChange:T=>d({...u,role:T.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[h.jsx("option",{value:"customer",children:"Customer"}),h.jsx("option",{value:"admin",children:"Admin"})]})]}),h.jsxs("div",{className:"flex justify-end",children:[h.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded mr-2",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",disabled:t,children:t?"Updating...":"Update Role"})]})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ip(n){return n+.5|0}const hu=(n,e,t)=>Math.max(Math.min(n,t),e);function If(n){return hu(Ip(n*2.55),0,255)}function vu(n){return hu(Ip(n*255),0,255)}function rc(n){return hu(Ip(n/2.55)/100,0,1)}function Mw(n){return hu(Ip(n*100),0,100)}const Wa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hy=[..."0123456789ABCDEF"],B9=n=>hy[n&15],z9=n=>hy[(n&240)>>4]+hy[n&15],km=n=>(n&240)>>4===(n&15),U9=n=>km(n.r)&&km(n.g)&&km(n.b)&&km(n.a);function q9(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Wa[n[1]]*17,g:255&Wa[n[2]]*17,b:255&Wa[n[3]]*17,a:e===5?Wa[n[4]]*17:255}:(e===7||e===9)&&(t={r:Wa[n[1]]<<4|Wa[n[2]],g:Wa[n[3]]<<4|Wa[n[4]],b:Wa[n[5]]<<4|Wa[n[6]],a:e===9?Wa[n[7]]<<4|Wa[n[8]]:255})),t}const H9=(n,e)=>n<255?e(n):"";function W9(n){var e=U9(n)?B9:z9;return n?"#"+e(n.r)+e(n.g)+e(n.b)+H9(n.a,e):void 0}const $9=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function FN(n,e,t){const r=e*Math.min(t,1-t),i=(s,a=(s+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function G9(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function K9(n,e,t){const r=FN(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function Y9(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Fv(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),a=Math.min(t,r,i),l=(s+a)/2;let u,d,p;return s!==a&&(p=s-a,d=l>.5?p/(2-s-a):p/(s+a),u=Y9(t,r,i,p,s),u=u*60+.5),[u|0,d||0,l]}function Vv(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(vu)}function Bv(n,e,t){return Vv(FN,n,e,t)}function Q9(n,e,t){return Vv(K9,n,e,t)}function X9(n,e,t){return Vv(G9,n,e,t)}function VN(n){return(n%360+360)%360}function J9(n){const e=$9.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?If(+e[5]):vu(+e[5]));const i=VN(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Q9(i,s,a):e[1]==="hsv"?r=X9(i,s,a):r=Bv(i,s,a),{r:r[0],g:r[1],b:r[2],a:t}}function Z9(n,e){var t=Fv(n);t[0]=VN(t[0]+e),t=Bv(t),n.r=t[0],n.g=t[1],n.b=t[2]}function eD(n){if(!n)return;const e=Fv(n),t=e[0],r=Mw(e[1]),i=Mw(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${rc(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const Ow={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tD(){const n={},e=Object.keys(Fw),t=Object.keys(Ow);let r,i,s,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],i=0;i<t.length;i++)s=t[i],l=l.replace(s,Ow[s]);s=parseInt(Fw[a],16),n[l]=[s>>16&255,s>>8&255,s&255]}return n}let Am;function nD(n){Am||(Am=tD(),Am.transparent=[0,0,0,0]);const e=Am[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const rD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iD(n){const e=rD.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?If(a):hu(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?If(r):hu(r,0,255)),i=255&(e[4]?If(i):hu(i,0,255)),s=255&(e[6]?If(s):hu(s,0,255)),{r,g:i,b:s,a:t}}}function sD(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${rc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const t2=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,rd=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function aD(n,e,t){const r=rd(rc(n.r)),i=rd(rc(n.g)),s=rd(rc(n.b));return{r:vu(t2(r+t*(rd(rc(e.r))-r))),g:vu(t2(i+t*(rd(rc(e.g))-i))),b:vu(t2(s+t*(rd(rc(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Em(n,e,t){if(n){let r=Fv(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Bv(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function BN(n,e){return n&&Object.assign(e||{},n)}function Vw(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=vu(n[3]))):(e=BN(n,{r:0,g:0,b:0,a:1}),e.a=vu(e.a)),e}function oD(n){return n.charAt(0)==="r"?iD(n):J9(n)}class sp{constructor(e){if(e instanceof sp)return e;const t=typeof e;let r;t==="object"?r=Vw(e):t==="string"&&(r=q9(e)||nD(e)||oD(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=BN(this._rgb);return e&&(e.a=rc(e.a)),e}set rgb(e){this._rgb=Vw(e)}rgbString(){return this._valid?sD(this._rgb):void 0}hexString(){return this._valid?W9(this._rgb):void 0}hslString(){return this._valid?eD(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,l=2*a-1,u=r.a-i.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=aD(this._rgb,e._rgb,t)),this}clone(){return new sp(this.rgb)}alpha(e){return this._rgb.a=vu(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ip(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Em(this._rgb,2,e),this}darken(e){return Em(this._rgb,2,-e),this}saturate(e){return Em(this._rgb,1,e),this}desaturate(e){return Em(this._rgb,1,-e),this}rotate(e){return Z9(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ec(){}const lD=(()=>{let n=0;return()=>n++})();function Gn(n){return n==null}function Zr(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function bn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Xa(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function hl(n,e){return Xa(n)?n:e}function an(n,e){return typeof n>"u"?e:n}const cD=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function tr(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Bn(n,e,t,r){let i,s,a;if(Zr(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(bn(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)e.call(t,n[a[i]],a[i])}function Dg(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Mg(n){if(Zr(n))return n.map(Mg);if(bn(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Mg(n[t[i]]);return e}return n}function zN(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function uD(n,e,t,r){if(!zN(n))return;const i=e[n],s=t[n];bn(i)&&bn(s)?ap(i,s,r):e[n]=Mg(s)}function ap(n,e,t){const r=Zr(e)?e:[e],i=r.length;if(!bn(n))return n;t=t||{};const s=t.merger||uD;let a;for(let l=0;l<i;++l){if(a=r[l],!bn(a))continue;const u=Object.keys(a);for(let d=0,p=u.length;d<p;++d)s(u[d],n,a,t)}return n}function zf(n,e){return ap(n,e,{merger:hD})}function hD(n,e,t){if(!zN(n))return;const r=e[n],i=t[n];bn(r)&&bn(i)?zf(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Mg(i))}const Bw={"":n=>n,x:n=>n.x,y:n=>n.y};function dD(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function fD(n){const e=dD(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Cd(n,e){return(Bw[e]||(Bw[e]=fD(e)))(n)}function zv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const op=n=>typeof n<"u",Tu=n=>typeof n=="function",zw=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function pD(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ur=Math.PI,Ci=2*Ur,mD=Ci+Ur,Og=Number.POSITIVE_INFINITY,gD=Ur/180,ji=Ur/2,eh=Ur/4,Uw=Ur*2/3,UN=Math.log10,_l=Math.sign;function Uf(n,e,t){return Math.abs(n-e)<t}function qw(n){const e=Math.round(n);n=Uf(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(UN(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function yD(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function vD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Fg(n){return!vD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function xD(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function bD(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function dh(n){return n*(Ur/180)}function wD(n){return n*(180/Ur)}function Hw(n){if(!Xa(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function qN(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Ur&&(s+=Ci),{angle:s,distance:i}}function dy(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function _D(n,e){return(n-e+mD)%Ci-Ur}function au(n){return(n%Ci+Ci)%Ci}function Uv(n,e,t,r){const i=au(n),s=au(e),a=au(t),l=au(s-i),u=au(a-i),d=au(i-s),p=au(i-a);return i===s||i===a||r&&s===a||l>u&&d<p}function Js(n,e,t){return Math.max(e,Math.min(t,n))}function ND(n){return Js(n,-32768,32767)}function du(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function qv(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const fy=(n,e,t,r)=>qv(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),SD=(n,e,t)=>qv(n,t,r=>n[r][e]>=t);function kD(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const HN=["push","pop","shift","splice","unshift"];function AD(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),HN.forEach(t=>{const r="_onData"+zv(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),a}})})}function Ww(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(HN.forEach(s=>{delete n[s]}),delete n._chartjs)}function WN(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const $N=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function GN(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,$N.call(window,()=>{r=!1,n.apply(e,t)}))}}function ED(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Hv=n=>n==="start"?"left":n==="end"?"right":"center",es=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,TD=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Tm=n=>n===0||n===1,$w=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ci/t)),Gw=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ci/t)+1,qf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ji)+1,easeOutSine:n=>Math.sin(n*ji),easeInOutSine:n=>-.5*(Math.cos(Ur*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Tm(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Tm(n)?n:$w(n,.075,.3),easeOutElastic:n=>Tm(n)?n:Gw(n,.075,.3),easeInOutElastic(n){return Tm(n)?n:n<.5?.5*$w(n*2,.1125,.45):.5+.5*Gw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-qf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?qf.easeInBounce(n*2)*.5:qf.easeOutBounce(n*2-1)*.5+.5};function Wv(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Kw(n){return Wv(n)?n:new sp(n)}function n2(n){return Wv(n)?n:new sp(n).saturate(.5).darken(.1).hexString()}const ID=["x","y","borderWidth","radius","tension"],PD=["color","borderColor","backgroundColor"];function jD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:PD},numbers:{type:"number",properties:ID}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function CD(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Yw=new Map;function RD(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Yw.get(t);return r||(r=new Intl.NumberFormat(n,e),Yw.set(t,r)),r}function KN(n,e,t){return RD(e,t).format(n)}const LD={values(n){return Zr(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=DD(n,t)}const a=UN(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),KN(n,r,u)}};function DD(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var YN={formatters:LD};function MD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:YN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const kh=Object.create(null),py=Object.create(null);function Hf(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function r2(n,e,t){return typeof e=="string"?ap(Hf(n,e),t):ap(Hf(n,""),e)}class OD{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>n2(i.backgroundColor),this.hoverBorderColor=(r,i)=>n2(i.borderColor),this.hoverColor=(r,i)=>n2(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return r2(this,e,t)}get(e){return Hf(this,e)}describe(e,t){return r2(py,e,t)}override(e,t){return r2(kh,e,t)}route(e,t,r,i){const s=Hf(this,e),a=Hf(this,r),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[l],d=a[i];return bn(u)?Object.assign({},d,u):an(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(t=>t(this))}}var Mr=new OD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jD,CD,MD]);function FD(n){return!n||Gn(n.size)||Gn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Qw(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function th(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Xw(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function my(n,e,t,r){QN(n,e,t,r,null)}function QN(n,e,t,r,i){let s,a,l,u,d,p,y,b;const v=e.pointStyle,S=e.rotation,A=e.radius;let T=(S||0)*gD;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(T),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),v){default:i?n.ellipse(t,r,i/2,A,0,0,Ci):n.arc(t,r,A,0,Ci),n.closePath();break;case"triangle":p=i?i/2:A,n.moveTo(t+Math.sin(T)*p,r-Math.cos(T)*A),T+=Uw,n.lineTo(t+Math.sin(T)*p,r-Math.cos(T)*A),T+=Uw,n.lineTo(t+Math.sin(T)*p,r-Math.cos(T)*A),n.closePath();break;case"rectRounded":d=A*.516,u=A-d,a=Math.cos(T+eh)*u,y=Math.cos(T+eh)*(i?i/2-d:u),l=Math.sin(T+eh)*u,b=Math.sin(T+eh)*(i?i/2-d:u),n.arc(t-y,r-l,d,T-Ur,T-ji),n.arc(t+b,r-a,d,T-ji,T),n.arc(t+y,r+l,d,T,T+ji),n.arc(t-b,r+a,d,T+ji,T+Ur),n.closePath();break;case"rect":if(!S){u=Math.SQRT1_2*A,p=i?i/2:u,n.rect(t-p,r-u,2*p,2*u);break}T+=eh;case"rectRot":y=Math.cos(T)*(i?i/2:A),a=Math.cos(T)*A,l=Math.sin(T)*A,b=Math.sin(T)*(i?i/2:A),n.moveTo(t-y,r-l),n.lineTo(t+b,r-a),n.lineTo(t+y,r+l),n.lineTo(t-b,r+a),n.closePath();break;case"crossRot":T+=eh;case"cross":y=Math.cos(T)*(i?i/2:A),a=Math.cos(T)*A,l=Math.sin(T)*A,b=Math.sin(T)*(i?i/2:A),n.moveTo(t-y,r-l),n.lineTo(t+y,r+l),n.moveTo(t+b,r-a),n.lineTo(t-b,r+a);break;case"star":y=Math.cos(T)*(i?i/2:A),a=Math.cos(T)*A,l=Math.sin(T)*A,b=Math.sin(T)*(i?i/2:A),n.moveTo(t-y,r-l),n.lineTo(t+y,r+l),n.moveTo(t+b,r-a),n.lineTo(t-b,r+a),T+=eh,y=Math.cos(T)*(i?i/2:A),a=Math.cos(T)*A,l=Math.sin(T)*A,b=Math.sin(T)*(i?i/2:A),n.moveTo(t-y,r-l),n.lineTo(t+y,r+l),n.moveTo(t+b,r-a),n.lineTo(t-b,r+a);break;case"line":a=i?i/2:Math.cos(T)*A,l=Math.sin(T)*A,n.moveTo(t-a,r-l),n.lineTo(t+a,r+l);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(T)*(i?i/2:A),r+Math.sin(T)*A);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function lp(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function $v(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Gv(n){n.restore()}function VD(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function BD(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function zD(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Gn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function UD(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,p=i.strikethrough?(u+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,p),n.lineTo(l,p),n.stroke()}}function qD(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function cp(n,e,t,r,i,s={}){const a=Zr(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(n.save(),n.font=i.string,zD(n,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&qD(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Gn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,r,s.maxWidth)),n.fillText(d,t,r,s.maxWidth),UD(n,t,r,d,s),r+=Number(i.lineHeight);n.restore()}function Vg(n,e){const{x:t,y:r,w:i,h:s,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*Ur,Ur,!0),n.lineTo(t,r+s-a.bottomLeft),n.arc(t+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Ur,ji,!0),n.lineTo(t+i-a.bottomRight,r+s),n.arc(t+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,ji,0,!0),n.lineTo(t+i,r+a.topRight),n.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-ji,!0),n.lineTo(t+a.topLeft,r)}const HD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $D(n,e){const t=(""+n).match(HD);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const GD=n=>+n||0;function Kv(n,e){const t={},r=bn(e),i=r?Object.keys(e):e,s=bn(n)?r?a=>an(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of i)t[a]=GD(s(a));return t}function XN(n){return Kv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function _d(n){return Kv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ja(n){const e=XN(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ss(n,e){n=n||{},e=e||Mr.font;let t=an(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=an(n.style,e.style);r&&!(""+r).match(WD)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:an(n.family,e.family),lineHeight:$D(an(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:an(n.weight,e.weight),string:""};return i.string=FD(i),i}function Im(n,e,t,r){let i,s,a;for(i=0,s=n.length;i<s;++i)if(a=n[i],a!==void 0&&a!==void 0)return a}function KD(n,e,t){const{min:r,max:i}=n,s=cD(e,(i-r)/2),a=(l,u)=>t&&l===0?0:l+u;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Rh(n,e){return Object.assign(Object.create(n),e)}function Yv(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=tS("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>Yv([l,...n],e,s,r)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete n[0][u],!0},get(l,u){return ZN(l,u,()=>nM(u,e,n,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,u){return Zw(l).includes(u)},ownKeys(l){return Zw(l)},set(l,u,d){const p=l._storage||(l._storage=i());return l[u]=p[u]=d,delete l._keys,!0}})}function Rd(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:JN(n,r),setContext:s=>Rd(n,s,t,r),override:s=>Rd(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,l){return ZN(s,a,()=>QD(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,l){return n[a]=l,delete s[a],!0}})}function JN(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Tu(t)?t:()=>t,isIndexable:Tu(r)?r:()=>r}}const YD=(n,e)=>n?n+zv(e):e,Qv=(n,e)=>bn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ZN(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function QD(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let l=r[e];return Tu(l)&&a.isScriptable(e)&&(l=XD(e,l,n,t)),Zr(l)&&l.length&&(l=JD(e,l,n,a.isIndexable)),Qv(e,l)&&(l=Rd(l,i,s&&s[e],a)),l}function XD(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let u=e(s,a||r);return l.delete(n),Qv(n,u)&&(u=Xv(i._scopes,i,n,u)),u}function JD(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(bn(e[0])){const u=e,d=i._scopes.filter(p=>p!==u);e=[];for(const p of u){const y=Xv(d,i,n,p);e.push(Rd(y,s,a&&a[n],l))}}return e}function eS(n,e,t){return Tu(n)?n(e,t):n}const ZD=(n,e)=>n===!0?e:typeof n=="string"?Cd(e,n):void 0;function eM(n,e,t,r,i){for(const s of e){const a=ZD(t,s);if(a){n.add(a);const l=eS(a._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==r)return l}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function Xv(n,e,t,r){const i=e._rootScopes,s=eS(e._fallback,t,r),a=[...n,...i],l=new Set;l.add(r);let u=Jw(l,a,t,s||t,r);return u===null||typeof s<"u"&&s!==t&&(u=Jw(l,a,s,u,r),u===null)?!1:Yv(Array.from(l),[""],i,s,()=>tM(e,t,r))}function Jw(n,e,t,r,i){for(;t;)t=eM(n,e,t,r,i);return t}function tM(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Zr(i)&&bn(t)?t:i||{}}function nM(n,e,t,r){let i;for(const s of e)if(i=tS(YD(s,n),t),typeof i<"u")return Qv(n,i)?Xv(t,r,n,i):i}function tS(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function Zw(n){let e=n._keys;return e||(e=n._keys=rM(n._scopes)),e}function rM(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const iM=Number.EPSILON||1e-14,Ld=(n,e)=>e<n.length&&!n[e].skip&&n[e],nS=n=>n==="x"?"y":"x";function sM(n,e,t,r){const i=n.skip?e:n,s=e,a=t.skip?e:t,l=dy(s,i),u=dy(a,s);let d=l/(l+u),p=u/(l+u);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const y=r*d,b=r*p;return{previous:{x:s.x-y*(a.x-i.x),y:s.y-y*(a.y-i.y)},next:{x:s.x+b*(a.x-i.x),y:s.y+b*(a.y-i.y)}}}function aM(n,e,t){const r=n.length;let i,s,a,l,u,d=Ld(n,0);for(let p=0;p<r-1;++p)if(u=d,d=Ld(n,p+1),!(!u||!d)){if(Uf(e[p],0,iM)){t[p]=t[p+1]=0;continue}i=t[p]/e[p],s=t[p+1]/e[p],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),t[p]=i*a*e[p],t[p+1]=s*a*e[p])}}function oM(n,e,t="x"){const r=nS(t),i=n.length;let s,a,l,u=Ld(n,0);for(let d=0;d<i;++d){if(a=l,l=u,u=Ld(n,d+1),!l)continue;const p=l[t],y=l[r];a&&(s=(p-a[t])/3,l[`cp1${t}`]=p-s,l[`cp1${r}`]=y-s*e[d]),u&&(s=(u[t]-p)/3,l[`cp2${t}`]=p+s,l[`cp2${r}`]=y+s*e[d])}}function lM(n,e="x"){const t=nS(e),r=n.length,i=Array(r).fill(0),s=Array(r);let a,l,u,d=Ld(n,0);for(a=0;a<r;++a)if(l=u,u=d,d=Ld(n,a+1),!!u){if(d){const p=d[e]-u[e];i[a]=p!==0?(d[t]-u[t])/p:0}s[a]=l?d?_l(i[a-1])!==_l(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}aM(n,i,s),oM(n,s,e)}function Pm(n,e,t){return Math.max(Math.min(n,t),e)}function cM(n,e){let t,r,i,s,a,l=lp(n[0],e);for(t=0,r=n.length;t<r;++t)a=s,s=l,l=t<r-1&&lp(n[t+1],e),s&&(i=n[t],a&&(i.cp1x=Pm(i.cp1x,e.left,e.right),i.cp1y=Pm(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Pm(i.cp2x,e.left,e.right),i.cp2y=Pm(i.cp2y,e.top,e.bottom)))}function uM(n,e,t,r,i){let s,a,l,u;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")lM(n,i);else{let d=r?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)l=n[s],u=sM(d,l,n[Math.min(s+1,a-(r?0:1))%a],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&cM(n,t)}function Jv(){return typeof window<"u"&&typeof document<"u"}function Zv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bg(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const I0=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function hM(n,e){return I0(n).getPropertyValue(e)}const dM=["top","right","bottom","left"];function gh(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=dM[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const fM=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function pM(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,l,u;if(fM(i,s,n.target))l=i,u=s;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,u=r.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function ah(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=I0(t),s=i.boxSizing==="border-box",a=gh(i,"padding"),l=gh(i,"border","width"),{x:u,y:d,box:p}=pM(n,t),y=a.left+(p&&l.left),b=a.top+(p&&l.top);let{width:v,height:S}=e;return s&&(v-=a.width+l.width,S-=a.height+l.height),{x:Math.round((u-y)/v*t.width/r),y:Math.round((d-b)/S*t.height/r)}}function mM(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&Zv(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),l=I0(s),u=gh(l,"border","width"),d=gh(l,"padding");e=a.width-d.width-u.width,t=a.height-d.height-u.height,r=Bg(l.maxWidth,s,"clientWidth"),i=Bg(l.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Og,maxHeight:i||Og}}const jm=n=>Math.round(n*10)/10;function gM(n,e,t,r){const i=I0(n),s=gh(i,"margin"),a=Bg(i.maxWidth,n,"clientWidth")||Og,l=Bg(i.maxHeight,n,"clientHeight")||Og,u=mM(n,e,t);let{width:d,height:p}=u;if(i.boxSizing==="content-box"){const b=gh(i,"border","width"),v=gh(i,"padding");d-=v.width+b.width,p-=v.height+b.height}return d=Math.max(0,d-s.width),p=Math.max(0,r?d/r:p-s.height),d=jm(Math.min(d,a,u.maxWidth)),p=jm(Math.min(p,l,u.maxHeight)),d&&!p&&(p=jm(d/2)),(e!==void 0||t!==void 0)&&r&&u.height&&p>u.height&&(p=u.height,d=jm(Math.floor(p*r))),{width:d,height:p}}function e4(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const yM=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Jv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function t4(n,e){const t=hM(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function oh(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function vM(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function xM(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=oh(n,i,t),l=oh(i,s,t),u=oh(s,e,t),d=oh(a,l,t),p=oh(l,u,t);return oh(d,p,t)}const bM=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},wM=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Nd(n,e,t){return n?bM(e,t):wM()}function rS(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function iS(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function sS(n){return n==="angle"?{between:Uv,compare:_D,normalize:au}:{between:du,compare:(e,t)=>e-t,normalize:e=>e}}function n4({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function _M(n,e,t){const{property:r,start:i,end:s}=t,{between:a,normalize:l}=sS(r),u=e.length;let{start:d,end:p,loop:y}=n,b,v;if(y){for(d+=u,p+=u,b=0,v=u;b<v&&a(l(e[d%u][r]),i,s);++b)d--,p--;d%=u,p%=u}return p<d&&(p+=u),{start:d,end:p,loop:y,style:n.style}}function NM(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,a=e.length,{compare:l,between:u,normalize:d}=sS(r),{start:p,end:y,loop:b,style:v}=_M(n,e,t),S=[];let A=!1,T=null,E,M,q;const re=()=>u(i,q,E)&&l(i,q)!==0,J=()=>l(s,E)===0||u(s,q,E),te=()=>A||re(),L=()=>!A||J();for(let C=p,B=p;C<=y;++C)M=e[C%a],!M.skip&&(E=d(M[r]),E!==q&&(A=u(E,i,s),T===null&&te()&&(T=l(E,i)===0?C:B),T!==null&&L()&&(S.push(n4({start:T,end:C,loop:b,count:a,style:v})),T=null),B=C,q=E));return T!==null&&S.push(n4({start:T,end:y,loop:b,count:a,style:v})),S}function SM(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=NM(r[i],n.points,e);s.length&&t.push(...s)}return t}function kM(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function AM(n,e,t,r){const i=n.length,s=[];let a=e,l=n[e],u;for(u=e+1;u<=t;++u){const d=n[u%i];d.skip||d.stop?l.skip||(r=!1,s.push({start:e%i,end:(u-1)%i,loop:r}),e=a=d.stop?u:null):(a=u,l.skip&&(e=u)),l=d}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function EM(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:a,end:l}=kM(t,i,s,r);if(r===!0)return r4(n,[{start:a,end:l,loop:s}],t,e);const u=l<a?l+i:l,d=!!n._fullLoop&&a===0&&l===i-1;return r4(n,AM(t,a,u,d),t,e)}function r4(n,e,t,r){return!r||!r.setContext||!t?e:TM(n,e,t,r)}function TM(n,e,t,r){const i=n._chart.getContext(),s=i4(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,u=t.length,d=[];let p=s,y=e[0].start,b=y;function v(S,A,T,E){const M=l?-1:1;if(S!==A){for(S+=u;t[S%u].skip;)S-=M;for(;t[A%u].skip;)A+=M;S%u!==A%u&&(d.push({start:S%u,end:A%u,loop:T,style:E}),p=E,y=A%u)}}for(const S of e){y=l?y:S.start;let A=t[y%u],T;for(b=y+1;b<=S.end;b++){const E=t[b%u];T=i4(r.setContext(Rh(i,{type:"segment",p0:A,p1:E,p0DataIndex:(b-1)%u,p1DataIndex:b%u,datasetIndex:a}))),IM(T,p)&&v(y,b-1,S.loop,p),A=E,p=T}y<b-1&&v(y,b-1,S.loop,p)}return d}function i4(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function IM(n,e){if(!e)return!1;const t=[],r=function(i,s){return Wv(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Cm(n,e,t){return n.options.clip?n[t]:e[t]}function PM(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Cm(t,e,"left"),right:Cm(t,e,"right"),top:Cm(r,e,"top"),bottom:Cm(r,e,"bottom")}:e}function jM(n,e){const t=e._clip;if(t.disabled)return!1;const r=PM(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class CM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],a=t.duration;s.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=$N.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tc=new CM;const s4="transparent",RM={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Kw(n||s4),i=r.valid&&Kw(e||s4);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class LM{constructor(e,t,r,i){const s=t[r];i=Im([e.to,i,s,e.from]);const a=Im([e.from,s,i]);this._active=!0,this._fn=e.fn||RM[e.type||typeof a],this._easing=qf[e.easing]||qf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Im([e.to,t,i,e.from]),this._from=Im([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||t<r),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=s;return}u=t/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class aS{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!bn(e))return;const t=Object.keys(Mr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!bn(s))return;const a={};for(const l of t)a[l]=s[l];(Zr(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,t){const r=t.options,i=MM(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&DM(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const p=t[d];let y=s[d];const b=r.get(d);if(y)if(b&&y.active()){y.update(b,p,l);continue}else y.cancel();if(!b||!b.duration){e[d]=p;continue}s[d]=y=new LM(b,e,d,p),i.push(y)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return tc.add(this._chart,r),!0}}function DM(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function MM(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function a4(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function OM(n,e,t){if(t===!1)return!1;const r=a4(n,t),i=a4(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function FM(n){let e,t,r,i;return bn(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function oS(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function o4(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let a,l,u,d;if(e===null)return;let p=!1;for(a=0,l=i.length;a<l;++a){if(u=+i[a],u===t){if(p=!0,r.all)continue;break}d=n.values[u],Xa(d)&&(s||e===0||_l(e)===_l(d))&&(e+=d)}return!p&&!r.all?0:e}function VM(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let u,d,p;for(u=0,d=a.length;u<d;++u)p=a[u],l[u]={[i]:p,[s]:n[p]};return l}function i2(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function BM(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function zM(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function UM(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function l4(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function c4(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:l}=r,u=s.axis,d=a.axis,p=BM(s,a,r),y=e.length;let b;for(let v=0;v<y;++v){const S=e[v],{[u]:A,[d]:T}=S,E=S._stacks||(S._stacks={});b=E[d]=UM(i,p,A),b[l]=T,b._top=l4(b,a,!0,r.type),b._bottom=l4(b,a,!1,r.type);const M=b._visualValues||(b._visualValues={});M[l]=T}}function s2(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function qM(n,e){return Rh(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function HM(n,e,t){return Rh(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function pf(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const a2=n=>n==="reset"||n==="none",u4=(n,e)=>e?n:Object.assign({},n),WM=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:oS(t,!0),values:null};class Wf{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=i2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&pf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(y,b,v,S)=>y==="x"?b:y==="r"?S:v,s=t.xAxisID=an(r.xAxisID,s2(e,"x")),a=t.yAxisID=an(r.yAxisID,s2(e,"y")),l=t.rAxisID=an(r.rAxisID,s2(e,"r")),u=t.indexAxis,d=t.iAxisID=i(u,s,a,l),p=t.vAxisID=i(u,a,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ww(this._data,this),e._stacked&&pf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(bn(t)){const i=this._cachedMeta;this._data=VM(t,i)}else if(r!==t){if(r){Ww(r,this);const i=this._cachedMeta;pf(i),i._parsed=[]}t&&Object.isExtensible(t)&&AD(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=i2(t.vScale,t),t.stack!==r.stack&&(i=!0,pf(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(c4(this,t._parsed),t._stacked=i2(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,l=s.axis;let u=e===0&&t===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],p,y,b;if(this._parsing===!1)r._parsed=i,r._sorted=!0,b=i;else{Zr(i[e])?b=this.parseArrayData(r,i,e,t):bn(i[e])?b=this.parseObjectData(r,i,e,t):b=this.parsePrimitiveData(r,i,e,t);const v=()=>y[l]===null||d&&y[l]<d[l];for(p=0;p<t;++p)r._parsed[p+e]=y=b[p],u&&(v()&&(u=!1),d=y);r._sorted=u}a&&c4(this,b)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),p=s===a,y=new Array(i);let b,v,S;for(b=0,v=i;b<v;++b)S=b+r,y[b]={[l]:p||s.parse(d[S],S),[u]:a.parse(t[S],S)};return y}parseArrayData(e,t,r,i){const{xScale:s,yScale:a}=e,l=new Array(i);let u,d,p,y;for(u=0,d=i;u<d;++u)p=u+r,y=t[p],l[u]={x:s.parse(y[0],p),y:a.parse(y[1],p)};return l}parseObjectData(e,t,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let p,y,b,v;for(p=0,y=i;p<y;++p)b=p+r,v=t[b],d[p]={x:s.parse(Cd(v,l),b),y:a.parse(Cd(v,u),b)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,a=t[e.axis],l={keys:oS(i,!0),values:t._stacks[e.axis]._visualValues};return o4(l,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let a=s===null?NaN:s;const l=i&&r._stacks[t.axis];i&&l&&(i.values=l,a=o4(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,l=this._getOtherScale(e),u=WM(t,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=zM(l);let b,v;function S(){v=i[b];const A=v[l.axis];return!Xa(v[e.axis])||p>A||y<A}for(b=0;b<a&&!(!S()&&(this.updateRangeFromParsed(d,e,v,u),s));++b);if(s){for(b=a-1;b>=0;--b)if(!S()){this.updateRangeFromParsed(d,e,v,u);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],Xa(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=FM(an(this.options.clip,OM(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,s,l,u),p=l;p<l+u;++p){const y=i[p];y.hidden||(y.active&&d?a.push(y):y.draw(e,s))}for(p=0;p<a.length;++p)a[p].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=HM(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=qM(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,l=s[a],u=this.enableOptionSharing&&op(r);if(l)return u4(l,u);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),y=i?[`${e}Hover`,"hover",e,""]:[e,""],b=d.getOptionScopes(this.getDataset(),p),v=Object.keys(Mr.elements[e]),S=()=>this.getContext(r,i,t),A=d.resolveNamedOptions(b,v,S,y);return A.$shared&&(A.$shared=u,s[a]=Object.freeze(u4(A,u))),A}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,l=s[a];if(l)return l;let u;if(i.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),b=p.getOptionScopes(this.getDataset(),y);u=p.createResolver(b,this.getContext(e,r,t))}const d=new aS(i,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||a2(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,i){a2(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!a2(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const i=r.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,a=e+t;let l;const u=d=>{for(d.length+=t,l=d.length-1;l>=a;l--)d[l]=d[l-t]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&pf(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}At(Wf,"defaults",{}),At(Wf,"datasetElementType",null),At(Wf,"dataElementType",null);function $M(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=WN(r.sort((i,s)=>i-s))}return n._cache.$bar}function GM(n){const e=n.iScale,t=$M(e,n.type);let r=e._length,i,s,a,l;const u=()=>{a===32767||a===-32768||(op(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),u();for(l=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),u();return r}function KM(n,e,t,r){const i=t.barThickness;let s,a;return Gn(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[n]-s/2}}function YM(n,e,t,r){const i=e.pixels,s=i[n];let a=n>0?i[n-1]:null,l=n<i.length-1?i[n+1]:null;const u=t.categoryPercentage;a===null&&(a=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-a);const d=s-(s-Math.min(a,l))/2*u;return{chunk:Math.abs(l-a)/2*u/r,ratio:t.barPercentage,start:d}}function QM(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),a=Math.min(i,s),l=Math.max(i,s);let u=a,d=l;Math.abs(a)>Math.abs(l)&&(u=l,d=a),e[t.axis]=d,e._custom={barStart:u,barEnd:d,start:i,end:s,min:a,max:l}}function lS(n,e,t,r){return Zr(n)?QM(n,e,t,r):e[t.axis]=t.parse(n,r),e}function h4(n,e,t,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),l=i===s,u=[];let d,p,y,b;for(d=t,p=t+r;d<p;++d)b=e[d],y={},y[i.axis]=l||i.parse(a[d],d),u.push(lS(b,y,s,d));return u}function o2(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function XM(n,e,t){return n!==0?_l(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function JM(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function ZM(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:u,top:d,bottom:p}=JM(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=d:(t._bottom||0)===r?i=p:(s[d4(p,a,l,u)]=!0,i=d)),s[d4(i,a,l,u)]=!0,n.borderSkipped=s}function d4(n,e,t,r){return r?(n=eO(n,e,t),n=f4(n,t,e)):n=f4(n,e,t),n}function eO(n,e,t){return n===e?t:n===t?e:n}function f4(n,e,t){return n==="start"?e:n==="end"?t:n}function tO(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class ng extends Wf{parsePrimitiveData(e,t,r,i){return h4(e,t,r,i)}parseArrayData(e,t,r,i){return h4(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?l:u,p=a.axis==="x"?l:u,y=[];let b,v,S,A;for(b=r,v=r+i;b<v;++b)A=t[b],S={},S[s.axis]=s.parse(Cd(A,d),b),y.push(lS(Cd(A,p),S,a,b));return y}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),a=s._custom,l=o2(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(t,i);for(let v=t;v<t+r;v++){const S=this.getParsed(v),A=s||Gn(S[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),T=this._calculateBarIndexPixels(v,p),E=(S._stacks||{})[l.axis],M={horizontal:d,base:A.base,enableBorderRadius:!E||o2(S._custom)||a===E._top||a===E._bottom,x:d?A.head:T.center,y:d?T.center:A.head,height:d?T.size:Math.abs(A.size),width:d?Math.abs(A.size):T.size};b&&(M.options=y||this.resolveDataElementOptions(v,e[v].active?"active":i));const q=M.options||e[v].options;ZM(M,q,E,a),tO(M,q,p.ratio),this.updateElement(e[v],v,M,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),u=l&&l[r.axis],d=p=>{const y=p._parsed.find(v=>v[r.axis]===u),b=y&&y[p.vScale.axis];if(Gn(b)||isNaN(b))return!0};for(const p of i)if(!(t!==void 0&&d(p))&&((s===!1||a.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&a.push(p.stack),p.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=e.barThickness;return{min:l||GM(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,l=s||0,u=this.getParsed(e),d=u._custom,p=o2(d);let y=u[t.axis],b=0,v=r?this.applyStack(t,u,r):y,S,A;v!==y&&(b=v-y,v=y),p&&(y=d.barStart,v=d.barEnd-d.barStart,y!==0&&_l(y)!==_l(d.barEnd)&&(b=0),b+=y);const T=!Gn(s)&&!p?s:b;let E=t.getPixelForValue(T);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(b+v):S=E,A=S-E,Math.abs(A)<a){A=XM(A,t,l)*a,y===l&&(E-=A/2);const M=t.getPixelForDecimal(0),q=t.getPixelForDecimal(1),re=Math.min(M,q),J=Math.max(M,q);E=Math.max(Math.min(E,J),re),S=E+A,r&&!p&&(u._stacks[t.axis]._visualValues[i]=t.getValueForPixel(S)-t.getValueForPixel(E))}if(E===t.getPixelForValue(l)){const M=_l(A)*t.getLineWidthForValue(l)/2;E+=M,A-=M}return{size:A,base:E,head:S,center:S+A/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,a=an(i.maxBarThickness,1/0);let l,u;if(t.grouped){const d=s?this._getStackCount(e):t.stackCount,p=i.barThickness==="flex"?YM(e,t,i,d):KM(e,t,i,d),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=p.start+p.chunk*y+p.chunk/2,u=Math.min(a,p.chunk*p.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(a,t.min*t.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}At(ng,"id","bar"),At(ng,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),At(ng,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function nh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class e5{constructor(e){At(this,"options");this.options=e||{}}static override(e){Object.assign(e5.prototype,e)}init(){}formats(){return nh()}parse(){return nh()}format(){return nh()}add(){return nh()}diff(){return nh()}startOf(){return nh()}endOf(){return nh()}}var nO={_date:e5};function rO(n,e,t,r){const{controller:i,data:s,_sorted:a}=n,l=i._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const d=l._reversePixels?SD:fy;if(r){if(i._sharedOptions){const p=s[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const b=d(s,e,t-y),v=d(s,e,t+y);return{lo:b.lo,hi:v.hi}}}}else{const p=d(s,e,t);if(u){const{vScale:y}=i._cachedMeta,{_parsed:b}=n,v=b.slice(0,p.lo+1).reverse().findIndex(A=>!Gn(A[y.axis]));p.lo-=Math.max(0,v);const S=b.slice(p.hi).findIndex(A=>!Gn(A[y.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:s.length-1}}function P0(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:p}=s[l],{lo:y,hi:b}=rO(s[l],e,a,i);for(let v=y;v<=b;++v){const S=p[v];S.skip||r(S,d,v)}}}function iO(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function l2(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||P0(n,t,e,function(l,u,d){!i&&!lp(l,n.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function sO(n,e,t,r){let i=[];function s(a,l,u){const{startAngle:d,endAngle:p}=a.getProps(["startAngle","endAngle"],r),{angle:y}=qN(a,{x:e.x,y:e.y});Uv(y,d,p)&&i.push({element:a,datasetIndex:l,index:u})}return P0(n,t,e,s),i}function aO(n,e,t,r,i,s){let a=[];const l=iO(t);let u=Number.POSITIVE_INFINITY;function d(p,y,b){const v=p.inRange(e.x,e.y,i);if(r&&!v)return;const S=p.getCenterPoint(i);if(!(!!s||n.isPointInArea(S))&&!v)return;const T=l(e,S);T<u?(a=[{element:p,datasetIndex:y,index:b}],u=T):T===u&&a.push({element:p,datasetIndex:y,index:b})}return P0(n,t,e,d),a}function c2(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?sO(n,e,t,i):aO(n,e,t,r,i,s)}function p4(n,e,t,r,i){const s=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return P0(n,t,e,(u,d,p)=>{u[a]&&u[a](e[t],i)&&(s.push({element:u,datasetIndex:d,index:p}),l=l||u.inRange(e.x,e.y,i))}),r&&!l?[]:s}var oO={modes:{index(n,e,t,r){const i=ah(e,n),s=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?l2(n,i,s,r,a):c2(n,i,s,!1,r,a),u=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=l[0].index,y=d.data[p];y&&!y.skip&&u.push({element:y,datasetIndex:d.index,index:p})}),u):[]},dataset(n,e,t,r){const i=ah(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?l2(n,i,s,r,a):c2(n,i,s,!1,r,a);if(l.length>0){const u=l[0].datasetIndex,d=n.getDatasetMeta(u).data;l=[];for(let p=0;p<d.length;++p)l.push({element:d[p],datasetIndex:u,index:p})}return l},point(n,e,t,r){const i=ah(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return l2(n,i,s,r,a)},nearest(n,e,t,r){const i=ah(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return c2(n,i,s,t.intersect,r,a)},x(n,e,t,r){const i=ah(e,n);return p4(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=ah(e,n);return p4(n,i,"y",t.intersect,r)}}};const cS=["left","top","right","bottom"];function mf(n,e){return n.filter(t=>t.pos===e)}function m4(n,e){return n.filter(t=>cS.indexOf(t.pos)===-1&&t.box.axis===e)}function gf(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function lO(n){const e=[];let t,r,i,s,a,l;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:a,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:l});return e}function cO(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!cS.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function uO(n,e){const t=cO(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:u}=l.box,d=t[l.stack],p=d&&l.stackWeight/d.weight;l.horizontal?(l.width=p?p*r:u&&e.availableWidth,l.height=i):(l.width=r,l.height=p?p*i:u&&e.availableHeight)}return t}function hO(n){const e=lO(n),t=gf(e.filter(d=>d.box.fullSize),!0),r=gf(mf(e,"left"),!0),i=gf(mf(e,"right")),s=gf(mf(e,"top"),!0),a=gf(mf(e,"bottom")),l=m4(e,"x"),u=m4(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(a).concat(l),chartArea:mf(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(a).concat(l)}}function g4(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function uS(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function dO(n,e,t,r){const{pos:i,box:s}=t,a=n.maxPadding;if(!bn(i)){t.size&&(n[i]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?s.height:s.width),t.size=y.size/y.count,n[i]+=t.size}s.getPadding&&uS(a,s.getPadding());const l=Math.max(0,e.outerWidth-g4(a,n,"left","right")),u=Math.max(0,e.outerHeight-g4(a,n,"top","bottom")),d=l!==n.w,p=u!==n.h;return n.w=l,n.h=u,t.horizontal?{same:d,other:p}:{same:p,other:d}}function fO(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function pO(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return r(n?["left","right"]:["top","bottom"])}function Pf(n,e,t,r){const i=[];let s,a,l,u,d,p;for(s=0,a=n.length,d=0;s<a;++s){l=n[s],u=l.box,u.update(l.width||e.w,l.height||e.h,pO(l.horizontal,e));const{same:y,other:b}=dO(e,t,l,r);d|=y&&i.length,p=p||b,u.fullSize||i.push(l)}return d&&Pf(i,e,t,r)||p}function Rm(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function y4(n,e,t,r){const i=t.padding;let{x:s,y:a}=e;for(const l of n){const u=l.box,d=r[l.stack]||{placed:0,weight:1},p=l.stackWeight/d.weight||1;if(l.horizontal){const y=e.w*p,b=d.size||u.height;op(d.start)&&(a=d.start),u.fullSize?Rm(u,i.left,a,t.outerWidth-i.right-i.left,b):Rm(u,e.left+d.placed,a,y,b),d.start=a,d.placed+=y,a=u.bottom}else{const y=e.h*p,b=d.size||u.width;op(d.start)&&(s=d.start),u.fullSize?Rm(u,s,i.top,b,t.outerHeight-i.bottom-i.top):Rm(u,s,e.top+d.placed,b,y),d.start=s,d.placed+=y,s=u.right}}e.x=s,e.y=a}var $a={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Ja(n.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),l=hO(n.boxes),u=l.vertical,d=l.horizontal;Bn(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=u.reduce((A,T)=>T.box.options&&T.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/p,hBoxMaxHeight:a/2}),b=Object.assign({},i);uS(b,Ja(r));const v=Object.assign({maxPadding:b,w:s,h:a,x:i.left,y:i.top},i),S=uO(u.concat(d),y);Pf(l.fullSize,v,y,S),Pf(u,v,y,S),Pf(d,v,y,S)&&Pf(u,v,y,S),fO(v),y4(l.leftAndTop,v,y,S),v.x+=v.w,v.y+=v.h,y4(l.rightAndBottom,v,y,S),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Bn(l.chartArea,A=>{const T=A.box;Object.assign(T,n.chartArea),T.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class hS{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class mO extends hS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rg="$chartjs",gO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},v4=n=>n===null||n==="";function yO(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[rg]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",v4(i)){const s=t4(n,"width");s!==void 0&&(n.width=s)}if(v4(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=t4(n,"height");s!==void 0&&(n.height=s)}return n}const dS=yM?{passive:!0}:!1;function vO(n,e,t){n&&n.addEventListener(e,t,dS)}function xO(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,dS)}function bO(n,e){const t=gO[n.type]||n.type,{x:r,y:i}=ah(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function zg(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function wO(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||zg(l.addedNodes,r),a=a&&!zg(l.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function _O(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||zg(l.removedNodes,r),a=a&&!zg(l.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const up=new Map;let x4=0;function fS(){const n=window.devicePixelRatio;n!==x4&&(x4=n,up.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function NO(n,e){up.size||window.addEventListener("resize",fS),up.set(n,e)}function SO(n){up.delete(n),up.size||window.removeEventListener("resize",fS)}function kO(n,e,t){const r=n.canvas,i=r&&Zv(r);if(!i)return;const s=GN((l,u)=>{const d=i.clientWidth;t(l,u),d<i.clientWidth&&t()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,p=u.contentRect.height;d===0&&p===0||s(d,p)});return a.observe(i),NO(n,s),a}function u2(n,e,t){t&&t.disconnect(),e==="resize"&&SO(n)}function AO(n,e,t){const r=n.canvas,i=GN(s=>{n.ctx!==null&&t(bO(s,n))},n);return vO(r,e,i),i}class EO extends hS{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(yO(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[rg])return!1;const r=t[rg].initial;["height","width"].forEach(s=>{const a=r[s];Gn(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[rg],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:wO,detach:_O,resize:kO}[t]||AO;i[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:u2,detach:u2,resize:u2}[t]||xO)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return gM(e,t,r,i)}isAttached(e){const t=e&&Zv(e);return!!(t&&t.isConnected)}}function TO(n){return!Jv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?mO:EO}class Vo{constructor(){At(this,"x");At(this,"y");At(this,"active",!1);At(this,"options");At(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Fg(this.x)&&Fg(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}At(Vo,"defaults",{}),At(Vo,"defaultRoutes");function IO(n,e){const t=n.options.ticks,r=PO(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?CO(e):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>i)return RO(e,d,s,a/i),d;const p=jO(s,e,i);if(a>0){let y,b;const v=a>1?Math.round((u-l)/(a-1)):null;for(Lm(e,d,p,Gn(v)?0:l-v,l),y=0,b=a-1;y<b;y++)Lm(e,d,p,s[y],s[y+1]);return Lm(e,d,p,u,Gn(v)?e.length:u+v),d}return Lm(e,d,p),d}function PO(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function jO(n,e,t){const r=LO(n),i=e.length/t;if(!r)return Math.max(i,1);const s=yD(r);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>i)return u}return Math.max(i,1)}function CO(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function RO(n,e,t,r){let i=0,s=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(e.push(n[a]),i++,s=t[i*r])}function Lm(n,e,t,r,i){const s=an(r,0),a=Math.min(an(i,n.length),n.length);let l=0,u,d,p;for(t=Math.ceil(t),i&&(u=i-r,t=u/Math.floor(u/t)),p=s;p<0;)l++,p=Math.round(s+l*t);for(d=Math.max(s,0);d<a;d++)d===p&&(e.push(n[d]),l++,p=Math.round(s+l*t))}function LO(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const DO=n=>n==="left"?"right":n==="right"?"left":n,b4=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,w4=(n,e)=>Math.min(e||n,n);function _4(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function MO(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,a=n._endPixel,l=1e-6;let u=n.getPixelForTick(i),d;if(!(t&&(r===1?d=Math.max(u-s,a-u):e===0?d=(n.getPixelForTick(1)-u)/2:d=(u-n.getPixelForTick(i-1))/2,u+=i<e?d:-d,u<s-l||u>a+l)))return u}function OO(n,e){Bn(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function yf(n){return n.drawTicks?n.tickLength:0}function N4(n,e){if(!n.display)return 0;const t=ss(n.font,e),r=Ja(n.padding);return(Zr(n.text)?n.text.length:1)*t.lineHeight+r.height}function FO(n,e){return Rh(n,{scale:e,type:"scale"})}function VO(n,e,t){return Rh(n,{tick:t,index:e,type:"tick"})}function BO(n,e,t){let r=Hv(n);return(t&&e!=="right"||!t&&e==="right")&&(r=DO(r)),r}function zO(n,e,t,r){const{top:i,left:s,bottom:a,right:l,chart:u}=n,{chartArea:d,scales:p}=u;let y=0,b,v,S;const A=a-i,T=l-s;if(n.isHorizontal()){if(v=es(r,s,l),bn(t)){const E=Object.keys(t)[0],M=t[E];S=p[E].getPixelForValue(M)+A-e}else t==="center"?S=(d.bottom+d.top)/2+A-e:S=b4(n,t,e);b=l-s}else{if(bn(t)){const E=Object.keys(t)[0],M=t[E];v=p[E].getPixelForValue(M)-T+e}else t==="center"?v=(d.left+d.right)/2-T+e:v=b4(n,t,e);S=es(r,a,i),y=t==="left"?-ji:ji}return{titleX:v,titleY:S,maxWidth:b,rotation:y}}class Hd extends Vo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=hl(e,Number.POSITIVE_INFINITY),t=hl(t,Number.NEGATIVE_INFINITY),r=hl(r,Number.POSITIVE_INFINITY),i=hl(i,Number.NEGATIVE_INFINITY),{min:hl(e,r),max:hl(t,i),minDefined:Xa(e),maxDefined:Xa(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(r=Math.max(r,a.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:hl(t,hl(r,t)),max:hl(r,hl(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tr(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=KD(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?_4(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=IO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tr(this.options.afterUpdate,[this])}beforeSetDimensions(){tr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=tr(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){tr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=w4(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,l,u,d;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const p=this._getLabelSizes(),y=p.widest.width,b=p.highest.height,v=Js(this.chart.width-y,0,this.maxWidth);l=e.offset?this.maxWidth/r:v/(r-1),y+6>l&&(l=v/(r-(e.offset?.5:1)),u=this.maxHeight-yf(e.grid)-t.padding-N4(e.title,this.chart.options.font),d=Math.sqrt(y*y+b*b),a=wD(Math.min(Math.asin(Js((p.highest.height+6)/l,-1,1)),Math.asin(Js(u/d,-1,1))-Math.asin(Js(b/d,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){tr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=N4(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=yf(s)+u):(e.height=this.maxHeight,e.width=yf(s)+u),r.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:b}=this._getLabelSizes(),v=r.padding*2,S=dh(this.labelRotation),A=Math.cos(S),T=Math.sin(S);if(l){const E=r.mirror?0:T*y.width+A*b.height;e.height=Math.min(this.maxHeight,e.height+E+v)}else{const E=r.mirror?0:A*y.width+T*b.height;e.width=Math.min(this.maxWidth,e.width+E+v)}this._calculatePadding(d,p,T,A)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;u?d?(b=i*e.width,v=r*t.height):(b=r*e.height,v=i*t.width):s==="start"?v=t.width:s==="end"?b=e.width:s!=="inner"&&(b=e.width/2,v=t.width/2),this.paddingLeft=Math.max((b-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-y+a)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;s==="start"?(p=0,y=e.height):s==="end"&&(p=t.height,y=0),this.paddingTop=p+a,this.paddingBottom=y+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Gn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=_4(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(t/w4(t,r));let d=0,p=0,y,b,v,S,A,T,E,M,q,re,J;for(y=0;y<t;y+=u){if(S=e[y].label,A=this._resolveTickFontOptions(y),i.font=T=A.string,E=s[T]=s[T]||{data:{},gc:[]},M=A.lineHeight,q=re=0,!Gn(S)&&!Zr(S))q=Qw(i,E.data,E.gc,q,S),re=M;else if(Zr(S))for(b=0,v=S.length;b<v;++b)J=S[b],!Gn(J)&&!Zr(J)&&(q=Qw(i,E.data,E.gc,q,J),re+=M);a.push(q),l.push(re),d=Math.max(q,d),p=Math.max(re,p)}OO(s,t);const te=a.indexOf(d),L=l.indexOf(p),C=B=>({width:a[B]||0,height:l[B]||0});return{first:C(0),last:C(t-1),widest:C(te),highest:C(L),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return ND(this._alignToPixels?th(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=VO(this.getContext(),e,r))}return this.$context||(this.$context=FO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=dh(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*r>l*i?l/r:u/i:u*i<l*r?u/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:l}=i,u=s.offset,d=this.isHorizontal(),y=this.ticks.length+(u?1:0),b=yf(s),v=[],S=l.setContext(this.getContext()),A=S.display?S.width:0,T=A/2,E=function(ye){return th(r,ye,A)};let M,q,re,J,te,L,C,B,z,j,P,O;if(a==="top")M=E(this.bottom),L=this.bottom-b,B=M-T,j=E(e.top)+T,O=e.bottom;else if(a==="bottom")M=E(this.top),j=e.top,O=E(e.bottom)-T,L=M+T,B=this.top+b;else if(a==="left")M=E(this.right),te=this.right-b,C=M-T,z=E(e.left)+T,P=e.right;else if(a==="right")M=E(this.left),z=e.left,P=E(e.right)-T,te=M+T,C=this.left+b;else if(t==="x"){if(a==="center")M=E((e.top+e.bottom)/2+.5);else if(bn(a)){const ye=Object.keys(a)[0],oe=a[ye];M=E(this.chart.scales[ye].getPixelForValue(oe))}j=e.top,O=e.bottom,L=M+T,B=L+b}else if(t==="y"){if(a==="center")M=E((e.left+e.right)/2);else if(bn(a)){const ye=Object.keys(a)[0],oe=a[ye];M=E(this.chart.scales[ye].getPixelForValue(oe))}te=M-T,C=te-b,z=e.left,P=e.right}const ne=an(i.ticks.maxTicksLimit,y),de=Math.max(1,Math.ceil(y/ne));for(q=0;q<y;q+=de){const ye=this.getContext(q),oe=s.setContext(ye),ae=l.setContext(ye),ge=oe.lineWidth,me=oe.color,Z=ae.dash||[],V=ae.dashOffset,K=oe.tickWidth,ee=oe.tickColor,ce=oe.tickBorderDash||[],fe=oe.tickBorderDashOffset;re=MO(this,q,u),re!==void 0&&(J=th(r,re,ge),d?te=C=z=P=J:L=B=j=O=J,v.push({tx1:te,ty1:L,tx2:C,ty2:B,x1:z,y1:j,x2:P,y2:O,width:ge,color:me,borderDash:Z,borderDashOffset:V,tickWidth:K,tickColor:ee,tickBorderDash:ce,tickBorderDashOffset:fe}))}return this._ticksLength=y,this._borderValue=M,v}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:p,mirror:y}=s,b=yf(r.grid),v=b+p,S=y?-p:v,A=-dh(this.labelRotation),T=[];let E,M,q,re,J,te,L,C,B,z,j,P,O="middle";if(i==="top")te=this.bottom-S,L=this._getXAxisLabelAlignment();else if(i==="bottom")te=this.top+S,L=this._getXAxisLabelAlignment();else if(i==="left"){const de=this._getYAxisLabelAlignment(b);L=de.textAlign,J=de.x}else if(i==="right"){const de=this._getYAxisLabelAlignment(b);L=de.textAlign,J=de.x}else if(t==="x"){if(i==="center")te=(e.top+e.bottom)/2+v;else if(bn(i)){const de=Object.keys(i)[0],ye=i[de];te=this.chart.scales[de].getPixelForValue(ye)+v}L=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")J=(e.left+e.right)/2-v;else if(bn(i)){const de=Object.keys(i)[0],ye=i[de];J=this.chart.scales[de].getPixelForValue(ye)}L=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(u==="start"?O="top":u==="end"&&(O="bottom"));const ne=this._getLabelSizes();for(E=0,M=l.length;E<M;++E){q=l[E],re=q.label;const de=s.setContext(this.getContext(E));C=this.getPixelForTick(E)+s.labelOffset,B=this._resolveTickFontOptions(E),z=B.lineHeight,j=Zr(re)?re.length:1;const ye=j/2,oe=de.color,ae=de.textStrokeColor,ge=de.textStrokeWidth;let me=L;a?(J=C,L==="inner"&&(E===M-1?me=this.options.reverse?"left":"right":E===0?me=this.options.reverse?"right":"left":me="center"),i==="top"?d==="near"||A!==0?P=-j*z+z/2:d==="center"?P=-ne.highest.height/2-ye*z+z:P=-ne.highest.height+z/2:d==="near"||A!==0?P=z/2:d==="center"?P=ne.highest.height/2-ye*z:P=ne.highest.height-j*z,y&&(P*=-1),A!==0&&!de.showLabelBackdrop&&(J+=z/2*Math.sin(A))):(te=C,P=(1-j)*z/2);let Z;if(de.showLabelBackdrop){const V=Ja(de.backdropPadding),K=ne.heights[E],ee=ne.widths[E];let ce=P-V.top,fe=0-V.left;switch(O){case"middle":ce-=K/2;break;case"bottom":ce-=K;break}switch(L){case"center":fe-=ee/2;break;case"right":fe-=ee;break;case"inner":E===M-1?fe-=ee:E>0&&(fe-=ee/2);break}Z={left:fe,top:ce,width:ee+V.width,height:K+V.height,color:de.backdropColor}}T.push({label:re,font:B,textOffset:P,options:{rotation:A,color:oe,strokeColor:ae,strokeWidth:ge,textAlign:me,textBaseline:O,translation:[J,te],backdrop:Z}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-dh(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,u=a.widest.width;let d,p;return t==="left"?i?(p=this.right+s,r==="near"?d="left":r==="center"?(d="center",p+=u/2):(d="right",p+=u)):(p=this.right-l,r==="near"?d="right":r==="center"?(d="center",p-=u/2):(d="left",p=this.left)):t==="right"?i?(p=this.left+s,r==="near"?d="right":r==="center"?(d="center",p-=u/2):(d="left",p-=u)):(p=this.left+l,r==="near"?d="left":r==="center"?(d="center",p+=u/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(u,d,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const u=i[s];t.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,p,y,b;this.isHorizontal()?(d=th(e,this.left,a)-a/2,p=th(e,this.right,l)+l/2,y=b=u):(y=th(e,this.top,a)-a/2,b=th(e,this.bottom,l)+l/2,d=p=u),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,y),t.lineTo(p,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&$v(r,i);const s=this.getLabelItems(e);for(const a of s){const l=a.options,u=a.font,d=a.label,p=a.textOffset;cp(r,d,0,p,u,l)}i&&Gv(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=ss(r.font),a=Ja(r.padding),l=r.align;let u=s.lineHeight/2;t==="bottom"||t==="center"||bn(t)?(u+=a.bottom,Zr(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:d,titleY:p,maxWidth:y,rotation:b}=zO(this,u,t,l);cp(e,r.text,0,0,s,{color:r.color,maxWidth:y,rotation:b,textAlign:BO(l,t,i),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=an(e.grid&&e.grid.z,-1),i=an(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Hd.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const l=t[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ss(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Dm{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;HO(t)&&(r=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,UO(e,a,r),this.override&&Mr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Mr[i]&&(delete Mr[i][r],this.override&&delete kh[r])}}function UO(n,e,t){const r=ap(Object.create(null),[t?Mr.get(t):{},Mr.get(e),n.defaults]);Mr.set(e,r),n.defaultRoutes&&qO(e,n.defaultRoutes),n.descriptors&&Mr.describe(e,n.descriptors)}function qO(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),a=e[t].split("."),l=a.pop(),u=a.join(".");Mr.route(s,i,u,l)})}function HO(n){return"id"in n&&"defaults"in n}class WO{constructor(){this.controllers=new Dm(Wf,"datasets",!0),this.elements=new Dm(Vo,"elements"),this.plugins=new Dm(Object,"plugins"),this.scales=new Dm(Hd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Bn(i,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,r){const i=zv(e);tr(r["before"+i],[],r),t[e](r),tr(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var pl=new WO;class $O{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){i=i||{};for(const s of e){const a=s.plugin,l=a[r],u=[t,i,s.options];if(tr(l,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Gn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=an(r.options&&r.options.plugins,{}),s=GO(r);return i===!1&&!t?[]:YO(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function GO(n){const e={},t=[],r=Object.keys(pl.plugins.items);for(let s=0;s<r.length;s++)t.push(pl.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function KO(n,e){return!e&&n===!1?null:n===!0?{}:n}function YO(n,{plugins:e,localIds:t},r,i){const s=[],a=n.getContext();for(const l of e){const u=l.id,d=KO(r[u],i);d!==null&&s.push({plugin:l,options:QO(n.config,{plugin:l,local:t[u]},d,a)})}return s}function QO(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(r,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gy(n,e){const t=Mr.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function XO(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function JO(n,e){return n===e?"_index_":"_value_"}function S4(n){if(n==="x"||n==="y"||n==="r")return n}function ZO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function yy(n,...e){if(S4(n))return n;for(const t of e){const r=t.axis||ZO(t.position)||n.length>1&&S4(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function k4(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function eF(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return k4(n,"x",t[0])||k4(n,"y",t[0])}return{}}function tF(n,e){const t=kh[n.type]||{scales:{}},r=e.scales||{},i=gy(n.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!bn(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=yy(a,l,eF(a,n),Mr.scales[l.type]),d=JO(u,i),p=t.scales||{};s[a]=zf(Object.create(null),[{axis:u},l,p[u],p[d]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,u=a.indexAxis||gy(l,e),p=(kh[l]||{}).scales||{};Object.keys(p).forEach(y=>{const b=XO(y,u),v=a[b+"AxisID"]||b;s[v]=s[v]||Object.create(null),zf(s[v],[{axis:b},r[v],p[y]])})}),Object.keys(s).forEach(a=>{const l=s[a];zf(l,[Mr.scales[l.type],Mr.scale])}),s}function pS(n){const e=n.options||(n.options={});e.plugins=an(e.plugins,{}),e.scales=tF(n,e)}function mS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function nF(n){return n=n||{},n.data=mS(n.data),pS(n),n}const A4=new Map,gS=new Set;function Mm(n,e){let t=A4.get(n);return t||(t=e(),A4.set(n,t),gS.add(t)),t}const vf=(n,e,t)=>{const r=Cd(e,t);r!==void 0&&n.add(r)};class rF{constructor(e){this._config=nF(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),pS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Mm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Mm(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Mm(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Mm(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),l=a.get(t);if(l)return l;const u=new Set;t.forEach(p=>{e&&(u.add(e),p.forEach(y=>vf(u,e,y))),p.forEach(y=>vf(u,i,y)),p.forEach(y=>vf(u,kh[s]||{},y)),p.forEach(y=>vf(u,Mr,y)),p.forEach(y=>vf(u,py,y))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),gS.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,kh[t]||{},Mr.datasets[t]||{},{type:t},Mr,py]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=E4(this._resolverCache,e,i);let u=a;if(sF(a,t)){s.$shared=!1,r=Tu(r)?r():r;const d=this.createResolver(e,r,l);u=Rd(a,r,d)}for(const d of t)s[d]=u[d];return s}createResolver(e,t,r=[""],i){const{resolver:s}=E4(this._resolverCache,e,r);return bn(t)?Rd(s,t,void 0,i):s}}function E4(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:Yv(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const iF=n=>bn(n)&&Object.getOwnPropertyNames(n).some(e=>Tu(n[e]));function sF(n,e){const{isScriptable:t,isIndexable:r}=JN(n);for(const i of e){const s=t(i),a=r(i),l=(a||s)&&n[i];if(s&&(Tu(l)||iF(l))||a&&Zr(l))return!0}return!1}var aF="4.4.9";const oF=["top","bottom","left","right","chartArea"];function T4(n,e){return n==="top"||n==="bottom"||oF.indexOf(n)===-1&&e==="x"}function I4(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function P4(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),tr(t&&t.onComplete,[n],e)}function lF(n){const e=n.chart,t=e.options.animation;tr(t&&t.onProgress,[n],e)}function yS(n){return Jv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ig={},j4=n=>{const e=yS(n);return Object.values(ig).filter(t=>t.canvas===e).pop()};function cF(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const a=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=a)}}}function uF(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var su;let j0=(su=class{static register(...e){pl.add(...e),C4()}static unregister(...e){pl.remove(...e),C4()}constructor(e,t){const r=this.config=new rF(t),i=yS(e),s=j4(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||TO(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,p=u&&u.width;if(this.id=lD(),this.ctx=l,this.canvas=u,this.width=p,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $O,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ED(y=>this.update(y),a.resizeDelay||0),this._dataChanges=[],ig[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}tc.listen(this,"complete",P4),tc.listen(this,"progress",lF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return Gn(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return pl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():e4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xw(this.canvas,this.ctx),this}stop(){return tc.stop(this),this}resize(e,t){tc.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,e4(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),tr(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Bn(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const l=t[a],u=yy(a,l),d=u==="r",p=u==="x";return{options:l,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Bn(s,a=>{const l=a.options,u=l.id,d=yy(u,l),p=an(l.type,a.dtype);(l.position===void 0||T4(l.position,d)!==T4(a.dposition))&&(l.position=a.dposition),i[u]=!0;let y=null;if(u in r&&r[u].type===p)y=r[u];else{const b=pl.getScale(p);y=new b({id:u,type:p,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(l,e)}),Bn(i,(a,l)=>{a||delete r[l]}),Bn(r,a=>{$a.configure(this,a,a.options),$a.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(I4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||gy(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=pl.getController(l),{datasetElementType:d,dataElementType:p}=Mr.datasets[l];Object.assign(u,{dataElementType:pl.getElement(p),datasetElementType:d&&pl.getElement(d)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Bn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),b=!i&&s.indexOf(y)===-1;y.buildOrUpdateElements(b),a=Math.max(+y.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Bn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(I4("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Bn(this.scales,e=>{$a.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!zw(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const a=r==="_removeElements"?-s:s;cF(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!zw(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$a.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Bn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Tu(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tc.has(this)?this.attached&&!tc.running(this)&&tc.start(this):(this.draw(),P4({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=jM(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&$v(t,i),e.controller.draw(),i&&Gv(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return lp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=oO.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Rh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);op(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),tc.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Xw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ig[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Bn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(u,d)=>{t.addEventListener(this,u,d),e[u]=d},i=(u,d)=>{e[u]&&(t.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){Bn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Bn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,a,l,u;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Dg(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(u,d)=>u.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),a=s(t,e),l=r?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=t,l=this._getActiveElements(e,i,r,a),u=pD(e),d=uF(e,this._lastEvent,r,u);r&&(this._lastEvent=null,tr(s.onHover,[e,l,this],this),u&&tr(s.onClick,[e,l,this],this));const p=!Dg(l,i);return(p||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=d,p}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},At(su,"defaults",Mr),At(su,"instances",ig),At(su,"overrides",kh),At(su,"registry",pl),At(su,"version",aF),At(su,"getChart",j4),su);function C4(){return Bn(j0.instances,n=>n._plugins.invalidate())}function hF(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:u}=e;let d=i/l;n.beginPath(),n.arc(s,a,l,r-d,t+d),u>i?(d=i/u,n.arc(s,a,u,t+d,r-d,!0)):n.arc(s,a,i,t+ji,r-ji),n.closePath(),n.clip()}function dF(n){return Kv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function fF(n,e,t,r){const i=dF(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,r*e/2),l=u=>{const d=(t-Math.min(s,u))*r/2;return Js(u,0,Math.min(s,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Js(i.innerStart,0,a),innerEnd:Js(i.innerEnd,0,a)}}function id(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Ug(n,e,t,r,i,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:p}=e,y=Math.max(e.outerRadius+r+t-d,0),b=p>0?p+r+t+d:0;let v=0;const S=i-u;if(r){const de=p>0?p-r:0,ye=y>0?y-r:0,oe=(de+ye)/2,ae=oe!==0?S*oe/(oe+r):S;v=(S-ae)/2}const A=Math.max(.001,S*y-t/Ur)/y,T=(S-A)/2,E=u+T+v,M=i-T-v,{outerStart:q,outerEnd:re,innerStart:J,innerEnd:te}=fF(e,b,y,M-E),L=y-q,C=y-re,B=E+q/L,z=M-re/C,j=b+J,P=b+te,O=E+J/j,ne=M-te/P;if(n.beginPath(),s){const de=(B+z)/2;if(n.arc(a,l,y,B,de),n.arc(a,l,y,de,z),re>0){const ge=id(C,z,a,l);n.arc(ge.x,ge.y,re,z,M+ji)}const ye=id(P,M,a,l);if(n.lineTo(ye.x,ye.y),te>0){const ge=id(P,ne,a,l);n.arc(ge.x,ge.y,te,M+ji,ne+Math.PI)}const oe=(M-te/b+(E+J/b))/2;if(n.arc(a,l,b,M-te/b,oe,!0),n.arc(a,l,b,oe,E+J/b,!0),J>0){const ge=id(j,O,a,l);n.arc(ge.x,ge.y,J,O+Math.PI,E-ji)}const ae=id(L,E,a,l);if(n.lineTo(ae.x,ae.y),q>0){const ge=id(L,B,a,l);n.arc(ge.x,ge.y,q,E-ji,B)}}else{n.moveTo(a,l);const de=Math.cos(B)*y+a,ye=Math.sin(B)*y+l;n.lineTo(de,ye);const oe=Math.cos(z)*y+a,ae=Math.sin(z)*y+l;n.lineTo(oe,ae)}n.closePath()}function pF(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:l}=e;let u=e.endAngle;if(s){Ug(n,e,t,r,u,i);for(let d=0;d<s;++d)n.fill();isNaN(l)||(u=a+(l%Ci||Ci))}return Ug(n,e,t,r,u,i),n.fill(),u}function mF(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:b}=u,v=u.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=b,v?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let S=e.endAngle;if(s){Ug(n,e,t,r,S,i);for(let A=0;A<s;++A)n.stroke();isNaN(l)||(S=a+(l%Ci||Ci))}v&&hF(n,e,S),s||(Ug(n,e,t,r,S,i),n.stroke())}class jf extends Vo{constructor(t){super();At(this,"circumference");At(this,"endAngle");At(this,"fullCircles");At(this,"innerRadius");At(this,"outerRadius");At(this,"pixelMargin");At(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:l}=qN(s,{x:t,y:r}),{startAngle:u,endAngle:d,innerRadius:p,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,S=an(b,d-u),A=Uv(a,u,d)&&u!==d,T=S>=Ci||A,E=du(l,p+v,y+v);return T&&E}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:p}=this.options,y=(s+a)/2,b=(l+u+p+d)/2;return{x:r+Math.cos(y)*b,y:i+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Ci?Math.floor(i/Ci):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*s,Math.sin(u)*s);const d=1-Math.sin(Math.min(Ur,i||0)),p=s*d;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,pF(t,this,p,a,l),mF(t,this,p,a,l),t.restore()}}At(jf,"id","arc"),At(jf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),At(jf,"defaultRoutes",{backgroundColor:"backgroundColor"}),At(jf,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function vS(n,e,t=e){n.lineCap=an(t.borderCapStyle,e.borderCapStyle),n.setLineDash(an(t.borderDash,e.borderDash)),n.lineDashOffset=an(t.borderDashOffset,e.borderDashOffset),n.lineJoin=an(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=an(t.borderWidth,e.borderWidth),n.strokeStyle=an(t.borderColor,e.borderColor)}function gF(n,e,t){n.lineTo(t.x,t.y)}function yF(n){return n.stepped?VD:n.tension||n.cubicInterpolationMode==="monotone"?BD:gF}function xS(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:a,end:l}=e,u=Math.max(i,a),d=Math.min(s,l),p=i<a&&s<a||i>l&&s>l;return{count:r,start:u,loop:e.loop,ilen:d<u&&!p?r+d-u:d-u}}function vF(n,e,t,r){const{points:i,options:s}=e,{count:a,start:l,loop:u,ilen:d}=xS(i,t,r),p=yF(s);let{move:y=!0,reverse:b}=r||{},v,S,A;for(v=0;v<=d;++v)S=i[(l+(b?d-v:v))%a],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):p(n,A,S,b,s.stepped),A=S);return u&&(S=i[(l+(b?d:0))%a],p(n,A,S,b,s.stepped)),!!u}function xF(n,e,t,r){const i=e.points,{count:s,start:a,ilen:l}=xS(i,t,r),{move:u=!0,reverse:d}=r||{};let p=0,y=0,b,v,S,A,T,E;const M=re=>(a+(d?l-re:re))%s,q=()=>{A!==T&&(n.lineTo(p,T),n.lineTo(p,A),n.lineTo(p,E))};for(u&&(v=i[M(0)],n.moveTo(v.x,v.y)),b=0;b<=l;++b){if(v=i[M(b)],v.skip)continue;const re=v.x,J=v.y,te=re|0;te===S?(J<A?A=J:J>T&&(T=J),p=(y*p+re)/++y):(q(),n.lineTo(re,J),S=te,y=0,A=T=J),E=J}q()}function vy(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?xF:vF}function bF(n){return n.stepped?vM:n.tension||n.cubicInterpolationMode==="monotone"?xM:oh}function wF(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),vS(n,e.options),n.stroke(i)}function _F(n,e,t,r){const{segments:i,options:s}=e,a=vy(e);for(const l of i)vS(n,s,l.style),n.beginPath(),a(n,e,l,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const NF=typeof Path2D=="function";function SF(n,e,t,r){NF&&!e.options.segment?wF(n,e,t,r):_F(n,e,t,r)}class Cf extends Vo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;uM(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=EM(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,a=SM(this,{property:t,start:i,end:i});if(!a.length)return;const l=[],u=bF(r);let d,p;for(d=0,p=a.length;d<p;++d){const{start:y,end:b}=a[d],v=s[y],S=s[b];if(v===S){l.push(v);continue}const A=Math.abs((i-v[t])/(S[t]-v[t])),T=u(v,S,A,r.stepped);T[t]=e[t],l.push(T)}return l.length===1?l[0]:l}pathSegment(e,t,r){return vy(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=vy(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const l of i)a&=s(e,this,l,{start:t,end:t+r-1});return!!a}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),SF(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}At(Cf,"id","line"),At(Cf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),At(Cf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),At(Cf,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function R4(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class sg extends Vo{constructor(t){super();At(this,"parsed");At(this,"skip");At(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(r-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return R4(this,t,"x",r)}inYRange(t,r){return R4(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!lp(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,my(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}At(sg,"id","point"),At(sg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),At(sg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function bS(n,e){const{x:t,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let l,u,d,p,y;return n.horizontal?(y=a/2,l=Math.min(t,i),u=Math.max(t,i),d=r-y,p=r+y):(y=s/2,l=t-y,u=t+y,d=Math.min(r,i),p=Math.max(r,i)),{left:l,top:d,right:u,bottom:p}}function fu(n,e,t,r){return n?0:Js(e,t,r)}function kF(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=XN(r);return{t:fu(i.top,s.top,0,t),r:fu(i.right,s.right,0,e),b:fu(i.bottom,s.bottom,0,t),l:fu(i.left,s.left,0,e)}}function AF(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=_d(i),a=Math.min(e,t),l=n.borderSkipped,u=r||bn(i);return{topLeft:fu(!u||l.top||l.left,s.topLeft,0,a),topRight:fu(!u||l.top||l.right,s.topRight,0,a),bottomLeft:fu(!u||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:fu(!u||l.bottom||l.right,s.bottomRight,0,a)}}function EF(n){const e=bS(n),t=e.right-e.left,r=e.bottom-e.top,i=kF(n,t/2,r/2),s=AF(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function h2(n,e,t,r){const i=e===null,s=t===null,l=n&&!(i&&s)&&bS(n,r);return l&&(i||du(e,l.left,l.right))&&(s||du(t,l.top,l.bottom))}function TF(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function IF(n,e){n.rect(e.x,e.y,e.w,e.h)}function d2(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class ag extends Vo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=EF(this),l=TF(a.radius)?Vg:IF;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),l(e,d2(a,t,s)),e.clip(),l(e,d2(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,d2(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return h2(this,e,t,r)}inXRange(e,t){return h2(this,e,null,t)}inYRange(e,t){return h2(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}At(ag,"id","bar"),At(ag,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),At(ag,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const L4=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},PF=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class D4 extends Vo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=tr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=ss(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=L4(r,s);let d,p;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(a,s,l,u)+10):(p=this.maxHeight,d=this._fitCols(a,i,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],p=i+l;let y=e;s.textAlign="left",s.textBaseline="middle";let b=-1,v=-p;return this.legendItems.forEach((S,A)=>{const T=r+t/2+s.measureText(S.text).width;(A===0||d[d.length-1]+T+2*l>a)&&(y+=p,d[d.length-(A>0?0:1)]=0,v+=p,b++),u[A]={left:0,top:v,row:b,width:T,height:i},d[d.length-1]+=T+l}),y}_fitCols(e,t,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],p=a-e;let y=l,b=0,v=0,S=0,A=0;return this.legendItems.forEach((T,E)=>{const{itemWidth:M,itemHeight:q}=jF(r,t,s,T,i);E>0&&v+q+2*l>p&&(y+=b+l,d.push({width:b,height:v}),S+=b+l,A++,b=v=0),u[E]={left:S,top:v,col:A,width:M,height:q},b=Math.max(b,M),v+=q+l}),y+=b,d.push({width:b,height:v}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Nd(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=es(r,this.left+i,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,u=es(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+i}else{let l=0,u=es(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,u=es(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;$v(e,this),this._draw(),Gv(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,l=Mr.color,u=Nd(e.rtl,this.left,this.width),d=ss(a.font),{padding:p}=a,y=d.size,b=y/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:S,boxHeight:A,itemHeight:T}=L4(a,y),E=function(te,L,C){if(isNaN(S)||S<=0||isNaN(A)||A<0)return;i.save();const B=an(C.lineWidth,1);if(i.fillStyle=an(C.fillStyle,l),i.lineCap=an(C.lineCap,"butt"),i.lineDashOffset=an(C.lineDashOffset,0),i.lineJoin=an(C.lineJoin,"miter"),i.lineWidth=B,i.strokeStyle=an(C.strokeStyle,l),i.setLineDash(an(C.lineDash,[])),a.usePointStyle){const z={radius:A*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:B},j=u.xPlus(te,S/2),P=L+b;QN(i,z,j,P,a.pointStyleWidth&&S)}else{const z=L+Math.max((y-A)/2,0),j=u.leftForLtr(te,S),P=_d(C.borderRadius);i.beginPath(),Object.values(P).some(O=>O!==0)?Vg(i,{x:j,y:z,w:S,h:A,radius:P}):i.rect(j,z,S,A),i.fill(),B!==0&&i.stroke()}i.restore()},M=function(te,L,C){cp(i,C.text,te,L+T/2,d,{strikethrough:C.hidden,textAlign:u.textAlign(C.textAlign)})},q=this.isHorizontal(),re=this._computeTitleHeight();q?v={x:es(s,this.left+p,this.right-r[0]),y:this.top+p+re,line:0}:v={x:this.left+p,y:es(s,this.top+re+p,this.bottom-t[0].height),line:0},rS(this.ctx,e.textDirection);const J=T+p;this.legendItems.forEach((te,L)=>{i.strokeStyle=te.fontColor,i.fillStyle=te.fontColor;const C=i.measureText(te.text).width,B=u.textAlign(te.textAlign||(te.textAlign=a.textAlign)),z=S+b+C;let j=v.x,P=v.y;u.setWidth(this.width),q?L>0&&j+z+p>this.right&&(P=v.y+=J,v.line++,j=v.x=es(s,this.left+p,this.right-r[v.line])):L>0&&P+J>this.bottom&&(j=v.x=j+t[v.line].width+p,v.line++,P=v.y=es(s,this.top+re+p,this.bottom-t[v.line].height));const O=u.x(j);if(E(O,P,te),j=TD(B,j+S+b,q?j+z:this.right,e.rtl),M(u.x(j),P,te),q)v.x+=z+p;else if(typeof te.text!="string"){const ne=d.lineHeight;v.y+=wS(te,ne)+p}else v.y+=J}),iS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=ss(t.font),i=Ja(t.padding);if(!t.display)return;const s=Nd(e.rtl,this.left,this.width),a=this.ctx,l=t.position,u=r.size/2,d=i.top+u;let p,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+d,y=es(e.align,y,this.right-b);else{const S=this.columnSizes.reduce((A,T)=>Math.max(A,T.height),0);p=d+es(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const v=es(l,y,y+b);a.textAlign=s.textAlign(Hv(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,cp(a,t.text,v,p,r)}_computeTitleHeight(){const e=this.options.title,t=ss(e.font),r=Ja(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(du(e,this.left,this.right)&&du(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],du(e,i.left,i.left+i.width)&&du(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!LF(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=PF(i,r);i&&!s&&tr(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&tr(t.onHover,[e,r,this],this)}else r&&tr(t.onClick,[e,r,this],this)}}function jF(n,e,t,r,i){const s=CF(r,n,e,t),a=RF(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function CF(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+r.measureText(i).width}function RF(n,e,t){let r=n;return typeof e.text!="string"&&(r=wS(e,t)),r}function wS(n,e){const t=n.text?n.text.length:0;return e*t}function LF(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var DF={id:"legend",_element:D4,start(n,e,t){const r=n.legend=new D4({ctx:n.ctx,options:t,chart:n});$a.configure(n,r,t),$a.addBox(n,r)},stop(n){$a.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;$a.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(t?0:void 0),p=Ja(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class _S extends Vo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Zr(r.text)?r.text.length:1;this._padding=Ja(r.padding);const s=i*ss(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:a}=this,l=a.align;let u=0,d,p,y;return this.isHorizontal()?(p=es(l,r,s),y=t+e,d=s-r):(a.position==="left"?(p=r+e,y=es(l,i,t),u=Ur*-.5):(p=s-e,y=es(l,t,i),u=Ur*.5),d=i-t),{titleX:p,titleY:y,maxWidth:d,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=ss(t.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(s);cp(e,t.text,0,0,r,{color:t.color,maxWidth:u,rotation:d,textAlign:Hv(t.align),textBaseline:"middle",translation:[a,l]})}}function MF(n,e){const t=new _S({ctx:n.ctx,options:e,chart:n});$a.configure(n,t,e),$a.addBox(n,t),n.titleBlock=t}var OF={id:"title",_element:_S,start(n,e,t){MF(n,t)},stop(n){const e=n.titleBlock;$a.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;$a.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rf={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const l=n[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=n.length;s<a;++s){const u=n[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),p=dy(e,d);p<i&&(i=p,l=u)}}if(l){const u=l.tooltipPosition();t=u.x,r=u.y}return{x:t,y:r}}};function fl(n,e){return e&&(Zr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function nc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function FF(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:a,value:l}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function M4(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:l}=e,u=ss(e.bodyFont),d=ss(e.titleFont),p=ss(e.footerFont),y=s.length,b=i.length,v=r.length,S=Ja(e.padding);let A=S.height,T=0,E=r.reduce((re,J)=>re+J.before.length+J.lines.length+J.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,y&&(A+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),E){const re=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;A+=v*re+(E-v)*u.lineHeight+(E-1)*e.bodySpacing}b&&(A+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let M=0;const q=function(re){T=Math.max(T,t.measureText(re).width+M)};return t.save(),t.font=d.string,Bn(n.title,q),t.font=u.string,Bn(n.beforeBody.concat(n.afterBody),q),M=e.displayColors?a+2+e.boxPadding:0,Bn(r,re=>{Bn(re.before,q),Bn(re.lines,q),Bn(re.after,q)}),M=0,t.font=p.string,Bn(n.footer,q),t.restore(),T+=S.width,{width:T,height:A}}function VF(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function BF(n,e,t,r){const{x:i,width:s}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&i+s+a>e.width||n==="right"&&i-s-a<0)return!0}function zF(n,e,t,r){const{x:i,width:s}=t,{width:a,chartArea:{left:l,right:u}}=n;let d="center";return r==="center"?d=i<=(l+u)/2?"left":"right":i<=s/2?d="left":i>=a-s/2&&(d="right"),BF(d,n,e,t)&&(d="center"),d}function O4(n,e,t){const r=t.yAlign||e.yAlign||VF(n,t);return{xAlign:t.xAlign||e.xAlign||zF(n,e,t,r),yAlign:r}}function UF(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function qF(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function F4(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:u}=t,d=i+s,{topLeft:p,topRight:y,bottomLeft:b,bottomRight:v}=_d(a);let S=UF(e,l);const A=qF(e,u,d);return u==="center"?l==="left"?S+=d:l==="right"&&(S-=d):l==="left"?S-=Math.max(p,b)+i:l==="right"&&(S+=Math.max(y,v)+i),{x:Js(S,0,r.width-e.width),y:Js(A,0,r.height-e.height)}}function Om(n,e,t){const r=Ja(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function V4(n){return fl([],nc(n))}function HF(n,e,t){return Rh(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function B4(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const NS={beforeTitle:ec,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:ec,beforeBody:ec,beforeLabel:ec,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Gn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ec,afterBody:ec,beforeFooter:ec,footer:ec,afterFooter:ec};function $s(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?NS[e].call(t,r):i}class xy extends Vo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new aS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=HF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=$s(r,"beforeTitle",this,e),s=$s(r,"title",this,e),a=$s(r,"afterTitle",this,e);let l=[];return l=fl(l,nc(i)),l=fl(l,nc(s)),l=fl(l,nc(a)),l}getBeforeBody(e,t){return V4($s(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Bn(e,s=>{const a={before:[],lines:[],after:[]},l=B4(r,s);fl(a.before,nc($s(l,"beforeLabel",this,s))),fl(a.lines,$s(l,"label",this,s)),fl(a.after,nc($s(l,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return V4($s(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=$s(r,"beforeFooter",this,e),s=$s(r,"footer",this,e),a=$s(r,"afterFooter",this,e);let l=[];return l=fl(l,nc(i)),l=fl(l,nc(s)),l=fl(l,nc(a)),l}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],a=[];let l=[],u,d;for(u=0,d=t.length;u<d;++u)l.push(FF(this.chart,t[u]));return e.filter&&(l=l.filter((p,y,b)=>e.filter(p,y,b,r))),e.itemSort&&(l=l.sort((p,y)=>e.itemSort(p,y,r))),Bn(l,p=>{const y=B4(e.callbacks,p);i.push($s(y,"labelColor",this,p)),s.push($s(y,"labelPointStyle",this,p)),a.push($s(y,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Rf[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=M4(this,r),d=Object.assign({},l,u),p=O4(this.chart,r,d),y=F4(r,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:y.x,y:y.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:p,bottomRight:y}=_d(l),{x:b,y:v}=e,{width:S,height:A}=t;let T,E,M,q,re,J;return s==="center"?(re=v+A/2,i==="left"?(T=b,E=T-a,q=re+a,J=re-a):(T=b+S,E=T+a,q=re-a,J=re+a),M=T):(i==="left"?E=b+Math.max(u,p)+a:i==="right"?E=b+S-Math.max(d,y)-a:E=this.caretX,s==="top"?(q=v,re=q-a,T=E-a,M=E+a):(q=v+A,re=q+a,T=E+a,M=E-a),J=q),{x1:T,x2:E,x3:M,y1:q,y2:re,y3:J}}drawTitle(e,t,r){const i=this.title,s=i.length;let a,l,u;if(s){const d=Nd(r.rtl,this.x,this.width);for(e.x=Om(this,r.titleAlign,r),t.textAlign=d.textAlign(r.titleAlign),t.textBaseline="middle",a=ss(r.titleFont),l=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,u=0;u<s;++u)t.fillText(i[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,t,r,i,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,p=ss(s.bodyFont),y=Om(this,"left",s),b=i.x(y),v=u<p.lineHeight?(p.lineHeight-u)/2:0,S=t.y+v;if(s.usePointStyle){const A={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},T=i.leftForLtr(b,d)+d/2,E=S+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,my(e,A,T,E),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,my(e,A,T,E)}else{e.lineWidth=bn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const A=i.leftForLtr(b,d),T=i.leftForLtr(i.xPlus(b,1),d-2),E=_d(a.borderRadius);Object.values(E).some(M=>M!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Vg(e,{x:A,y:S,w:d,h:u,radius:E}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Vg(e,{x:T,y:S+1,w:d-2,h:u-2,radius:E}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(A,S,d,u),e.strokeRect(A,S,d,u),e.fillStyle=a.backgroundColor,e.fillRect(T,S+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:p}=r,y=ss(r.bodyFont);let b=y.lineHeight,v=0;const S=Nd(r.rtl,this.x,this.width),A=function(C){t.fillText(C,S.x(e.x+v),e.y+b/2),e.y+=b+s},T=S.textAlign(a);let E,M,q,re,J,te,L;for(t.textAlign=a,t.textBaseline="middle",t.font=y.string,e.x=Om(this,T,r),t.fillStyle=r.bodyColor,Bn(this.beforeBody,A),v=l&&T!=="right"?a==="center"?d/2+p:d+2+p:0,re=0,te=i.length;re<te;++re){for(E=i[re],M=this.labelTextColors[re],t.fillStyle=M,Bn(E.before,A),q=E.lines,l&&q.length&&(this._drawColorBox(t,e,re,S,r),b=Math.max(y.lineHeight,u)),J=0,L=q.length;J<L;++J)A(q[J]),b=y.lineHeight;Bn(E.after,A)}v=0,b=y.lineHeight,Bn(this.afterBody,A),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let a,l;if(s){const u=Nd(r.rtl,this.x,this.width);for(e.x=Om(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=u.textAlign(r.footerAlign),t.textBaseline="middle",a=ss(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,l=0;l<s;++l)t.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:p}=r,{topLeft:y,topRight:b,bottomLeft:v,bottomRight:S}=_d(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+y,u),a==="top"&&this.drawCaret(e,t,r,i),t.lineTo(l+d-b,u),t.quadraticCurveTo(l+d,u,l+d,u+b),a==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(l+d,u+p-S),t.quadraticCurveTo(l+d,u+p,l+d-S,u+p),a==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(l+v,u+p),t.quadraticCurveTo(l,u+p,l,u+p-v),a==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(l,u+y),t.quadraticCurveTo(l,u,l+y,u),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Rf[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=M4(this,e),u=Object.assign({},a,this._size),d=O4(t,e,u),p=F4(e,u,d,t);(i._to!==p.x||s._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ja(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),rS(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),iS(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!Dg(r,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),l=this._positionChanged(a,e),u=t||!Dg(a,s)||l;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,a=Rf[s.position].call(this,e,t);return a!==!1&&(r!==a.x||i!==a.y)}}At(xy,"positioners",Rf);var WF={id:"tooltip",_element:xy,positioners:Rf,afterInit(n,e,t){t&&(n.tooltip=new xy({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:NS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $F=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function GF(n,e,t,r){const i=n.indexOf(e);if(i===-1)return $F(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const KF=(n,e)=>n===null?null:Js(Math.round(n),0,e);function z4(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class by extends Hd{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Gn(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:GF(r,e,an(t,e),this._addedLabels),KF(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return z4.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}At(by,"id","category"),At(by,"defaults",{ticks:{callback:z4}});function YF(n,e){const t=[],{bounds:i,step:s,min:a,max:l,precision:u,count:d,maxTicks:p,maxDigits:y,includeBounds:b}=n,v=s||1,S=p-1,{min:A,max:T}=e,E=!Gn(a),M=!Gn(l),q=!Gn(d),re=(T-A)/(y+1);let J=qw((T-A)/S/v)*v,te,L,C,B;if(J<1e-14&&!E&&!M)return[{value:A},{value:T}];B=Math.ceil(T/J)-Math.floor(A/J),B>S&&(J=qw(B*J/S/v)*v),Gn(u)||(te=Math.pow(10,u),J=Math.ceil(J*te)/te),i==="ticks"?(L=Math.floor(A/J)*J,C=Math.ceil(T/J)*J):(L=A,C=T),E&&M&&s&&xD((l-a)/s,J/1e3)?(B=Math.round(Math.min((l-a)/J,p)),J=(l-a)/B,L=a,C=l):q?(L=E?a:L,C=M?l:C,B=d-1,J=(C-L)/B):(B=(C-L)/J,Uf(B,Math.round(B),J/1e3)?B=Math.round(B):B=Math.ceil(B));const z=Math.max(Hw(J),Hw(L));te=Math.pow(10,Gn(u)?z:u),L=Math.round(L*te)/te,C=Math.round(C*te)/te;let j=0;for(E&&(b&&L!==a?(t.push({value:a}),L<a&&j++,Uf(Math.round((L+j*J)*te)/te,a,U4(a,re,n))&&j++):L<a&&j++);j<B;++j){const P=Math.round((L+j*J)*te)/te;if(M&&P>l)break;t.push({value:P})}return M&&b&&C!==l?t.length&&Uf(t[t.length-1].value,l,U4(l,re,n))?t[t.length-1].value=l:t.push({value:l}):(!M||C===l)&&t.push({value:C}),t}function U4(n,e,{horizontal:t,minRotation:r}){const i=dh(r),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class QF extends Hd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Gn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=u=>i=t?i:u,l=u=>s=r?s:u;if(e){const u=_l(i),d=_l(s);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||a(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=YF(i,s);return e.bounds==="ticks"&&bD(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return KN(e,this.chart.options.locale,this.options.ticks.format)}}class wy extends QF{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Xa(e)?e:0,this.max=Xa(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=dh(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}At(wy,"id","linear"),At(wy,"defaults",{ticks:{callback:YN.formatters.numeric}});const C0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qs=Object.keys(C0);function q4(n,e){return n-e}function H4(n,e){if(Gn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Xa(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(Fg(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function W4(n,e,t,r){const i=Qs.length;for(let s=Qs.indexOf(n);s<i-1;++s){const a=C0[Qs[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=r)return Qs[s]}return Qs[i-1]}function XF(n,e,t,r,i){for(let s=Qs.length-1;s>=Qs.indexOf(t);s--){const a=Qs[s];if(C0[a].common&&n._adapter.diff(i,r,a)>=e-1)return a}return Qs[t?Qs.indexOf(t):0]}function JF(n){for(let e=Qs.indexOf(n)+1,t=Qs.length;e<t;++e)if(C0[Qs[e]].common)return Qs[e]}function $4(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=qv(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function ZF(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let l,u;for(l=s;l<=a;l=+i.add(l,1,r))u=t[l],u>=0&&(e[u].major=!0);return e}function G4(n,e,t){const r=[],i={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],i[l]=a,r.push({value:l,major:!1});return s===0||!t?r:ZF(n,r,i,t)}class qg extends Hd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new nO._date(e.adapters.date);i.init(t),zf(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:H4(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=Xa(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=Xa(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,l=kD(i,s,a);return this._unit=t.unit||(r.autoSkip?W4(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):XF(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:JF(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),G4(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Js(t,0,a),r=Js(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||W4(s.minUnit,t,r,this._getLabelCapacity(t)),l=an(i.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Fg(u)||u===!0,p={};let y=t,b,v;if(d&&(y=+e.startOf(y,"isoWeek",u)),y=+e.startOf(y,d?"day":a),e.diff(r,t,a)>1e5*l)throw new Error(t+" and "+r+" are too far apart with stepSize of "+l+" "+a);const S=i.ticks.source==="data"&&this.getDataTimestamps();for(b=y,v=0;b<r;b=+e.add(b,l,a),v++)$4(p,b,S);return(b===r||i.bounds==="ticks"||v===1)&&$4(p,b,S),Object.keys(p).sort(q4).map(A=>+A)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,i){const s=this.options,a=s.ticks.callback;if(a)return tr(a,[e,t,r],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,p=u&&l[u],y=d&&l[d],b=r[t],v=d&&y&&b&&b.major;return this._adapter.format(e,i||(v?y:p))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=dh(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,G4(this,[e],this._majorUnit),i),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(H4(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return WN(e.sort(q4))}}At(qg,"id","time"),At(qg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fm(n,e,t){let r=0,i=n.length-1,s,a,l,u;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=fy(n,"pos",e)),{pos:s,time:l}=n[r],{pos:a,time:u}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=fy(n,"time",e)),{time:s,pos:l}=n[r],{time:a,pos:u}=n[i]);const d=a-s;return d?l+(u-l)*(e-s)/d:l}class K4 extends qg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Fm(t,this.min),this._tableRange=Fm(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let a,l,u,d,p;for(a=0,l=e.length;a<l;++a)d=e[a],d>=t&&d<=r&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,l=i.length;a<l;++a)p=i[a+1],u=i[a-1],d=i[a],Math.round((p+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Fm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Fm(this._table,r*this._tableRange+this._minPos,!0)}}At(K4,"id","timeseries"),At(K4,"defaults",qg.defaults);const SS="label";function Y4(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function eV(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function kS(n,e){n.labels=e}function AS(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:SS;const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(a=>a[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function tV(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SS;const t={labels:[],datasets:[]};return kS(t,n.labels),AS(t,n.datasets,e),t}function nV(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:d=[],fallbackContent:p,updateMode:y,...b}=n,v=se.useRef(null),S=se.useRef(null),A=()=>{v.current&&(S.current=new j0(v.current,{type:a,data:tV(l,s),options:u&&{...u},plugins:d}),Y4(e,S.current))},T=()=>{Y4(e,null),S.current&&(S.current.destroy(),S.current=null)};return se.useEffect(()=>{!i&&S.current&&u&&eV(S.current,u)},[i,u]),se.useEffect(()=>{!i&&S.current&&kS(S.current.config.data,l.labels)},[i,l.labels]),se.useEffect(()=>{!i&&S.current&&l.datasets&&AS(S.current.config.data,l.datasets,s)},[i,l.datasets]),se.useEffect(()=>{S.current&&(i?(T(),setTimeout(A)):S.current.update(y))},[i,u,l.labels,l.datasets,y]),se.useEffect(()=>{S.current&&(T(),setTimeout(A))},[a]),se.useEffect(()=>(A(),()=>T()),[]),Ga.createElement("canvas",{ref:v,role:"img",height:t,width:r,...b},p)}const rV=se.forwardRef(nV);function iV(n,e){return j0.register(e),se.forwardRef((t,r)=>Ga.createElement(rV,{...t,ref:r,type:n}))}const rh=iV("bar",ng),ES=6048e5,sV=864e5,Q4=Symbol.for("constructDateFrom");function Iu(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Q4 in n?n[Q4](e):n instanceof Date?new n.constructor(e):new Date(e)}function $o(n,e){return Iu(e||n,n)}let aV={};function R0(){return aV}function hp(n,e){var l,u,d,p;const t=R0(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((p=(d=t.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,i=$o(n,e==null?void 0:e.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Hg(n,e){return hp(n,{...e,weekStartsOn:1})}function TS(n,e){const t=$o(n,e==null?void 0:e.in),r=t.getFullYear(),i=Iu(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Hg(i),a=Iu(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Hg(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function X4(n){const e=$o(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function oV(n,...e){const t=Iu.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function J4(n,e){const t=$o(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function lV(n,e,t){const[r,i]=oV(t==null?void 0:t.in,n,e),s=J4(r),a=J4(i),l=+s-X4(s),u=+a-X4(a);return Math.round((l-u)/sV)}function cV(n,e){const t=TS(n,e),r=Iu(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Hg(r)}function uV(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function hV(n){return!(!uV(n)&&typeof n!="number"||isNaN(+$o(n)))}function dV(n,e){const t=$o(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const fV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pV=(n,e,t)=>{let r;const i=fV[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function f2(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const mV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vV={date:f2({formats:mV,defaultWidth:"full"}),time:f2({formats:gV,defaultWidth:"full"}),dateTime:f2({formats:yV,defaultWidth:"full"})},xV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bV=(n,e,t,r)=>xV[n];function xf(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,l=t!=null&&t.width?String(t.width):a;i=n.formattingValues[l]||n.formattingValues[a]}else{const a=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[a]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const wV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_V={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},AV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EV=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},TV={ordinalNumber:EV,era:xf({values:wV,defaultWidth:"wide"}),quarter:xf({values:_V,defaultWidth:"wide",argumentCallback:n=>n-1}),month:xf({values:NV,defaultWidth:"wide"}),day:xf({values:SV,defaultWidth:"wide"}),dayPeriod:xf({values:kV,defaultWidth:"wide",formattingValues:AV,defaultFormattingWidth:"wide"})};function bf(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(l)?PV(l,y=>y.test(a)):IV(l,y=>y.test(a));let d;d=n.valueCallback?n.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const p=e.slice(a.length);return{value:d,rest:p}}}function IV(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function PV(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function jV(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let a=n.valueCallback?n.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const CV=/^(\d+)(th|st|nd|rd)?/i,RV=/\d+/i,LV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DV={any:[/^b/i,/^(a|c)/i]},MV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OV={any:[/1/i,/2/i,/3/i,/4/i]},FV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HV={ordinalNumber:jV({matchPattern:CV,parsePattern:RV,valueCallback:n=>parseInt(n,10)}),era:bf({matchPatterns:LV,defaultMatchWidth:"wide",parsePatterns:DV,defaultParseWidth:"any"}),quarter:bf({matchPatterns:MV,defaultMatchWidth:"wide",parsePatterns:OV,defaultParseWidth:"any",valueCallback:n=>n+1}),month:bf({matchPatterns:FV,defaultMatchWidth:"wide",parsePatterns:VV,defaultParseWidth:"any"}),day:bf({matchPatterns:BV,defaultMatchWidth:"wide",parsePatterns:zV,defaultParseWidth:"any"}),dayPeriod:bf({matchPatterns:UV,defaultMatchWidth:"any",parsePatterns:qV,defaultParseWidth:"any"})},WV={code:"en-US",formatDistance:pV,formatLong:vV,formatRelative:bV,localize:TV,match:HV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $V(n,e){const t=$o(n,e==null?void 0:e.in);return lV(t,dV(t))+1}function GV(n,e){const t=$o(n,e==null?void 0:e.in),r=+Hg(t)-+cV(t);return Math.round(r/ES)+1}function IS(n,e){var p,y,b,v;const t=$o(n,e==null?void 0:e.in),r=t.getFullYear(),i=R0(),s=(e==null?void 0:e.firstWeekContainsDate)??((y=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(b=i.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,a=Iu((e==null?void 0:e.in)||n,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=hp(a,e),u=Iu((e==null?void 0:e.in)||n,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=hp(u,e);return+t>=+l?r+1:+t>=+d?r:r-1}function KV(n,e){var l,u,d,p;const t=R0(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(d=t.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,i=IS(n,e),s=Iu((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),hp(s,e)}function YV(n,e){const t=$o(n,e==null?void 0:e.in),r=+hp(t,e)-+KV(t,e);return Math.round(r/ES)+1}function Vn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const iu={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Vn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Vn(t+1,2)},d(n,e){return Vn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Vn(n.getHours()%12||12,e.length)},H(n,e){return Vn(n.getHours(),e.length)},m(n,e){return Vn(n.getMinutes(),e.length)},s(n,e){return Vn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Vn(i,e.length)}},sd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Z4={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return iu.y(n,e)},Y:function(n,e,t,r){const i=IS(n,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Vn(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Vn(s,e.length)},R:function(n,e){const t=TS(n);return Vn(t,e.length)},u:function(n,e){const t=n.getFullYear();return Vn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Vn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Vn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return iu.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Vn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=YV(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Vn(i,e.length)},I:function(n,e,t){const r=GV(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Vn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):iu.d(n,e)},D:function(n,e,t){const r=$V(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Vn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Vn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Vn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Vn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=sd.noon:r===0?i=sd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=sd.evening:r>=12?i=sd.afternoon:r>=4?i=sd.morning:i=sd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return iu.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):iu.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Vn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Vn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):iu.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):iu.s(n,e)},S:function(n,e){return iu.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return t_(r);case"XXXX":case"XX":return lh(r);case"XXXXX":case"XXX":default:return lh(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return t_(r);case"xxxx":case"xx":return lh(r);case"xxxxx":case"xxx":default:return lh(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+e_(r,":");case"OOOO":default:return"GMT"+lh(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+e_(r,":");case"zzzz":default:return"GMT"+lh(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Vn(r,e.length)},T:function(n,e,t){return Vn(+n,e.length)}};function e_(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Vn(s,2)}function t_(n,e){return n%60===0?(n>0?"-":"+")+Vn(Math.abs(n)/60,2):lh(n,e)}function lh(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Vn(Math.trunc(r/60),2),s=Vn(r%60,2);return t+i+e+s}const n_=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},PS=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},QV=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return n_(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",n_(r,e)).replace("{{time}}",PS(i,e))},XV={p:PS,P:QV},JV=/^D+$/,ZV=/^Y+$/,eB=["D","DD","YY","YYYY"];function tB(n){return JV.test(n)}function nB(n){return ZV.test(n)}function rB(n,e,t){const r=iB(n,e,t);if(console.warn(r),eB.includes(n))throw new RangeError(r)}function iB(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oB=/^'([^]*?)'?$/,lB=/''/g,cB=/[a-zA-Z]/;function uB(n,e,t){var p,y,b,v;const r=R0(),i=r.locale??WV,s=r.firstWeekContainsDate??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,a=r.weekStartsOn??((v=(b=r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??0,l=$o(n,t==null?void 0:t.in);if(!hV(l))throw new RangeError("Invalid time value");let u=e.match(aB).map(S=>{const A=S[0];if(A==="p"||A==="P"){const T=XV[A];return T(S,i.formatLong)}return S}).join("").match(sB).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const A=S[0];if(A==="'")return{isToken:!1,value:hB(S)};if(Z4[A])return{isToken:!0,value:S};if(A.match(cB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(S=>{if(!S.isToken)return S.value;const A=S.value;(nB(A)||tB(A))&&rB(A,e,String(n));const T=Z4[A[0]];return T(l,A,i.localize,d)}).join("")}function hB(n){const e=n.match(oB);return e?e[1].replace(lB,"'"):n}const _s=n=>{if(!n)return null;if(n.toDate&&typeof n.toDate=="function")try{return n.toDate()}catch(e){return console.error("Error converting Firestore Timestamp to Date:",e),null}if(n instanceof Date)return n;try{const e=new Date(n);if(!isNaN(e.getTime()))return e}catch(e){console.error("Error converting timestamp string/number to Date:",e)}return console.warn("Could not convert timestamp:",n),null};j0.register(by,wy,ag,OF,WF,DF,jf,sg,Cf);const dB=()=>{const[n,e]=se.useState({totalBookings:0,totalRevenue:0,activeBookings:0,totalVehicles:0,totalUsers:0,monthlyRevenue:0,bookingTrends:[],vehicleUtilization:[],userGrowth:[],revenuePerVehicle:[],averageBookingDuration:0,vehicleTypePerformance:[],averageLeadTime:0,cancellationRate:0,bookingDurationTrends:[],leadTimeTrends:[]}),[t,r]=se.useState(!0),[i,s]=se.useState(""),[a,l]=se.useState("month"),[u,d]=se.useState("");se.useRef();const p=()=>{window.print()},y=()=>{try{if(d("Preparing CSV export..."),n.bookingTrends.length===0){d("No booking data available to export"),setTimeout(()=>d(""),3e3);return}const te=a==="week"?"weekly":a==="month"?"monthly":"yearly",L=[["Date","Bookings"]];n.bookingTrends.forEach(ne=>{L.push([ne.date,ne.count.toString()])});const C=L.map(ne=>ne.map(de=>de&&(String(de).includes(",")||String(de).includes('"')||String(de).includes(`
`))?`"${String(de).replace(/"/g,'""')}"`:de).join(",")).join(`
`),B=new Blob([C],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(B),j=document.createElement("a");j.setAttribute("href",z);const P=new Date,O=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`;j.setAttribute("download",`vehicle_rental_${te}_report_${O}.csv`),document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(z),d("CSV exported successfully!"),setTimeout(()=>d(""),3e3)}catch(te){console.error("Error exporting CSV:",te),d("Error exporting CSV: "+te.message),setTimeout(()=>d(""),5e3)}};se.useEffect(()=>{b()},[a]);const b=async()=>{try{r(!0),s("");const te=new Date,L=new Date(te),C=new Date(te);a==="week"?C.setDate(te.getDate()-7):a==="month"?C.setMonth(te.getMonth()-1):C.setMonth(te.getMonth()-3),C>L&&C.setTime(L.getTime());const[B,z,j]=await Promise.all([Yn(Cn(Lt,"bookings")),Yn(Cn(Lt,"vehicles")),Yn(Cn(Lt,"users"))]),P=B.docs.map(Ne=>({id:Ne.id,...Ne.data()})),O=z.docs.map(Ne=>({id:Ne.id,...Ne.data()})),ne=P.filter(Ne=>{const Me=_s(Ne.createdAt);return Me&&Me>=C}),de=P.length,ye=P.reduce((Ne,Me)=>Ne+(Me.totalPrice||0),0),oe=P.filter(Ne=>["pending","confirmed"].includes(Ne.status)).length,ae=ne.reduce((Ne,Me)=>Ne+(Me.totalPrice||0),0),ge=T(ne,O),me=E(ne),Z=M(ne,O),{averageLeadTime:V,leadTimeTrends:K}=q(ne),ee=re(ne),ce=J(ne,a),fe=v(P,a),Se=S(P,z.docs,C,L),_e=A(j.docs,a);e({totalBookings:de,totalRevenue:ye,activeBookings:oe,totalVehicles:z.size,totalUsers:j.size,monthlyRevenue:ae,bookingTrends:fe,vehicleUtilization:Se,userGrowth:_e,revenuePerVehicle:ge,averageBookingDuration:me,vehicleTypePerformance:Z,averageLeadTime:V,cancellationRate:ee,bookingDurationTrends:ce,leadTimeTrends:K})}catch(te){s("Failed to load analytics: "+te.message),console.error(te)}finally{r(!1)}},v=(te,L)=>{const C=new Date,B=[];if(L==="week")for(let z=6;z>=0;z--){const j=new Date(C);j.setDate(j.getDate()-z);const P=te.filter(O=>{const ne=_s(O.createdAt);return ne&&ne.toDateString()===j.toDateString()});B.push({date:j.toLocaleDateString("en-US",{weekday:"short"}),count:P.length})}else{const z=L==="month"?1:3;for(let j=z-1;j>=0;j--){const P=new Date(C);P.setMonth(P.getMonth()-j);const O=te.filter(ne=>{const de=_s(ne.createdAt);return de&&de.getMonth()===P.getMonth()&&de.getFullYear()===P.getFullYear()});B.push({date:P.toLocaleDateString("en-US",{month:"short"}),count:O.length})}}return B},S=(te,L,C,B)=>{const z={},j=B.getTime()-C.getTime(),P=Math.max(1,Math.ceil(j/(1e3*60*60*24)));return L.forEach(O=>{var ge;const ne=O.id,de=((ge=O.data())==null?void 0:ge.name)||`Vehicle ${ne}`,oe=te.filter(me=>me.vehicleId===ne).reduce((me,Z)=>{const V=_s(Z.startDate),K=_s(Z.endDate);if(!V||!K||K<=C||V>=B)return me;const ee=new Date(Math.max(V.getTime(),C.getTime())),fe=new Date(Math.min(K.getTime(),B.getTime())).getTime()-ee.getTime(),Se=Math.ceil(fe/(1e3*60*60*24));return me+Math.max(0,Se)},0),ae=P>0?oe/P*100:0;z[de]=Math.min(100,Math.max(0,ae))}),Object.entries(z).sort(([,O],[,ne])=>ne-O).slice(0,5)},A=(te,L)=>{const C=new Date,B=[],z=new Date;if(L==="week"?z.setDate(C.getDate()-7):z.setMonth(C.getMonth()-(L==="month"?1:3)),L==="week")for(let j=6;j>=0;j--){const P=new Date(C);P.setDate(P.getDate()-j);const O=te.filter(ne=>{var ye;const de=_s((ye=ne.data())==null?void 0:ye.createdAt);return de&&de.toDateString()===P.toDateString()});B.push({date:P.toLocaleDateString("en-US",{weekday:"short"}),count:O.length})}else{const j=L==="month"?1:3;for(let P=j-1;P>=0;P--){const O=new Date(C);O.setMonth(O.getMonth()-P);const ne=te.filter(de=>{var oe;const ye=_s((oe=de.data())==null?void 0:oe.createdAt);return ye&&ye.getMonth()===O.getMonth()&&ye.getFullYear()===O.getFullYear()});B.push({date:O.toLocaleDateString("en-US",{month:"short"}),count:ne.length})}}return B},T=(te,L)=>{const C={};return L.forEach(B=>{const z=te.filter(j=>j.vehicleId===B.id);C[B.name]=z.reduce((j,P)=>j+(P.totalPrice||0),0)}),Object.entries(C).sort(([,B],[,z])=>z-B).slice(0,5)},E=te=>te.length===0?0:te.reduce((C,B)=>{const z=_s(B.startDate),j=_s(B.endDate);return!z||!j?C:C+Math.ceil((j-z)/(1e3*60*60*24))},0)/te.length,M=(te,L)=>{const C={};return te.forEach(B=>{const z=L.find(j=>j.id===B.vehicleId);z&&z.type&&(C[z.type]||(C[z.type]={bookings:0,revenue:0}),C[z.type].bookings++,C[z.type].revenue+=B.totalPrice||0)}),Object.entries(C)},q=te=>{const L=[];let C=0;const B=[];te.forEach(j=>{const P=_s(j.createdAt),O=_s(j.startDate);if(P&&O){const ne=Math.ceil((O-P)/864e5);L.push(ne),C+=ne}});const z={};return te.forEach(j=>{const P=_s(j.createdAt);if(P){const O=uB(P,"yyyy-MM-dd");z[O]||(z[O]=[]);const ne=_s(j.startDate);if(ne){const de=Math.ceil((ne-P)/864e5);z[O].push(de)}}}),Object.entries(z).forEach(([j,P])=>{const O=P.reduce((ne,de)=>ne+de,0)/P.length;B.push({date:j,avgLeadTime:O})}),{averageLeadTime:L.length?C/L.length:0,leadTimeTrends:B.sort((j,P)=>new Date(j.date)-new Date(P.date))}},re=te=>te.length===0?0:te.filter(C=>C.status==="cancelled").length/te.length*100,J=(te,L)=>{const C=[],B=new Date;if(L==="week")for(let z=6;z>=0;z--){const j=new Date(B);j.setDate(j.getDate()-z);const P=te.filter(ne=>{const de=_s(ne.createdAt);return de&&de.toDateString()===j.toDateString()}),O=P.length?E(P):0;C.push({date:j.toLocaleDateString("en-US",{weekday:"short"}),avgDuration:O})}else{const z=L==="month"?1:3;for(let j=z-1;j>=0;j--){const P=new Date(B);P.setMonth(P.getMonth()-j);const O=te.filter(de=>{const ye=_s(de.createdAt);return ye&&ye.getMonth()===P.getMonth()&&ye.getFullYear()===P.getFullYear()}),ne=O.length?E(O):0;C.push({date:P.toLocaleDateString("en-US",{month:"short"}),avgDuration:ne})}}return C};return t?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):i?h.jsx("div",{className:"bg-red-500/10 text-red-400 p-4 rounded-lg border border-red-500/20",children:i}):h.jsxs("div",{className:"container mx-auto p-4 no-print",children:[u&&h.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 no-print",children:u}),h.jsxs("div",{className:"analytics-content",children:[h.jsxs("div",{className:"print-header hidden print:block mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-center",children:"Vehicle Rental Analytics Report"}),h.jsx("p",{className:"text-center text-gray-600",children:a==="week"?"Weekly Report - Last 7 days":a==="month"?"Monthly Report - Last 4 weeks":"Yearly Report - Last 6 months"}),h.jsxs("p",{className:"text-center text-gray-600",children:["Generated on ",new Date().toLocaleDateString()]})]}),h.jsxs("div",{className:"flex justify-between items-center mb-6 no-print",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),h.jsxs("div",{className:"space-x-2",children:[h.jsxs("div",{className:"inline-flex space-x-2 mr-4",children:[h.jsx("button",{onClick:()=>l("week"),className:`px-3 py-1 rounded-md ${a==="week"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Weekly"}),h.jsx("button",{onClick:()=>l("month"),className:`px-3 py-1 rounded-md ${a==="month"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Monthly"}),h.jsx("button",{onClick:()=>l("quarter"),className:`px-3 py-1 rounded-md ${a==="quarter"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Quarter"})]}),h.jsxs("button",{onClick:()=>{r(!0),s(""),setTimeout(()=>{(async()=>{try{const L=new Date;let C;a==="week"?(C=new Date(L),C.setDate(L.getDate()-7)):a==="month"?(C=new Date(L),C.setMonth(L.getMonth()-1)):a==="quarter"&&(C=new Date(L),C.setMonth(L.getMonth()-3));const z=(await Yn(Cn(Lt,"bookings"))).docs.map(P=>({id:P.id,...P.data()}));console.log(`Refreshed: Fetched ${z.length} total bookings`);const j=z.filter(P=>{try{let O;if(P.createdAt instanceof Ar)O=P.createdAt.toDate();else if(P.createdAt instanceof Date)O=P.createdAt;else if(typeof P.createdAt=="string")O=new Date(P.createdAt);else return!1;return O>=C}catch(O){return console.error("Error filtering booking by date:",O),!1}});console.log(`Refreshed: Filtered to ${j.length} bookings for the ${a} period`),j.length===0?s("No booking data found for the selected time period. You may need to adjust the time range or add more bookings."):s(""),b()}catch(L){console.error("Error refreshing data:",L),s("Failed to refresh analytics data: "+L.message)}finally{r(!1)}})()},500)},className:"bg-indigo-500 hover:bg-indigo-600 text-white px-3 py-1 rounded",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 inline mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),h.jsxs("button",{onClick:p,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",disabled:t,children:[h.jsx(__,{className:"inline mr-2"})," Print Report"]}),h.jsxs("button",{onClick:y,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",disabled:t,children:[h.jsx(uA,{className:"inline mr-2"})," Export CSV"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 print-cols",children:[h.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-blue-500",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Revenue"}),h.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["",n.totalRevenue.toLocaleString()]})]}),h.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:h.jsx(ph,{className:"text-blue-500 text-xl"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-green-500",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Bookings"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:n.totalBookings})]}),h.jsx("div",{className:"rounded-full bg-green-100 p-3",children:h.jsx(Mo,{className:"text-green-500 text-xl"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-purple-500",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Vehicles"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:n.totalVehicles})]}),h.jsx("div",{className:"rounded-full bg-purple-100 p-3",children:h.jsx(ba,{className:"text-purple-500 text-xl"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-yellow-500",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Top Vehicle"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 truncate",style:{maxWidth:"180px"},children:n.vehicleUtilization.length>0?n.vehicleUtilization[0][0]:"N/A"})]}),h.jsx("div",{className:"rounded-full bg-yellow-100 p-3",children:h.jsx(jy,{className:"text-yellow-500 text-xl"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-indigo-500",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Avg. Booking Duration"}),h.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[n.averageBookingDuration.toFixed(1)," days"]})]}),h.jsx("div",{className:"rounded-full bg-indigo-100 p-3",children:h.jsx(pA,{className:"text-indigo-500 text-xl"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-pink-500",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Avg. Lead Time"}),h.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[n.averageLeadTime.toFixed(1)," days"]})]}),h.jsx("div",{className:"rounded-full bg-pink-100 p-3",children:h.jsx(Ah,{className:"text-pink-500 text-xl"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-red-500",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Cancellation Rate"}),h.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[n.cancellationRate.toFixed(1),"%"]})]}),h.jsx("div",{className:"rounded-full bg-red-100 p-3",children:h.jsx(rA,{className:"text-red-500 text-xl"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-orange-500",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Top Vehicle Revenue"}),h.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["",n.revenuePerVehicle.length>0?n.revenuePerVehicle[0][1].toLocaleString():"0"]})]}),h.jsx("div",{className:"rounded-full bg-orange-100 p-3",children:h.jsx(ph,{className:"text-orange-500 text-xl"})})]})})]}),t?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md charts-container",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Overview"}),h.jsx("div",{className:"h-80",children:n.bookingTrends.length>0?h.jsx(rh,{data:{labels:n.bookingTrends.map(te=>te.date),datasets:[{label:"Bookings",data:n.bookingTrends.map(te=>te.count),backgroundColor:"rgba(53, 162, 235, 0.5)",borderColor:"rgba(53, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:`Bookings ${a==="week"?"This Week":a==="month"?"This Month":"This Quarter"}`}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Bookings"}}}}}):h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("p",{className:"text-gray-500 mb-3",children:"No booking data available"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting the time period or adding more bookings"})]})})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md charts-container",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Vehicle Type Performance"}),h.jsx("div",{className:"h-80",children:n.vehicleTypePerformance.length>0?h.jsx(rh,{data:{labels:n.vehicleTypePerformance.map(([te])=>te),datasets:[{label:"Bookings",data:n.vehicleTypePerformance.map(([,te])=>te.bookings),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,yAxisID:"y"},{label:"Revenue ()",data:n.vehicleTypePerformance.map(([,te])=>te.revenue),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Bookings and Revenue by Vehicle Type"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Number of Bookings"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Revenue ()"},grid:{drawOnChartArea:!1}}}}}):h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("p",{className:"text-gray-500 mb-3",children:"No vehicle type data available"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Add vehicle types to see performance"})]})})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md charts-container",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Vehicle Utilization"}),h.jsx("div",{className:"h-64",children:n.vehicleUtilization.length>0?h.jsx(rh,{data:{labels:n.vehicleUtilization.map(te=>te[0]),datasets:[{label:"Utilization %",data:n.vehicleUtilization.map(te=>te[1]),backgroundColor:["rgba(75, 192, 192, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Top 5 Vehicle Utilization"},tooltip:{callbacks:{label:function(te){let L=te.dataset.label||"";return L&&(L+=": "),te.parsed.x!==null&&(L+=te.parsed.x.toFixed(2)+"%"),L}}}},scales:{x:{beginAtZero:!0,max:100,title:{display:!0,text:"Utilization Percentage"}},y:{title:{display:!1}}}}}):h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("p",{className:"text-gray-500 mb-3",children:"No utilization data available"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Add more bookings to see which vehicles are most popular"})]})})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md charts-container",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top 5 Revenue Generating Vehicles"}),h.jsx("div",{className:"h-64",children:n.revenuePerVehicle.length>0?h.jsx(rh,{data:{labels:n.revenuePerVehicle.map(te=>te[0]),datasets:[{label:"Revenue ()",data:n.revenuePerVehicle.map(te=>te[1]),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{title:{display:!0,text:"Revenue ()"}}}}}):h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("p",{className:"text-gray-500 mb-3",children:"No revenue data available"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Add bookings to see revenue per vehicle"})]})})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md charts-container",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Average Booking Duration Trends"}),h.jsx("div",{className:"h-64",children:n.bookingDurationTrends.length>0?h.jsx(rh,{data:{labels:n.bookingDurationTrends.map(te=>te.date),datasets:[{label:"Average Duration (days)",data:n.bookingDurationTrends.map(te=>te.avgDuration),backgroundColor:"rgba(153, 102, 255, 0.5)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Average Duration (days)"}}}}}):h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("p",{className:"text-gray-500 mb-3",children:"No booking duration data available"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Add bookings to see duration trends"})]})})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md charts-container",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Booking Lead Time Trends"}),h.jsx("div",{className:"h-64",children:n.leadTimeTrends.length>0?h.jsx(rh,{data:{labels:n.leadTimeTrends.map(te=>te.date),datasets:[{label:"Average Lead Time (days)",data:n.leadTimeTrends.map(te=>te.avgLeadTime),backgroundColor:"rgba(255, 159, 64, 0.5)",borderColor:"rgba(255, 159, 64, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Average Lead Time (days)"}}}}}):h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("p",{className:"text-gray-500 mb-3",children:"No lead time data available"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Add bookings to see lead time trends"})]})})})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8 charts-container",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Growth"}),h.jsx("div",{className:"h-64",children:n.userGrowth.length>0?h.jsx(rh,{data:{labels:n.userGrowth.map(te=>te.date),datasets:[{label:"New Users",data:n.userGrowth.map(te=>te.count),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"New Users"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Users"}}}}}):h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("p",{className:"text-gray-500 mb-3",children:"No user growth data available"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Add more users to see the growth"})]})})})]}),h.jsxs("div",{className:"analytics-summary bg-white p-6 rounded-lg shadow-md mb-8",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Analytics Summary"}),h.jsxs("p",{children:[h.jsx("strong",{children:"Total Vehicles:"})," ",n.totalVehicles]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Total Bookings:"})," ",n.totalBookings]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Time Period:"})," ",a==="week"?"Last 7 days":a==="month"?"Last 4 weeks":"Last 3 months"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Total Revenue:"})," ",n.totalRevenue.toLocaleString()]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Most Popular Vehicle:"})," ",n.vehicleUtilization.length>0?n.vehicleUtilization[0][0]:"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Report Generated:"})," ",new Date().toLocaleString()]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Average Booking Duration:"})," ",n.averageBookingDuration.toFixed(1)," days"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Average Lead Time:"})," ",n.averageLeadTime.toFixed(1)," days"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Cancellation Rate:"})," ",n.cancellationRate.toFixed(1),"%"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Top Revenue Vehicle:"})," ",n.revenuePerVehicle.length>0?`${n.revenuePerVehicle[0][0]} (${n.revenuePerVehicle[0][1].toLocaleString()})`:"N/A"]})]})]})]})]})},fB=({loading:n,setLoading:e,message:t,setMessage:r,vehicles:i})=>{const{user:s}=qo(),[a,l]=se.useState(!1),[u,d]=se.useState(!1),[p,y]=se.useState(!1),[b,v]=se.useState(null),[S,A]=se.useState({name:"",type:"car",pricePerDay:"",description:"",imageUrl:"",available:!0}),[T,E]=se.useState(!1),[M,q]=se.useState(null),[re,J]=se.useState(null),te=async()=>{try{e(!0),r("Removing vehicles...");const O=(await Yn(Cn(Lt,"vehicles"))).docs.map(ne=>ne.id);for(const ne of O)await Tp(Er(Lt,"vehicles",ne));r("Successfully removed all vehicles!")}catch(P){console.error("Error removing vehicles:",P),r("Error removing vehicles: "+P.message)}finally{e(!1)}},L=async()=>{try{e(!0),r("Updating vehicle details...");const P=await Yn(Cn(Lt,"vehicles"));for(const O of P.docs){const ne=O.data();await vc(O.ref,{...ne,updatedAt:Ar.now()})}r("Successfully updated all vehicle details!")}catch(P){console.error("Error updating vehicles:",P),r("Error updating vehicles: "+P.message)}finally{e(!1)}},C=async()=>{try{e(!0),r("Removing duplicate vehicles..."),await P9(),r("Successfully removed duplicate vehicles!")}catch(P){console.error("Error removing duplicates:",P),r("Error removing duplicates: "+P.message)}finally{e(!1)}},B=async P=>{P.preventDefault();try{e(!0),r("Adding vehicle..."),await Cv(Cn(Lt,"vehicles"),S),r("Successfully added vehicle!"),l(!1)}catch(O){console.error("Error adding vehicle:",O),r("Error adding vehicle: "+O.message)}finally{e(!1)}},z=P=>{const{name:O,value:ne,type:de,checked:ye}=P.target;A(oe=>({...oe,[O]:de==="checkbox"?ye:ne}))},j=async()=>{E(!0),q(null),J(null);try{console.log("Starting data migration from Admin component..."),await L9()?(console.log("Migration completed successfully"),J("Vehicle data migrated successfully!")):(console.error("Migration failed"),q("Failed to migrate vehicle data. Please check the console for details."))}catch(P){console.error("Error in handleMigrateData:",P),q("Error migrating vehicle data: "+P.message)}finally{E(!1)}};return h.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600 mb-6",children:"Database Management"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx("div",{className:"bg-gray-700/30 backdrop-blur-lg rounded-xl border border-gray-600/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"p-3 bg-green-500/10 rounded-full",children:h.jsx(ba,{className:"text-2xl text-green-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Add Vehicles"}),h.jsx("p",{className:"text-gray-300 mb-4",children:"Add a new vehicle to the database."}),h.jsx("button",{onClick:()=>l(!0),className:"bg-green-500/10 text-green-400 px-4 py-2 rounded-lg hover:bg-green-500/20 transition-colors duration-300",children:"Add Vehicle"})]})]})}),h.jsx("div",{className:"bg-gray-700/30 backdrop-blur-lg rounded-xl border border-gray-600/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"p-3 bg-red-500/10 rounded-full",children:h.jsx(S_,{className:"text-2xl text-red-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Remove Vehicles"}),h.jsx("p",{className:"text-gray-300 mb-4",children:"Remove all vehicles from the database. This action cannot be undone."}),h.jsx("button",{onClick:te,disabled:n,className:"bg-red-500/10 text-red-400 px-4 py-2 rounded-lg hover:bg-red-500/20 transition-colors duration-300 disabled:opacity-50",children:n?"Removing...":"Remove All Vehicles"})]})]})}),h.jsx("div",{className:"bg-gray-700/30 backdrop-blur-lg rounded-xl border border-gray-600/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"p-3 bg-blue-500/10 rounded-full",children:h.jsx(Kg,{className:"text-2xl text-blue-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Update Vehicle Details"}),h.jsx("p",{className:"text-gray-300 mb-4",children:"Update all vehicle details with the latest information."}),h.jsx("button",{onClick:L,disabled:n,className:"bg-blue-500/10 text-blue-400 px-4 py-2 rounded-lg hover:bg-blue-500/20 transition-colors duration-300 disabled:opacity-50",children:n?"Updating...":"Update All Vehicles"})]})]})}),h.jsx("div",{className:"bg-gray-700/30 backdrop-blur-lg rounded-xl border border-gray-600/30 p-6 transform hover:scale-[1.02] transition-all duration-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-full",children:h.jsx(Yg,{className:"text-2xl text-yellow-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Remove Duplicates"}),h.jsx("p",{className:"text-gray-300 mb-4",children:"Remove duplicate vehicles from the database based on matching criteria."}),h.jsx("button",{onClick:C,disabled:n,className:"bg-yellow-500/10 text-yellow-400 px-4 py-2 rounded-lg hover:bg-yellow-500/20 transition-colors duration-300 disabled:opacity-50",children:n?"Removing...":"Remove Duplicates"})]})]})}),h.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-white",children:"Vehicle Data Migration"}),h.jsx(aA,{className:"text-blue-400 text-2xl"})]}),h.jsx("p",{className:"text-gray-300 mb-4",children:"Migrate vehicle data from JSON files to Firebase database."}),h.jsx("button",{onClick:j,disabled:T,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2 px-4 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Migrating...":"Migrate Data"}),M&&h.jsx("p",{className:"mt-4 text-red-400 text-sm",children:M}),re&&h.jsx("p",{className:"mt-4 text-green-400 text-sm",children:re})]})]}),t&&h.jsx("div",{className:`mt-6 p-4 rounded-lg ${t.includes("Error")?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-green-500/10 text-green-400 border border-green-500/20"}`,children:t}),a&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-lg rounded-2xl border border-gray-700/30 p-6 max-w-lg w-full mx-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Add New Vehicle"}),h.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-2",children:"Vehicle Name"}),h.jsx("input",{type:"text",name:"name",value:S.name,onChange:z,className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-2",children:"Vehicle Type"}),h.jsxs("select",{name:"type",value:S.type,onChange:z,className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0,children:[h.jsx("option",{value:"car",children:"Car"}),h.jsx("option",{value:"bike",children:"Bike"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-2",children:"Price Per Day ()"}),h.jsx("input",{type:"number",name:"pricePerDay",value:S.pricePerDay,onChange:z,className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-2",children:"Description"}),h.jsx("textarea",{name:"description",value:S.description,onChange:z,className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-pink-500",rows:"3",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-300 mb-2",children:"Image URL"}),h.jsx("input",{type:"url",name:"imageUrl",value:S.imageUrl,onChange:z,className:"w-full bg-gray-700/50 border border-gray-600/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",name:"available",checked:S.available,onChange:z,className:"mr-2"}),h.jsx("label",{className:"text-gray-300",children:"Available for Rent"})]}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-700/50 text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-700/70 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:n,className:"bg-green-500/10 text-green-400 px-4 py-2 rounded-lg hover:bg-green-500/20 transition-colors duration-300 disabled:opacity-50",children:n?"Adding...":"Add Vehicle"})]})]})]})})]})},pB=()=>{const[n,e]=se.useState("dashboard"),[t,r]=se.useState(!1),[i,s]=se.useState(""),[a,l]=se.useState([]),{user:u,isAdmin:d}=qo();if(se.useEffect(()=>{(async()=>{try{const b=await MR();console.log("Available vehicles for test booking:",b),l(b.slice(0,5))}catch(b){console.error("Error loading vehicles for test booking:",b)}})()},[]),!d())return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:[h.jsx(is,{variant:"default"}),h.jsxs("div",{className:"bg-red-500/10 backdrop-blur-lg p-6 rounded-xl border border-red-500/20",children:[h.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:"Access Denied"}),h.jsx("p",{className:"text-gray-300",children:"You do not have permission to access the admin dashboard."})]})]});const p={dashboard:h.jsxs(h.Fragment,{children:[h.jsx(M9,{}),h.jsx(fB,{loading:t,setLoading:r,message:i,setMessage:s,vehicles:a})]}),vehicles:h.jsx(O9,{}),bookings:h.jsx(F9,{}),users:h.jsx(V9,{}),analytics:h.jsx(dB,{})};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:[h.jsx(is,{variant:"default"}),h.jsxs("div",{className:"container mx-auto px-4 py-16 relative z-10",children:[h.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600 mb-8",children:"Admin Dashboard"}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[h.jsxs("button",{onClick:()=>e("dashboard"),className:`flex items-center py-2 px-4 rounded-xl transition-all duration-300 ${n==="dashboard"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-gray-800/30 backdrop-blur-lg text-gray-300 hover:bg-gray-700/50"}`,children:[h.jsx(Ry,{className:"mr-2"})," Dashboard"]}),h.jsxs("button",{onClick:()=>e("vehicles"),className:`flex items-center py-2 px-4 rounded-xl transition-all duration-300 ${n==="vehicles"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-gray-800/30 backdrop-blur-lg text-gray-300 hover:bg-gray-700/50"}`,children:[h.jsx(ba,{className:"mr-2"})," Vehicles"]}),h.jsxs("button",{onClick:()=>e("bookings"),className:`flex items-center py-2 px-4 rounded-xl transition-all duration-300 ${n==="bookings"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-gray-800/30 backdrop-blur-lg text-gray-300 hover:bg-gray-700/50"}`,children:[h.jsx(Mo,{className:"mr-2"})," Bookings"]}),h.jsxs("button",{onClick:()=>e("users"),className:`flex items-center py-2 px-4 rounded-xl transition-all duration-300 ${n==="users"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-gray-800/30 backdrop-blur-lg text-gray-300 hover:bg-gray-700/50"}`,children:[h.jsx(Xg,{className:"mr-2"})," Users"]}),h.jsxs("button",{onClick:()=>e("analytics"),className:`flex items-center py-2 px-4 rounded-xl transition-all duration-300 ${n==="analytics"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-gray-800/30 backdrop-blur-lg text-gray-300 hover:bg-gray-700/50"}`,children:[h.jsx(jy,{className:"mr-2"})," Analytics"]})]}),p[n]]})]})},mB=({receipt:n})=>{if(!n)return null;const e=r=>new Date(r).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}),t=r=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(r);return h.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden print:shadow-none",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.company.name}),h.jsx("p",{className:"text-sm text-gray-500",children:n.company.address})]}),h.jsx("button",{onClick:()=>window.print(),className:"print:hidden text-blue-600 hover:text-blue-800",children:h.jsx(__,{size:20})})]}),h.jsxs("div",{className:"mb-6 flex justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Receipt Number"}),h.jsx("p",{className:"font-medium",children:n.receiptNumber})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),h.jsx("p",{className:"font-medium",children:e(n.date)})]})]}),h.jsx("div",{className:"bg-green-50 text-green-800 px-4 py-2 rounded-md mb-6 font-medium",children:n.status}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-gray-500 text-sm mb-2",children:"Customer Information"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs",children:"Name"}),h.jsx("p",{className:"font-medium",children:n.customer.name})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs",children:"Email"}),h.jsx("p",{className:"font-medium",children:n.customer.email})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-gray-500 text-sm mb-2",children:"Booking Details"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs",children:"Booking ID"}),h.jsx("p",{className:"font-medium",children:n.booking.id})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs",children:"Vehicle"}),h.jsx("p",{className:"font-medium",children:n.booking.vehicle})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs",children:"Period"}),h.jsxs("p",{className:"font-medium",children:[e(n.booking.startDate)," - ",e(n.booking.endDate)]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs",children:"Duration"}),h.jsx("p",{className:"font-medium",children:n.booking.duration})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-gray-500 text-sm mb-2",children:"Payment Summary"}),h.jsx("table",{className:"w-full",children:h.jsxs("tbody",{className:"divide-y divide-gray-200",children:[h.jsxs("tr",{children:[h.jsx("td",{className:"py-2",children:"Vehicle Rental"}),h.jsx("td",{className:"py-2 text-right",children:t(n.payment.subtotal)})]}),h.jsxs("tr",{children:[h.jsx("td",{className:"py-2",children:"Tax (18% GST)"}),h.jsx("td",{className:"py-2 text-right",children:t(n.payment.tax)})]}),h.jsxs("tr",{className:"font-bold",children:[h.jsx("td",{className:"py-2",children:"Total"}),h.jsx("td",{className:"py-2 text-right",children:t(n.payment.total)})]})]})})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs",children:"Payment ID"}),h.jsx("p",{className:"font-medium",children:n.payment.id})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs",children:"Payment Method"}),h.jsx("p",{className:"font-medium",children:n.payment.method})]})]})}),h.jsxs("div",{className:"border-t pt-4 text-center text-gray-500 text-sm",children:[h.jsx("p",{children:"Thank you for your business!"}),h.jsxs("p",{children:["For any queries, please contact us at ",n.company.email]})]})]})})},gB=()=>{const{id:n}=Ay(),e=kl();As();const{user:t}=qo(),[r,i]=se.useState(null),[s,a]=se.useState(null),[l,u]=se.useState(!0),[d,p]=se.useState(""),[y,b]=se.useState(!1),[v,S]=se.useState(null);se.useEffect(()=>{t&&n&&(async()=>{try{u(!0),p("");const M=await mN(n);if(!M){p("Booking not found");return}if(M.userId!==t.uid){p("You are not authorized to view this booking");return}const q=await S0(M.vehicleId);if(i(M),a(q),M.paymentStatus==="paid"){b(!0);const re=hw({...M,vehicle:q},{paymentId:M.paymentId||"N/A"});S(re)}}catch(M){console.error("Error fetching booking:",M),p("Failed to load booking details")}finally{u(!1)}})()},[n,t]);const A=E=>{var q;console.log("Payment successful:",E),b(!0);const M=hw({...r,vehicle:s},{paymentId:((q=E==null?void 0:E.paymentDetails)==null?void 0:q.paymentId)||"RZP"+Math.random().toString(36).substring(2,10),amount:r.totalPrice});S(M)},T=E=>{console.error("Payment error:",E),p("Payment failed: "+E.message),setTimeout(()=>{p("")},5e3)};return l?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):d?h.jsxs("div",{className:"container py-12 px-4 mx-auto",children:[h.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:h.jsx("p",{children:d})}),h.jsxs("button",{onClick:()=>e("/my-bookings"),className:"flex items-center text-blue-600 hover:text-blue-800",children:[h.jsx(wf,{className:"mr-2"})," Go to My Bookings"]})]}):!r||!s?h.jsxs("div",{className:"container py-12 px-4 mx-auto",children:[h.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6",children:h.jsx("p",{children:"Booking information not available"})}),h.jsxs("button",{onClick:()=>e("/my-bookings"),className:"flex items-center text-blue-600 hover:text-blue-800",children:[h.jsx(wf,{className:"mr-2"})," Go to My Bookings"]})]}):y?h.jsx("div",{className:"container py-12 px-4 mx-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 p-4 mb-6 flex items-center",children:[h.jsx(Cy,{className:"mr-2"}),h.jsx("p",{children:"Payment successful! Thank you for your purchase."})]}),v&&h.jsx(mB,{receipt:v}),h.jsx("div",{className:"mt-6 flex justify-center",children:h.jsxs("button",{onClick:()=>e("/my-bookings"),className:"flex items-center text-blue-600 hover:text-blue-800",children:[h.jsx(wf,{className:"mr-2"})," Go to My Bookings"]})})]})}):h.jsx("div",{className:"container py-12 px-4 mx-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("button",{onClick:()=>e("/my-bookings"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-8",children:[h.jsx(wf,{className:"mr-2"})," Back to My Bookings"]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-8",children:[h.jsxs("div",{className:"p-6 bg-blue-50 border-b",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Complete Your Payment"}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Booking ID: ",r.id]})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Booking Details"}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Vehicle"}),h.jsx("p",{className:"font-medium",children:s.name})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Booking Period"}),h.jsxs("p",{className:"font-medium",children:[new Date(r.startDate).toLocaleDateString()," - ",new Date(r.endDate).toLocaleDateString()]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),h.jsxs("p",{className:"font-medium",children:[new Date(r.startDate).toLocaleTimeString()," - ",new Date(r.endDate).toLocaleTimeString()]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),h.jsxs("p",{className:"font-medium",children:[Math.ceil((new Date(r.endDate)-new Date(r.startDate))/(1e3*60*60))," hours"]})]})]})})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Payment Summary"}),h.jsx("div",{className:"border rounded-lg overflow-hidden",children:h.jsx("table",{className:"w-full",children:h.jsxs("tbody",{className:"divide-y divide-gray-200",children:[h.jsxs("tr",{children:[h.jsx("td",{className:"px-4 py-3 text-gray-500",children:"Subtotal"}),h.jsxs("td",{className:"px-4 py-3 text-right",children:["",r.totalPrice.toFixed(2)]})]}),h.jsxs("tr",{children:[h.jsx("td",{className:"px-4 py-3 text-gray-500",children:"Tax (18% GST)"}),h.jsxs("td",{className:"px-4 py-3 text-right",children:["",(r.totalPrice*.18).toFixed(2)]})]}),h.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[h.jsx("td",{className:"px-4 py-3",children:"Total"}),h.jsxs("td",{className:"px-4 py-3 text-right",children:["",(r.totalPrice*1.18).toFixed(2)]})]})]})})})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Method"}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(pp,{className:"text-blue-500 mr-2"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:"Pay with Razorpay"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Secure online payment"})]})]})}),h.jsx(NL,{booking:{...r,vehicle:s,totalPrice:Math.round(r.totalPrice*1.18*100)/100},onPaymentSuccess:A,onPaymentError:T})]})]})]})]})})},yB=async n=>{try{const e=ks(Cn(Lt,"users"),Xs("email","==",n)),t=await Yn(e);if(t.empty)throw new Error(`No user found with email: ${n}`);const i=t.docs[0].id;return await vc(Er(Lt,"users",i),{role:"admin",updatedAt:I7()}),{success:!0,message:`User ${n} is now an admin`,userId:i}}catch(e){throw console.error("Error making user an admin:",e),e}},vB=()=>{const[n,e]=se.useState(""),[t,r]=se.useState(!1),[i,s]=se.useState(""),[a,l]=se.useState(""),{user:u}=qo(),d=async p=>{if(p.preventDefault(),!n){l("Please enter an email address");return}try{r(!0),l(""),s("");const y=await yB(n);s(y.message),u&&u.email===n&&s(b=>`${b}. Please sign out and sign back in to refresh your permissions.`)}catch(y){l(y.message)}finally{r(!1)}};return h.jsx("div",{className:"container py-12",children:h.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Make User Admin"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"This page is for development purposes. Enter an email address to make that user an admin."}),h.jsxs("form",{onSubmit:d,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"Email Address"}),h.jsx("input",{type:"email",id:"email",value:n,onChange:p=>e(p.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"user@example.com"})]}),h.jsx("button",{type:"submit",disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",children:t?"Processing...":"Make Admin"})]}),a&&h.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-500 p-4 text-red-700",children:h.jsx("p",{children:a})}),i&&h.jsx("div",{className:"mt-4 bg-green-50 border-l-4 border-green-500 p-4 text-green-700",children:h.jsx("p",{children:i})})]})})},Vm=({children:n})=>{const{user:e}=qo();return e?n:h.jsx(l8,{to:"/login",replace:!0})},xB=()=>(se.useEffect(()=>{const n=async()=>{try{console.log("BookingMonitor: Starting comprehensive booking check...");const t=await UR();t.length>0?console.log("BookingMonitor: Updated bookings:",t.map(r=>{var i;return{id:r.id,oldStatus:r.status,newStatus:(i=r.updates)==null?void 0:i.status,startDate:r.startDate,paymentStatus:r.paymentStatus}})):console.log("BookingMonitor: No bookings needed updates")}catch(t){console.error("BookingMonitor: Error checking bookings:",t)}};console.log("BookingMonitor: Component mounted, starting monitoring..."),n();const e=setInterval(n,30*1e3);return()=>{console.log("BookingMonitor: Component unmounting, cleaning up..."),clearInterval(e)}},[]),null);function bB(){return h.jsx(yR,{children:h.jsx(ER,{children:h.jsxs("div",{className:"min-h-screen bg-gray-100",children:[h.jsx(_R,{}),h.jsx(xB,{}),h.jsx("main",{className:"main-content",children:h.jsxs(u8,{children:[h.jsx(Zi,{path:"/",element:h.jsx(kR,{})}),h.jsx(Zi,{path:"/cars",element:h.jsx(TR,{})}),h.jsx(Zi,{path:"/bikes",element:h.jsx(IR,{})}),h.jsx(Zi,{path:"/about",element:h.jsx(PR,{})}),h.jsx(Zi,{path:"/contact",element:h.jsx(jR,{})}),h.jsx(Zi,{path:"/vehicle/:id",element:h.jsx(CR,{})}),h.jsx(Zi,{path:"/booking/:id",element:h.jsx(Vm,{children:h.jsx(HR,{})})}),h.jsx(Zi,{path:"/booking-success",element:h.jsx(Vm,{children:h.jsx(WR,{})})}),h.jsx(Zi,{path:"/payment/:id",element:h.jsx(Vm,{children:h.jsx(gB,{})})}),h.jsx(Zi,{path:"/login",element:h.jsx(gL,{})}),h.jsx(Zi,{path:"/register",element:h.jsx(yL,{})}),h.jsx(Zi,{path:"/my-bookings",element:h.jsx(Vm,{children:h.jsx(A9,{})})}),h.jsx(Zi,{path:"/admin",element:h.jsx(pB,{})}),h.jsx(Zi,{path:"/make-admin",element:h.jsx(vB,{})}),h.jsx(Zi,{path:"/location-not-served",element:h.jsx(E9,{})})]})}),h.jsx(NR,{})]})})})}xk.createRoot(document.getElementById("root")).render(h.jsx(Ga.StrictMode,{children:h.jsx(L8,{children:h.jsx(bB,{})})}));export{zn as _,_B as c,Wg as g};
